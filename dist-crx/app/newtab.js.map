{"version":3,"file":"newtab.js","sources":["../../src/crx/newtab/main.ts"],"sourcesContent":["import crxFrontend from \"../../frontend/main/crx-entry\";\nimport { loadSettings } from \"@rs-com/config/Settings\";\n\nconst mount = document.getElementById(\"app\") as HTMLElement | null;\n\nconst renderDisabled = () => {\n    const root = document.createElement(\"div\");\n    root.style.cssText =\n        \"width:100%;height:100%;display:grid;place-items:center;background:#0b0b0c;color:#f5f5f5;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;padding:24px;box-sizing:border-box;\";\n    const card = document.createElement(\"div\");\n    card.style.cssText =\n        \"max-width:680px;width:100%;border:1px solid rgba(255,255,255,0.14);border-radius:16px;padding:18px;background:rgba(255,255,255,0.04);display:grid;gap:10px;\";\n    const h = document.createElement(\"div\");\n    h.textContent = \"New Tab Page is disabled\";\n    h.style.cssText = \"font-size:18px;font-weight:700;\";\n    const p = document.createElement(\"div\");\n    p.textContent = \"Enable it in Extension Settings → \\\"Enable New Tab Page (offline Basic)\\\".\";\n    p.style.cssText = \"opacity:0.9;line-height:1.4;\";\n    const btn = document.createElement(\"button\");\n    btn.textContent = \"Open Extension Settings\";\n    btn.style.cssText =\n        \"justify-self:start;border:1px solid rgba(255,255,255,0.18);border-radius:12px;background:rgba(255,255,255,0.06);color:#f5f5f5;padding:10px 12px;cursor:pointer;\";\n    btn.addEventListener(\"click\", () => {\n        try {\n            chrome.runtime.openOptionsPage();\n        } catch {\n            // ignore\n        }\n    });\n\n    card.append(h, p, btn);\n    root.append(card);\n    mount?.replaceChildren(root);\n};\n\nvoid loadSettings()\n    .then((s) => {\n        if (!mount) return;\n        if (!s?.core?.ntpEnabled) {\n            renderDisabled();\n            return;\n        }\n        // Raw shell — no toolbar, just the viewer\n        crxFrontend(mount, { initialView: \"viewer\" });\n    })\n    .catch(() => renderDisabled());\n"],"names":[],"mappings":";;;;;;;;;;AAGA,MAAM,KAAA,GAAQ,QAAA,CAAS,cAAA,CAAe,KAAK,CAAA;AAE3C,MAAM,iBAAiB,MAAM;AACzB,EAAA,MAAM,IAAA,GAAO,QAAA,CAAS,aAAA,CAAc,KAAK,CAAA;AACzC,EAAA,IAAA,CAAK,MAAM,OAAA,GACP,4LAAA;AACJ,EAAA,MAAM,IAAA,GAAO,QAAA,CAAS,aAAA,CAAc,KAAK,CAAA;AACzC,EAAA,IAAA,CAAK,MAAM,OAAA,GACP,6JAAA;AACJ,EAAA,MAAM,CAAA,GAAI,QAAA,CAAS,aAAA,CAAc,KAAK,CAAA;AACtC,EAAA,CAAA,CAAE,WAAA,GAAc,0BAAA;AAChB,EAAA,CAAA,CAAE,MAAM,OAAA,GAAU,iCAAA;AAClB,EAAA,MAAM,CAAA,GAAI,QAAA,CAAS,aAAA,CAAc,KAAK,CAAA;AACtC,EAAA,CAAA,CAAE,WAAA,GAAc,0EAAA;AAChB,EAAA,CAAA,CAAE,MAAM,OAAA,GAAU,8BAAA;AAClB,EAAA,MAAM,GAAA,GAAM,QAAA,CAAS,aAAA,CAAc,QAAQ,CAAA;AAC3C,EAAA,GAAA,CAAI,WAAA,GAAc,yBAAA;AAClB,EAAA,GAAA,CAAI,MAAM,OAAA,GACN,iKAAA;AACJ,EAAA,GAAA,CAAI,gBAAA,CAAiB,SAAS,MAAM;AAChC,IAAA,IAAI;AACA,MAAA,MAAA,CAAO,QAAQ,eAAA,EAAgB;AAAA,IACnC,CAAA,CAAA,MAAQ;AAAA,IAER;AAAA,EACJ,CAAC,CAAA;AAED,EAAA,IAAA,CAAK,MAAA,CAAO,CAAA,EAAG,CAAA,EAAG,GAAG,CAAA;AACrB,EAAA,IAAA,CAAK,OAAO,IAAI,CAAA;AAChB,EAAA,KAAA,EAAO,gBAAgB,IAAI,CAAA;AAC/B,CAAA;AAEA,KAAK,YAAA,EAAa,CACb,IAAA,CAAK,CAAC,CAAA,KAAM;AACT,EAAA,IAAI,CAAC,KAAA,EAAO;AACZ,EAAA,IAAI,CAAC,CAAA,EAAG,IAAA,EAAM,UAAA,EAAY;AACtB,IAAA,cAAA,EAAe;AACf,IAAA;AAAA,EACJ;AAEA,EAAA,WAAA,CAAY,KAAA,EAAO,EAAE,WAAA,EAAa,QAAA,EAAU,CAAA;AAChD,CAAC,CAAA,CACA,KAAA,CAAM,MAAM,cAAA,EAAgB,CAAA"}