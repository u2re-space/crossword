{"version":3,"file":"index18.js","sources":["../../src/core/storage/index.ts"],"sourcesContent":["/**\n * Storage Module\n *\n * Unified storage utilities for persistent state.\n * Provides wrappers for localStorage, sessionStorage, and IndexedDB.\n */\n\n// ============================================================================\n// STORAGE KEYS\n// ============================================================================\n\n/**\n * Common storage keys used across the app\n */\nexport const StorageKeys = {\n    // User preferences\n    FRONTEND_CHOICE: \"rs-frontend-choice\",\n    FRONTEND_REMEMBER: \"rs-frontend-choice-remember\",\n    THEME: \"rs-theme\",\n    SETTINGS: \"rs-settings\",\n\n    // Boot preferences\n    BOOT_STYLE: \"rs-boot-style\",\n    BOOT_SHELL: \"rs-boot-shell\",\n    BOOT_VIEW: \"rs-boot-view\",\n    BOOT_REMEMBER: \"rs-boot-remember\",\n\n    // Shell preferences\n    SHELL_CHOICE: \"rs-shell-choice\",\n    SHELL_REMEMBER: \"rs-shell-remember\",\n\n    // View state\n    WORKCENTER_STATE: \"rs-workcenter-state\",\n    VIEWER_STATE: \"rs-viewer-state\",\n    EDITOR_STATE: \"rs-editor-state\",\n    EXPLORER_STATE: \"view-explorer-state\",\n    EXPLORER_PATH: \"view-explorer-path\",\n\n    // Content\n    LAST_MARKDOWN: \"rs-last-markdown\",\n    HISTORY: \"rs-history\",\n    RECENT_FILES: \"rs-recent-files\",\n\n    // AI Config\n    AI_CONFIG: \"rs-ai-config\"\n} as const;\n\nexport type StorageKey = typeof StorageKeys[keyof typeof StorageKeys];\n\n// ============================================================================\n// LOCAL STORAGE\n// ============================================================================\n\n/**\n * Get item from localStorage with type safety\n */\nexport function getItem<T>(key: string, defaultValue: T): T {\n    try {\n        const stored = localStorage.getItem(key);\n        if (stored === null) return defaultValue;\n        return JSON.parse(stored) as T;\n    } catch {\n        return defaultValue;\n    }\n}\n\n/**\n * Set item in localStorage\n */\nexport function setItem<T>(key: string, value: T): boolean {\n    try {\n        localStorage.setItem(key, JSON.stringify(value));\n        return true;\n    } catch {\n        return false;\n    }\n}\n\n/**\n * Remove item from localStorage\n */\nexport function removeItem(key: string): boolean {\n    try {\n        localStorage.removeItem(key);\n        return true;\n    } catch {\n        return false;\n    }\n}\n\n/**\n * Get raw string from localStorage\n */\nexport function getString(key: string, defaultValue = \"\"): string {\n    try {\n        return localStorage.getItem(key) || defaultValue;\n    } catch {\n        return defaultValue;\n    }\n}\n\n/**\n * Set raw string to localStorage\n */\nexport function setString(key: string, value: string): boolean {\n    try {\n        localStorage.setItem(key, value);\n        return true;\n    } catch {\n        return false;\n    }\n}\n\n/**\n * Check if localStorage is available\n */\nexport function isLocalStorageAvailable(): boolean {\n    try {\n        const test = \"__storage_test__\";\n        localStorage.setItem(test, test);\n        localStorage.removeItem(test);\n        return true;\n    } catch {\n        return false;\n    }\n}\n\n// ============================================================================\n// SESSION STORAGE\n// ============================================================================\n\n/**\n * Get item from sessionStorage\n */\nexport function getSessionItem<T>(key: string, defaultValue: T): T {\n    try {\n        const stored = sessionStorage.getItem(key);\n        if (stored === null) return defaultValue;\n        return JSON.parse(stored) as T;\n    } catch {\n        return defaultValue;\n    }\n}\n\n/**\n * Set item in sessionStorage\n */\nexport function setSessionItem<T>(key: string, value: T): boolean {\n    try {\n        sessionStorage.setItem(key, JSON.stringify(value));\n        return true;\n    } catch {\n        return false;\n    }\n}\n\n/**\n * Remove item from sessionStorage\n */\nexport function removeSessionItem(key: string): boolean {\n    try {\n        sessionStorage.removeItem(key);\n        return true;\n    } catch {\n        return false;\n    }\n}\n\n// ============================================================================\n// INDEXED DB - Simple Key-Value\n// ============================================================================\n\nconst DEFAULT_DB_NAME = \"crossword-storage\";\nconst DEFAULT_STORE_NAME = \"keyvalue\";\nconst DB_VERSION = 1;\n\nlet dbPromise: Promise<IDBDatabase> | null = null;\n\n/**\n * Get IndexedDB database instance\n */\nfunction getDB(dbName = DEFAULT_DB_NAME, storeName = DEFAULT_STORE_NAME): Promise<IDBDatabase> {\n    if (dbPromise) return dbPromise;\n\n    dbPromise = new Promise((resolve, reject) => {\n        const request = indexedDB.open(dbName, DB_VERSION);\n\n        request.onerror = () => reject(request.error);\n        request.onsuccess = () => resolve(request.result);\n\n        request.onupgradeneeded = () => {\n            const db = request.result;\n            if (!db.objectStoreNames.contains(storeName)) {\n                db.createObjectStore(storeName);\n            }\n        };\n    });\n\n    return dbPromise;\n}\n\n/**\n * Get value from IndexedDB\n */\nexport async function getIDBItem<T>(key: string): Promise<T | null> {\n    try {\n        const db = await getDB();\n        return new Promise((resolve, reject) => {\n            const tx = db.transaction(DEFAULT_STORE_NAME, \"readonly\");\n            const store = tx.objectStore(DEFAULT_STORE_NAME);\n            const request = store.get(key);\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => resolve(request.result ?? null);\n        });\n    } catch {\n        return null;\n    }\n}\n\n/**\n * Set value in IndexedDB\n */\nexport async function setIDBItem<T>(key: string, value: T): Promise<boolean> {\n    try {\n        const db = await getDB();\n        return new Promise((resolve, reject) => {\n            const tx = db.transaction(DEFAULT_STORE_NAME, \"readwrite\");\n            const store = tx.objectStore(DEFAULT_STORE_NAME);\n            const request = store.put(value, key);\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => resolve(true);\n        });\n    } catch {\n        return false;\n    }\n}\n\n/**\n * Remove value from IndexedDB\n */\nexport async function removeIDBItem(key: string): Promise<boolean> {\n    try {\n        const db = await getDB();\n        return new Promise((resolve, reject) => {\n            const tx = db.transaction(DEFAULT_STORE_NAME, \"readwrite\");\n            const store = tx.objectStore(DEFAULT_STORE_NAME);\n            const request = store.delete(key);\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => resolve(true);\n        });\n    } catch {\n        return false;\n    }\n}\n\n// ============================================================================\n// INDEXED DB - Structured Storage Class\n// ============================================================================\n\n/**\n * IndexedDB wrapper for structured object storage\n */\nexport class IDBStorage {\n    private dbName: string;\n    private storeName: string;\n    private db: IDBDatabase | null = null;\n\n    constructor(dbName: string, storeName: string) {\n        this.dbName = dbName;\n        this.storeName = storeName;\n    }\n\n    async open(): Promise<IDBDatabase> {\n        if (this.db) return this.db;\n\n        return new Promise((resolve, reject) => {\n            const request = indexedDB.open(this.dbName, 1);\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => {\n                this.db = request.result;\n                resolve(this.db);\n            };\n\n            request.onupgradeneeded = (event) => {\n                const db = (event.target as IDBOpenDBRequest).result;\n                if (!db.objectStoreNames.contains(this.storeName)) {\n                    db.createObjectStore(this.storeName, { keyPath: \"id\" });\n                }\n            };\n        });\n    }\n\n    async get<T>(id: string): Promise<T | null> {\n        const db = await this.open();\n        return new Promise((resolve, reject) => {\n            const tx = db.transaction([this.storeName], \"readonly\");\n            const store = tx.objectStore(this.storeName);\n            const request = store.get(id);\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => resolve(request.result || null);\n        });\n    }\n\n    async set<T extends object>(id: string, value: T): Promise<void> {\n        const db = await this.open();\n        return new Promise((resolve, reject) => {\n            const tx = db.transaction([this.storeName], \"readwrite\");\n            const store = tx.objectStore(this.storeName);\n            const request = store.put({ id, ...value });\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    async delete(id: string): Promise<void> {\n        const db = await this.open();\n        return new Promise((resolve, reject) => {\n            const tx = db.transaction([this.storeName], \"readwrite\");\n            const store = tx.objectStore(this.storeName);\n            const request = store.delete(id);\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    async getAll<T>(): Promise<T[]> {\n        const db = await this.open();\n        return new Promise((resolve, reject) => {\n            const tx = db.transaction([this.storeName], \"readonly\");\n            const store = tx.objectStore(this.storeName);\n            const request = store.getAll();\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => resolve(request.result || []);\n        });\n    }\n\n    async clear(): Promise<void> {\n        const db = await this.open();\n        return new Promise((resolve, reject) => {\n            const tx = db.transaction([this.storeName], \"readwrite\");\n            const store = tx.objectStore(this.storeName);\n            const request = store.clear();\n\n            request.onerror = () => reject(request.error);\n            request.onsuccess = () => resolve();\n        });\n    }\n\n    close(): void {\n        this.db?.close();\n        this.db = null;\n    }\n}\n\n// ============================================================================\n// PRE-CONFIGURED STORAGE INSTANCES\n// ============================================================================\n\n/** WorkCenter data storage */\nexport const workCenterStorage = new IDBStorage(\"rs-workcenter\", \"data\");\n\n/** History entries storage */\nexport const historyStorage = new IDBStorage(\"rs-history\", \"entries\");\n\n/** Settings/config storage */\nexport const settingsStorage = new IDBStorage(\"rs-settings\", \"config\");\n"],"names":[],"mappings":"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"}