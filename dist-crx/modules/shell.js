import{inProxy as e,isNotEqual as t,contextify as i,clamp as n}from"./Env.js";import{affected as r,addToCallChain as a,isValidParent as o,appendFix as s,$trigger as l,isElement as c,replaceOrSwap as u,removeChild as d,getNode as p,ROOT as m,doObserve as h,vector2Ref as b,setStyleProperty as g,createRect2D as f,clampPointToRect as v,Vector2D as x,bindDraggable as y,makeShiftTrigger as w,cbw as z,bbw as k,cbh as E,bbh as R,E as $,addEvent as T,setChecked as C,numberRef as S,operated as A,CSSBinder as P,bindWith as O,handleStyleChange as I,ReactiveElementSize as q,bindCtrl as L,lazyAddEventListener as j,preloadStyle as M,loadInlineStyle as U,GLitElement as D,H as F,property as V,defineElement as B,handleHidden as N,handleAttribute as W,propRef as H,M as _,observableByMap as Z,booleanRef as X,makeClickOutsideTrigger as Y,Q as K,conditional as G,registerSidebar as J,handleProperty as Q,assign as ee,computed as te,attrRef as ie,valueAsNumberRef as ne,valueRef as re,ref as ae,openDirectory as oe,observe as se,getMimeTypeByFilename as le,remove as ce,downloadFile as ue,getFileHandle as de,getDirectoryHandle as pe,writeFile as me,uploadFile as he,handleIncomingEntries as be,ctxMenuTrigger as ge,MOCElement as fe,isInFocus as ve,getDir as xe}from"./Settings.js";import{loadVeelaVariant as ye,ViewRegistry as we}from"./crx-entry.js";import{showToast as ze}from"./Toast.js";import"./Markdown.js";const ke=(e,t,i=null)=>p(((e,t)=>"number"==typeof t&&t<0||"string"==typeof t&&!t||null==t?{element:""}:e instanceof Map||"function"==typeof e?.get?e.get(t):e instanceof Set||"function"==typeof e?.has?e.has(t)?t:null:e?.[t]??{element:""})(e,t),null,-1,i);class Ee{#e=document.createComment("");current;mapped;boundParent=null;constructor(e,t){this.#e=document.createComment(""),this.current=e?.current??{value:-1},this.mapped=e?.mapped??t??[];const i=r([e?.current,"value"],(e,t,i)=>this._onUpdate(e,t,i));i&&a(this,Symbol.dispose,i)}get element(){const e=ke(this.mapped,this.current?.value??-1,this.boundParent)??this.#e,t=o(e?.parentElement)?e?.parentElement:this.boundParent;return this.boundParent??=o(t)??this.boundParent,null==e||e?.parentNode==this.boundParent&&e?.parentNode||this.boundParent&&s(this.boundParent,e),queueMicrotask(()=>{const t=o(e?.parentElement)?e?.parentElement:this.boundParent;this.boundParent??=o(t)??this.boundParent}),e}elementForPotentialParent(e){return o(e)&&(this.boundParent=e),this.current?.[l]?.(),this.element}_onUpdate(e,i,n){const r=e??this.current?.value;if(!n||t(r,n)){const e=n??this.current?.value;this.current&&(this.current.value=r??-1);const t=ke(this.mapped,e??r??-1)?.parentNode??this.boundParent;this.boundParent=t??this.boundParent;const i=ke(this.mapped,r??-1,t)??this.#e,o=ke(this.mapped,e??-1,t);if(c(t))if(c(i))if(c(o))try{u(t,o,i)}catch(a){console.warn(a)}else s(t,i);else o&&!i&&d(t,o)}}}class Re{constructor(){}set(e,t,i){return Reflect.set(ke(e?.mapped,e?.current?.value??-1)??e,t,i)}has(e,t){return Reflect.has(ke(e?.mapped,e?.current?.value??-1)??e,t)}get(e,t,n){return"elementForPotentialParent"!=t||!(t in e)&&null==e?.[t]?"element"!=t||!(t in e)&&null==e?.[t]?"_onUpdate"!=t||!(t in e)&&null==e?.[t]?i(ke(e?.mapped,e?.current?.value??-1)??e,t):e?._onUpdate?.bind(e):e?.element:e?.elementForPotentialParent?.bind(e)}ownKeys(e){return Reflect.ownKeys(ke(e?.mapped,e?.current?.value??-1)??e)}apply(e,t,i){return Reflect.apply(ke(e?.mapped,e?.current?.value??-1)??e,t,i)}deleteProperty(e,t){return Reflect.deleteProperty(ke(e?.mapped,e?.current?.value??-1)??e,t)}setPrototypeOf(e,t){return Reflect.setPrototypeOf(ke(e?.mapped,e?.current?.value??-1)??e,t)}getPrototypeOf(e){return Reflect.getPrototypeOf(ke(e?.mapped,e?.current?.value??-1)??e)}defineProperty(e,t,i){return Reflect.defineProperty(ke(e?.mapped,e?.current?.value??-1)??e,t,i)}getOwnPropertyDescriptor(e,t){return Reflect.getOwnPropertyDescriptor(ke(e?.mapped,e?.current?.value??-1)??e,t)}preventExtensions(e){return Reflect.preventExtensions(ke(e?.mapped,e?.current?.value??-1)??e)}isExtensible(e){return Reflect.isExtensible(ke(e?.mapped,e?.current?.value??-1)??e)}}class $e{#t;#i;#n=0;#r;#a;#o;get#s(){return this.#t.offsetParent??this.#t?.host??m}constructor(e,t){if(!e)throw Error("Element is null...");h(this.#t=e,this.#s),this.#i=b(0,0),this.#r=b(0,0),this.#a=t,g(this.#t,"--drag-x",0),g(this.#t,"--drag-y",0),this.#l(),t&&this.draggable(t)}#c(e=0,t=0){let i=e||0,n=t||0;if(this.#a?.constraints?.bounds){const e=this.#a.constraints.bounds,t=this.#a.constraints.centerOffset||b(0,0),r=b(this.#t.offsetWidth,this.#t.offsetHeight);f(i,n,r.x,r.y);const a=v(new x(i+t.x.value,n+t.y.value),e);i=a.x.value-t.x.value,n=a.y.value-t.y.value}if(this.#a?.constraints?.snapToGrid){const{size:e,offset:t}=this.#a.constraints.snapToGrid;i=Math.round((i-t.x.value)/e.x.value)*e.x.value+t.x.value,n=Math.round((n-t.y.value)/e.y.value)*e.y.value+t.y.value}this.#r.x.value=i,this.#r.y.value=n,this.#n||(this.#n=requestAnimationFrame(()=>{this.#n=0;const e=this.#r.x.value,t=this.#r.y.value;g(this.#t,"transform",`translate3d(\n                clamp(calc(-1px * var(--shift-x, 0)), ${e||0}px, calc(100cqi - 100% - var(--shift-x, 0) * 1px)),\n                clamp(calc(-1px * var(--shift-y, 0)), ${t||0}px, calc(100cqb - 100% - var(--shift-y, 0) * 1px)),\n                0px)`?.trim?.()?.replaceAll?.(/\s+/g," ")?.replaceAll?.(/\n+/g," ")?.trim?.()??"")}))}#l(){if(this.#o)return;const e=()=>{this.#c(this.#i.x.value,this.#i.y.value)};this.#o=[r(this.#i.x,e),r(this.#i.y,e)],e()}draggable(e){const t=e.handler??this.#t;this.#i,this.#l();const i=new WeakRef(this.#t),n=[this.#i.x,this.#i.y];return y(e=>t.addEventListener("pointerdown",w(t=>e(t,this.#t),this.#t)),e=>{const t=i?.deref?.();t?.style?.removeProperty?.("will-change"),queueMicrotask(()=>{t?.removeAttribute?.("data-dragging"),t?.style?.removeProperty?.("transform")});const n=t?.getBoundingClientRect?.();this.#i.x.value=0,this.#i.y.value=0,this.#c(0,0),g(t,"--shift-x",n?.left||0),g(t,"--shift-y",n?.top||0)},n,()=>{const e=i?.deref?.();return e?.setAttribute?.("data-dragging",""),e?.style?.setProperty("will-change","inset, translate, transform, opacity, z-index"),this.#c(this.#i.x.value,this.#i.y.value),[0,0]})}}class Te{#t;#u;get#s(){return this.#t.offsetParent??this.#t?.host??m}constructor(e,t){if(!e)throw Error("Element is null...");h(this.#t=e,this.#s),this.#u=b(0,0),t&&this.resizable(t)}limitResize(e,t,i,r){const a=z(i)-(k(i)-(this.#u.x.value||0)),o=E(i)-(R(i)-(this.#u.y.value||0));return e[0]=n(0,t?.[0]||0,a)||0,e[1]=n(0,t?.[1]||0,o)||0,e}resizable(e){const t=e.handler??this.#t;this.#u;const i=new WeakRef(this.#t),n=new WeakRef(this),r=[this.#u.x,this.#u.y];return $(this.#t,{style:{"--resize-x":this.#u.x,"--resize-y":this.#u.y}}),y(e=>t.addEventListener("pointerdown",w(t=>e(t,this.#t),this.#t)),e=>{const t=i?.deref?.();t?.style?.removeProperty?.("will-change"),queueMicrotask(()=>{t?.removeAttribute?.("data-resizing")})},r,()=>{const e=[this.#u.x.value||0,this.#u.y.value||0],t=i?.deref?.(),r=this.#s;return n?.deref?.()?.limitResize?.(e,e,t,r),t?.setAttribute?.("data-resizing",""),e})}}const Ce=(e,t,i)=>{const n=(t?.[0]?.value||0)/(i?.offsetWidth||1),r=Ie(e),[a,o,s]=r;return"checkbox"==e?.type?Math.sign(t?.[0]?.value):"range"==e?.type||"number"==e?.type?n*(s-o):"radio"==e?.type?Math.round(n*s):n},Se=(e,t)=>{if("number"==e?.type||"range"==e?.type)return t;if("checkbox"==e?.type)return t>.5;if("radio"==e?.type){const i=[...e?.parentNode?.querySelectorAll?.('input[type="radio"]')],n=i?.length;return Math.max(Math.min(Math.round(t),n),0)}},Ae=(e,t)=>{const i=Ie(e),[n,r,a]=i;if("number"==e?.type||"range"==e?.type)t!=e.valueAsNumber&&(e.valueAsNumber=t,e?.dispatchEvent?.(new Event("change",{bubbles:!0})));else if("checkbox"==e?.type)C(e,t>.5);else if("radio"==e?.type){const i=[...e?.parentNode?.querySelectorAll?.('input[type="radio"]')];0!=t&&C(i[Math.max(Math.min(Math.round(t),a),r)],t)}},Pe=(e,t)=>Ae(e,((e,t)=>{const i=Ie(e);return Se(e,i?.[0]+t)})(e,t)),Oe=(e,t,i)=>Ae(e,((e,t,i)=>{const n=t/(i?.offsetWidth||1),r=Ie(e),[a,o,s]=r;return Se(e,n*(s-o)+o)})(e,t,i)),Ie=e=>{if(("number"==e?.type||"range"==e?.type)&&null!=e?.valueAsNumber)return[e?.valueAsNumber||0,parseFloat(e?.min||0),parseFloat(e?.max||0)];if("checkbox"==e?.type)return[e?.checked?1:0,0,1];if("radio"==e?.type){const t=[...e?.parentNode?.querySelectorAll?.('input[type="radio"]')],i=t?.length;return[t?.indexOf?.(e)??-1,0,i-1]}return[0,0,0]},qe=e=>((e,t,i)=>(e-t)/(i-t))(...Ie(e)),Le=e=>{const t=S(qe(e));return L?.(e,i=>{t.value=qe(i?.target??e)}),t},je=(e,t,i)=>{const n={id:-1},r=()=>{try{o[0].value=0,o[1].value=0}catch(e){}return[0,0]},a=[T(t,"click",e=>{"checkbox"!=i?.type&&"radio"!=i?.type||C(i,i?.checked,e)}),T(t,"pointerdown",e=>{e?.target?.matches?.(".ui-thumb")||e?.target?.closest?.(".ui-thumb")||(e?.target==(t?.element??t)||t.contains(e?.target))&&Oe(i,e?.layerX||0,t)})],o=[S(0),S(0)],s=A([o[0]],()=>`translateX(${o[0].value}px)`);((e,t)=>{const i=t?new q(t):null,n=Le(e);A([n,i?.width||S(100)],()=>{const e=i?.width.value||100;return n.value*e})})(i,t),P.bindTransform(e,s),P.bindTransform(t,s);const l=A([o[0]],e=>Ce(i,o,t)),c=Le(i);O?.(t,"--relate",l,I),O?.(t,"--value",c,I);const u=y(i=>{const o=w(t=>{e?.setPointerCapture?.(n.id=t?.pointerId),e?.setAttribute?.("data-dragging","true"),r(),i?.(t,e)},e),s=T(t,"pointerdown",o),l=T(e,"pointerdown",o);return a.push(s,l),s},r=>{e?.removeAttribute?.("data-dragging"),n.id>=0&&(e?.releasePointerCapture?.(n.id),n.id=-1),((e,t,i)=>{Pe(e,Ce(e,t,i));try{t[0].value=0,t[1].value=0}catch(n){}})(i,r,t)},o,r);return()=>{a.forEach(e=>e?.()),u?.dispose?.()}},Me=(e,t)=>{const i=((e,t)=>{const i=new Set;let n=e?.target||document.activeElement||document.body;if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n.isContentEditable)return[];let r=n;for(;r;)"function"==typeof r[t]&&i.add(r),r.operativeInstance&&"function"==typeof r.operativeInstance[t]&&i.add(r.operativeInstance),r=r.shadowRoot&&r.shadowRoot.host?r.shadowRoot.host:r.parentElement||r.getRootNode()?.host;if(e.currentTarget instanceof Node||"undefined"!=typeof document){const n=e.currentTarget instanceof Node?e.currentTarget instanceof Document?e.currentTarget.body:e.currentTarget:document.body;if(n){const e=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>"function"==typeof e[t]||e.operativeInstance&&"function"==typeof e.operativeInstance[t]?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;e.nextNode();){const n=e.currentNode;"function"==typeof n[t]&&i.add(n),n.operativeInstance&&"function"==typeof n.operativeInstance[t]&&i.add(n.operativeInstance)}}}return Array.from(i)})(e,t);for(const n of i)n[t]?.(e)};let Ue=!1;const De=".cache-meta.json";let Fe=null,Ve=null,Be=null,Ne=null,We=null;const He=()=>{if(null!==Ne)return Ne;try{Ne=!("undefined"==typeof navigator||!("storage"in navigator)||"function"!=typeof navigator.storage?.getDirectory||"undefined"==typeof FileSystemFileHandle||"undefined"==typeof FileSystemDirectoryHandle)}catch{Ne=!1}return Ne},_e=e=>e&&"string"==typeof e?e.replace(/[<>:"/\\|?*\x00-\x1F]/g,"_").replace(/\.{2,}/g,"_").replace(/^\./,"_").slice(0,200):"_empty_",Ze=async()=>We||(We=(async()=>{if(!He())return!1;try{const e=await navigator.storage.getDirectory();Fe=await e.getDirectoryHandle("icon-cache",{create:!0});const t=await Xe(),i=Date.now();if(t&&2!==t.version)"undefined"!=typeof console&&console.log?.("[icon-cache] Cache version mismatch, clearing cache"),await Je();else if(t&&i-t.lastAccess>6048e5)"undefined"!=typeof console&&console.log?.("[icon-cache] Cache expired, clearing cache"),await Je();else{const e=await Qe();e&&e.totalSize>52428800&&("undefined"!=typeof console&&console.log?.("[icon-cache] Cache size exceeded, clearing cache"),await Je())}return Ve=await Fe.getDirectoryHandle("vector",{create:!0}),Be=await Fe.getDirectoryHandle("raster",{create:!0}),await Ye(),!0}catch(e){return"undefined"!=typeof console&&console.warn?.("[icon-cache] OPFS init failed:",e),Fe=null,Ve=null,Be=null,!1}})(),We),Xe=async()=>{if(!Fe)return null;try{const e=await Fe.getFileHandle(De),t=await e.getFile(),i=await t.text();return JSON.parse(i)}catch{return null}},Ye=async()=>{if(Fe)try{const e=await Fe.getFileHandle(De,{create:!0}),t=await e.createWritable(),i={version:2,created:Date.now(),lastAccess:Date.now()};await t.write(JSON.stringify(i)),await t.close()}catch{}},Ke=async(e,t)=>{if(!Ve){if(!(await Ze())||!Ve)return!1}try{const i=_e(e)+".svg",n=await Ve.getFileHandle(i,{create:!0}),r=await n.createWritable();return t instanceof Blob?await r.write(t):await r.write(new Blob([t],{type:"image/svg+xml"})),await r.close(),!0}catch(i){return"undefined"!=typeof console&&console.warn?.("[icon-cache] Failed to cache vector:",e,i),!1}},Ge=async e=>{if(!Ve){if(!(await Ze())||!Ve)return null}try{const t=_e(e)+".svg",i=await Ve.getFileHandle(t),n=await i.getFile();return URL.createObjectURL(n)}catch{return null}},Je=async()=>{if(!Fe){if(!(await Ze())||!Fe)return}try{for await(const[e]of Fe.entries())e!==De&&await Fe.removeEntry(e,{recursive:!0});Ve=null,Be=null,We=null,await Ze()}catch(e){"undefined"!=typeof console&&console.warn?.("[icon-cache] Failed to clear cache:",e)}},Qe=async()=>{if(!Ve||!Be){if(!(await Ze()))return null}try{let e=0,t=0,i=0;for await(const[,n]of Ve.entries())if("file"===n.kind){e++;i+=(await n.getFile()).size}for await(const[,n]of Be.entries())if("file"===n.kind){t++;i+=(await n.getFile()).size}return{vectorCount:e,rasterCount:t,totalSize:i}}catch{return null}};He()&&Ze().then(()=>{(async()=>{if(!(Ve&&Be||await Ze()))return;const e=[];try{for await(const[t,i]of Ve.entries())if("file"===i.kind&&t.endsWith(".svg"))try{const n=await i.getFile();if(0===n.size){e.push(`vector:${t}`);continue}(await n.text()).trim().startsWith("<svg")||e.push(`vector:${t}`)}catch{e.push(`vector:${t}`)}for await(const[t,i]of Be.entries())if("file"===i.kind&&(t.endsWith(".png")||t.endsWith(".webp")))try{0===(await i.getFile()).size&&e.push(`raster:${t}`)}catch{e.push(`raster:${t}`)}for(const t of e)try{const[e,i]=t.split(":");"vector"===e&&Ve?await Ve.removeEntry(i):"raster"===e&&Be&&await Be.removeEntry(i)}catch{}e.length>0&&"undefined"!=typeof console&&console.log?.(`[icon-cache] Cleaned up ${e.length} corrupted cache entries`)}catch(t){"undefined"!=typeof console&&console.warn?.("[icon-cache] Cache validation failed:",t)}})().catch(()=>{})}).catch(()=>{});let et=null;const tt=new Set,it=new Map,nt="ui-icon-registry-state.v2",rt=["ui-icon-registry-state"],at=e=>{const t=(e=>{if(!e||"string"!=typeof e)return null;const t=e.match(/url\(\s*(['"]?)([^'")\s]+)\1\s*\)/i);return t?.[2]??null})(e);if(!t)return!1;if(/^blob:/i.test(t))return!1;if(/^data:/i.test(t))return!0;if(/^https?:/i.test(t)){try{if("undefined"!=typeof location&&"function"==typeof URL)return new URL(t).origin===location.origin}catch{return!1}return!1}return!0};let ot=[],st=!1;const lt=e=>{if(!e||"string"!=typeof e)return null;const t=e.trim();if(!t)return null;if(/^(data:|blob:)/i.test(t))return t;if(/^(\/|\.\/|\.\.\/)/.test(t))return t;if(!/^https?:/i.test(t))return t;if((()=>{try{const e=globalThis?.chrome?.runtime;return!!e?.id}catch{return!1}})())return t;try{if("undefined"==typeof location||"function"!=typeof URL)return t;return new URL(t).origin===location.origin?t:`/api/icon-proxy?url=${encodeURIComponent(t)}`}catch{return null}},ct=()=>{if("undefined"!=typeof localStorage)try{const e={rules:Array.from(it.entries()).filter(([,e])=>at(e.cssText)).map(([e,t])=>({key:e,selector:t.selector,cssText:t.cssText})),timestamp:Date.now()};localStorage.setItem(nt,JSON.stringify(e))}catch{}};let ut=null;const dt=()=>{if("undefined"!=typeof localStorage)try{for(const i of rt)if(i!==nt)try{localStorage.removeItem(i)}catch{}const e=localStorage.getItem(nt);if(!e)return;const t=JSON.parse(e);if(t.rules&&Array.isArray(t.rules)){Date.now()-(t.timestamp||0)<864e5?(ut=t.rules.filter(e=>at(e?.cssText)),"undefined"!=typeof console&&console.log?.(`[icon-registry] Prepared ${ut.length} rules for restoration from cache`)):localStorage.removeItem(nt)}}catch{}},pt=()=>{(()=>{if(tt.clear(),it.clear(),ot.length=0,st=!1,et&&document.adoptedStyleSheets){const e=document.adoptedStyleSheets.indexOf(et);-1!==e&&document.adoptedStyleSheets.splice(e,1)}et=null,"undefined"!=typeof localStorage&&localStorage.removeItem(nt),"undefined"!=typeof console&&console.log?.("[icon-registry] Registry state cleared")})(),mt(),"undefined"!=typeof console&&console.log?.("[icon-registry] Registry reinitialized")},mt=()=>et||("undefined"==typeof document?null:(0===tt.size&&dt(),et=new CSSStyleSheet,document.adoptedStyleSheets?.push?.(et),et.insertRule('@property --icon-image { syntax: "<image>"; inherits: true; initial-value: linear-gradient(#0000, #0000); }',et.cssRules.length),et.insertRule(":where(ui-icon), :host(ui-icon) { --icon-image: linear-gradient(#0000, #0000); }",et.cssRules.length),et.insertRule(':where(ui-icon:not([icon])), :where(ui-icon[icon=""]), :host(ui-icon:not([icon])), :host(ui-icon[icon=""]) { background-color: transparent; }',et.cssRules.length),(e=>{if(!ut)return;let t=0,i=0;ut.forEach(n=>{if(n.key&&n.selector&&n.cssText&&!tt.has(n.key)){if(!at(n.cssText))return void i++;try{const i=`${n.selector} { ${n.cssText} }`;e.insertRule(i,e.cssRules.length),tt.add(n.key),it.set(n.key,{selector:n.selector,cssText:n.cssText}),t++}catch(r){"undefined"!=typeof console&&console.warn?.(`[icon-registry] Failed to restore rule ${n.key}:`,r)}}}),"undefined"!=typeof console&&(t>0||i>0)&&console.log?.(`[icon-registry] Restored ${t} CSS rules to stylesheet (skipped ${i} unsafe/unstable rules)`),ut=null})(et),et)),ht=(e,t,i)=>`${t}:${e}@${i}`,bt=(e,t)=>{if(!e)return"linear-gradient(#0000, #0000)";if(e.startsWith("url("))return(e=>{if(!e||"string"!=typeof e)return null;const t=e.match(/url\(\s*(['"]?)([^'")\s]+)\1\s*\)/i);if(!t)return e;const i=lt(t[2]);return i?`url("${i}")`:null})(e)??"linear-gradient(#0000, #0000)";const i=lt(e);return i?`url("${i}")`:"linear-gradient(#0000, #0000)"},gt=()=>{if(st=!1,0===ot.length)return;const e=mt();if(!e)return void(ot=[]);const t=ot.slice();ot=[];for(const{selector:n,cssText:r,key:a}of t)if(!tt.has(a))try{const t=`${n} { ${r} }`;e.insertRule(t,e.cssRules.length),tt.add(a),it.set(a,{selector:n,cssText:r}),ct()}catch(i){"undefined"!=typeof console&&console.warn?.("[icon-registry] Failed to insert rule:",i)}},ft=(e,t,i,n=32)=>{const r=ht(e,t,n);if(tt.has(r))return;if(ot.some(e=>e.key===r))return;const a=((e,t)=>{const i=(e||"").trim(),n=(t||"duotone").trim().toLowerCase();if(!i)return"";const r=CSS.escape(i),a=CSS.escape(n);return`.ui-icon[icon="${r}"][icon-style="${a}"], :host(.ui-icon[icon="${r}"][icon-style="${a}"])`})(e,t),o=bt(i);ot.push({selector:a,cssText:`--icon-image: ${o};`,key:r}),st||(st=!0,queueMicrotask(gt))};"undefined"!=typeof document&&"undefined"!=typeof window&&(dt(),queueMicrotask(()=>{mt(),document.addEventListener("visibilitychange",()=>{document.hidden||et||pt()}),globalThis.addEventListener("focus",()=>{et||pt()})}));const vt=new Map,xt=new Map,yt=32,wt=5e3,zt=1e3,kt=[];let Et=!1;const Rt=()=>{Et||0===kt.length||(Et=!0,setTimeout($t,zt))},$t=()=>{if(Et=!1,!(()=>{try{return!1!==navigator.onLine}catch{return!0}})())return"undefined"!=typeof console&&console.log?.("[icon-loader] Skipping retries - device is offline"),void(kt.length=0);const e=kt.splice(0,Math.min(2,kt.length));for(const t of e){const e=zt*Math.pow(1.5,t.retries-1);setTimeout(()=>{Nt(t.name,t.creator,t.retries).then(t.resolve).catch(e=>{"undefined"!=typeof console&&console.warn?.(`[icon-loader] Retry ${t.retries}/5 failed for ${t.name}:`,e?.message||e),t.reject(e)})},e)}if(kt.length>0){const e=(()=>{try{const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return!!e&&(["slow-2g","2g","3g"].includes(e.effectiveType)||!0===e.saveData||e.downlink<1.5)}catch{return!1}})()?2e3:zt;setTimeout($t,e)}},Tt=(e,t)=>{let i;const n=new Promise((e,n)=>{i=setTimeout(()=>n(new Error("Timeout")),t)});return Promise.race([e,n]).finally(()=>clearTimeout(i))},Ct="undefined"!=typeof globalThis?globalThis:{},St=(()=>{try{if("undefined"!=typeof document&&"string"==typeof document.baseURI&&"about:blank"!==document.baseURI)return document.baseURI}catch{}try{const{location:e}=Ct;if(e?.href&&"about:blank"!==e.href)return e.href;if(e?.origin)return e.origin}catch{}})(),At=e=>e?`url("${e}")`:"none",Pt=e=>{if(!e||"string"!=typeof e)return"";const t=xt.get(e);if(t)return t;let i=e;if("function"==typeof URL)try{i=St?new URL(e,St).href:new URL(e).href}catch{try{i=new URL(e,Ct.location?.origin??void 0).href}catch{i=e}}return xt.set(e,i),xt.has(i)||xt.set(i,i),i},Ot=new Map,It=e=>{(!Number.isFinite(e)||e<=0)&&(e=yt);const t=Math.max(e,yt),i=2**Math.ceil(Math.log2(t));return Math.min(512,i)},qt=(e,t,i)=>{const n="string"==typeof e?e:"",r=Pt(n),a=r||n,o=((e,t,i)=>{const n=(e??"").trim();return n?`${n}@${i}`:`${t}@${i}`})(t,r,i);if(!a)return Promise.resolve(At(""));const s=Ot.get(o);if(s)return s;const l=Wt(a).catch(e=>(a&&"undefined"!=typeof console&&console.warn?.("[ui-icon] Mask generation failed; refusing to use cross-origin CSS url() fallback",e),At((e=>{if(!e||"string"!=typeof e)return!1;const t=e.trim();if(!t)return!1;if(t.startsWith("data:")||t.startsWith("blob:"))return!0;if(t.startsWith("/")||t.startsWith("./")||t.startsWith("../"))return!0;if("function"==typeof URL)try{const e=Ct.location?.origin??St,i=new URL(t,e),n=Ct.location?.origin;if(n&&i.origin===n)return!0}catch{return!1}return!1})(a)?a:""))).finally(()=>{Ot.delete(o)});return Ot.set(o,l),l},Lt=e=>"string"!=typeof e?"":e.replace(/[_\s]+/g,"-").replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z][a-z])/g,"$1-$2").toLowerCase(),jt=e=>{if("string"!=typeof e||!e)return!1;if("undefined"==typeof URL)return/^([a-z]+:)?\/\//i.test(e)||e.startsWith("/")||e.startsWith("./")||e.startsWith("../");if("function"==typeof URL.canParse)try{if(URL.canParse(e,St))return!0;if(Ct.location?.origin&&URL.canParse(e,Ct.location.origin))return!0}catch{}try{return new URL(e,St??Ct.location?.origin??void 0),!0}catch{return!1}},Mt=async(e,t)=>{const i="undefined"!=typeof AbortController?new AbortController:null,n=i?setTimeout(()=>i.abort(),t):null;try{const t=await fetch(e,{credentials:"omit",mode:"cors",signal:i?.signal});if(!t.ok)throw new Error(`HTTP ${t.status} ${t.statusText}`);const n=await t.blob();if(!n||0===n.size)throw new Error("Empty SVG response");return n}catch(r){if(r instanceof DOMException&&"AbortError"===r.name)throw new Error("Timeout");throw r}finally{n&&clearTimeout(n)}},Ut='<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n  <path fill="currentColor" fill-rule="evenodd" d="M6 2a4 4 0 0 0-4 4v12a4 4 0 0 0 4 4h12a4 4 0 0 0 4-4V6a4 4 0 0 0-4-4H6zm0 2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z" clip-rule="evenodd"/>\n  <path fill="currentColor" d="M11 7h2v7h-2z"/>\n  <path fill="currentColor" d="M11 16h2v2h-2z"/>\n</svg>',Dt=e=>{if(!e||"string"!=typeof e)throw new Error("Invalid SVG text: empty or not a string");const t=e.trim();if(!t.includes("<svg")||!t.includes("</svg>"))throw new Error("Invalid SVG: missing svg tags");if(t.length<50)throw new Error("Invalid SVG: content too small");if(t.length>1048576)throw new Error("Invalid SVG: content too large");const i=t.match(/<[^/?][^>]*>/g)||[],n=t.match(/<\/[^>]+>/g)||[],r=t.match(/<[^>]+\/>/g)||[];if(i.length+r.length<n.length)throw new Error("Invalid SVG: unbalanced tags");try{const t=(new TextEncoder).encode(e),i=Array.from(t,e=>String.fromCharCode(e)).join("");return`data:image/svg+xml;base64,${btoa(i)}`}catch{try{return`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(e)))}`}catch{return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(e)}`}}},Ft=(()=>{try{return Dt(Ut)}catch{return`data:image/svg+xml;charset=utf-8,${encodeURIComponent(Ut)}`}})(),Vt=Ft,Bt=e=>{if(!e||"string"!=typeof e)return e;try{const t=(()=>{const e=Ct.location?.protocol||"";return"http:"===e||"https:"===e})(),i=(()=>{try{const e=globalThis?.chrome?.runtime;return!!e?.id}catch{return!1}})(),n=(e,t)=>`https://cdn.jsdelivr.net/npm/@phosphor-icons/core@2/assets/${e}/${"duotone"===e?`${t}-duotone`:"regular"!==e?`${t}-${e}`:t}.svg`,r=new URL(e);if((i||!t)&&r.pathname.startsWith("/assets/icons/phosphor/")){const t=r.pathname.split("/").filter(Boolean),i=t[3]||"duotone",a=(t[4]||"").replace(/\.svg$/i,"");return["thin","light","regular","bold","fill","duotone"].includes(i)&&a&&/^[a-z0-9-]+$/.test(a)?n(i,a):e}if("cdn.jsdelivr.net"===r.hostname&&r.pathname.startsWith("/gh/phosphor-icons/phosphor-icons/")){const e=r.pathname.split("/").filter(Boolean),a=e.indexOf("src");if(a>=0&&e.length>=a+3){const r=e[a+1],o=e[a+2];if(r&&o&&o.endsWith(".svg")){let e=o.replace(/\.svg$/i,"");"duotone"===r&&e.endsWith("-duotone")?e=e.replace(/-duotone$/,""):"regular"!==r&&e.endsWith(`-${r}`)&&(e=e.replace(new RegExp(`-${r}$`),""));if(["thin","light","regular","bold","fill","duotone"].includes(r)&&e&&/^[a-z0-9-]+$/.test(e))return t&&!i?`/assets/icons/phosphor/${r}/${e}.svg`:n(r,e)}}}if("cdn.jsdelivr.net"===r.hostname&&r.pathname.startsWith("/npm/@phosphor-icons/")){const e=r.pathname.split("/").filter(Boolean),a=e.indexOf("assets");if(a>=0&&e.length>=a+3){const r=e[a+1],o=e[a+2];if(r&&o&&o.endsWith(".svg")){let e=o.replace(/\.svg$/i,"");"duotone"===r&&e.endsWith("-duotone")?e=e.replace(/-duotone$/,""):"regular"!==r&&e.endsWith(`-${r}`)&&(e=e.replace(new RegExp(`-${r}$`),""));if(["thin","light","regular","bold","fill","duotone"].includes(r)&&e&&/^[a-z0-9-]+$/.test(e))return t&&!i?`/assets/icons/phosphor/${r}/${e}.svg`:n(r,e)}}}}catch(t){console.warn("[ui-icon] Invalid URL for phosphor rewrite:",e,t)}return e},Nt=async(e,t,i=0)=>{if(jt(e)){const n=Pt(e);if(n.startsWith("data:"))return console.log("[ui-icon] Already a data URL, returning as-is"),n;const o=Bt(n);o!==n&&console.log(`[ui-icon] Rewrote phosphor URL: ${n} -> ${o}`);try{if(He())try{const e=await Tt(Ge(o),50);if(e){const t=await Mt(e,wt),i=await t.text();return Dt(i)}}catch{}const e=[o];if(o.startsWith("https://cdn.jsdelivr.net/npm/")){const t=o.replace("https://cdn.jsdelivr.net/npm/","https://unpkg.com/");e.push(t)}if(o.startsWith("https://")&&o.includes("cdn.jsdelivr.net")){const t=o.replace("cdn.jsdelivr.net","unpkg.com").replace("/npm/","/");e.includes(t)||e.push(t)}const t=[];for(const i of e)try{const e=await Mt(i,wt);if(e.size>1048576)throw new Error(`Blob too large (${e.size} bytes)`);const t=await e.text(),n=Dt(t);return He()&&Ke(o,e).catch(()=>{}),n}catch(r){const e=r instanceof Error?r:new Error(String(r));t.push(new Error(`${i}: ${e.message}`))}throw new Error(`All icon sources failed: ${t.map(e=>e.message).join("; ")}`)}catch(a){if(console.warn(`[ui-icon] Failed to load icon: ${o}`,a),i<5&&!(e=>e instanceof Error&&(/\bHTTP\s*4\d\d\b/.test(e.message)||/\b4\d\d\b/.test(e.message)?!/408/.test(e.message):/network|timeout|offline|connection|aborted/i.test(e.message)||"TypeError"===e.name&&/fetch/i.test(e.message)))(a))return console.log(`[ui-icon] Queueing retry ${i+1} for ${o}`),new Promise((n,r)=>{kt.push({name:e,creator:t,resolve:n,reject:r,retries:i+1}),Rt()});const n=await(async e=>{if(!e)return null;if(!He())return null;try{const t=await Ge(e);if(!t)return null;const i=await Mt(t,wt),n=await i.text();return n&&0!==n.trim().length?Dt(n):null}catch{return null}})(o);return n?(console.warn(`[ui-icon] Using OPFS cached icon after failures: ${o}`),n):(console.warn(`[ui-icon] All loading methods failed, using fallback SVG for: ${o}`,a),Ft)}}const n=async()=>{const n=await(t?t?.(e):e);if(jt(n))return Nt(n,void 0,i);let r=e;if(n instanceof Blob||n instanceof File)r=n;else{const e="string"==typeof n?n:n.outerHTML;r=new Blob(['<?xml version="1.0" encoding="UTF-8"?>',e],{type:"image/svg+xml"})}return jt(a=r)?Pt(a):URL.createObjectURL(a);var a};try{return await Tt(n(),wt)}catch(a){if(i<5&&a instanceof Error&&"Timeout"===a.message)return new Promise((n,r)=>{kt.push({name:e,creator:t,resolve:n,reject:r,retries:i+1}),Rt()});throw a}},Wt=async(e,t)=>(jt(e)&&(e=Pt(e)||e),vt.getOrInsertComputed(e,()=>Nt(e,t,0))),Ht=(e=>{const t=e?.trim?.();if(!t)return()=>null;const i=URL.createObjectURL(new Blob([t],{type:"text/css"}));if("undefined"==typeof document)return null;const n=document.createElement("style");return n.setAttribute("data-ui-phosphor-icon","true"),n.innerHTML=`@import url("${i}");`,()=>n?.cloneNode?.(!0)})('@property --icon-image{syntax:"<image>";inherits:true;initial-value:linear-gradient(#0000,#0000)}@property --icon-color{syntax:"<color>";inherits:true;initial-value:#fff}@layer ui-icon{:host(ui-icon){--icon-size:1.25rem;--icon-color:currentColor;--icon-padding:.125rem}:host(ui-icon){background-color:initial!important;block-size:stretch;box-sizing:border-box;contain:none;content-visibility:visible;display:inline-grid!important;inline-size:max-content;mask-image:none;max-block-size:stretch;max-inline-size:stretch;min-block-size:min(var(--icon-size,1rem),100%);min-inline-size:min(var(--icon-size,1rem),100%);padding:var(--icon-padding,.125rem);place-content:center;place-items:center;pointer-events:none;user-select:none;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;aspect-ratio:1/1!important;backface-visibility:hidden;color:var(--icon-color,currentColor)!important;font-size:0;grid-template-columns:minmax(0,1fr);grid-template-rows:minmax(0,1fr);line-height:0;object-fit:contain;object-position:center;overflow:visible;transform:translateZ(0);transform-origin:50% 50%;interactivity:inert}:host(ui-icon):before{aspect-ratio:1/1!important;backdrop-filter:none!important;background-color:var(--icon-color,currentColor)!important;block-size:stretch;border:none;color:var(--icon-color,currentColor)!important;content:"";content-visibility:visible;display:flex;filter:none!important;font-size:0;inline-size:stretch;line-height:0;margin:0;mask-clip:content-box;mask-image:var(--icon-image,linear-gradient(#0000,#0000))!important;mask-origin:content-box;mask-position:center;mask-repeat:no-repeat;mask-size:contain;mask-type:alpha;object-fit:contain;object-position:center;opacity:1!important;outline:none;padding:0;pointer-events:none;user-select:none;interactivity:inert;-webkit-user-select:none;-webkit-tap-highlight-color:transparent;backface-visibility:hidden;overflow:hidden;transform:translateZ(0);transform-origin:50% 50%}}');class _t extends HTMLElement{static get observedAttributes(){return["icon","icon-style","size","width","icon-base"]}#a={padding:0,icon:"",iconStyle:"duotone"};#d;#p={inline:yt,block:yt};#m=null;#h="";#b="";#g={value:""};#f=!1;#v=null;#x;#y=!1;constructor(e={}){super(),Object.assign(this.#a,e),"string"==typeof e.icon&&e.icon.length>0&&this.setAttribute("icon",e.icon),"string"==typeof e.iconStyle&&e.iconStyle.length>0&&this.setAttribute("icon-style",e.iconStyle.toLowerCase()),this.#w()}get icon(){return this.getAttribute("icon")??""}set icon(e){if(null==e||""===e)return void this.removeAttribute("icon");const t=String(e);this.getAttribute("icon")!==t&&this.setAttribute("icon",t)}get iconStyle(){return this.getAttribute("icon-style")??this.#a.iconStyle??"duotone"}set iconStyle(e){const t=(e??"")?.trim?.()?.toLowerCase?.();t?this.getAttribute("icon-style")!==t&&this.setAttribute("icon-style",t):this.removeAttribute("icon-style")}get size(){return this.getAttribute("size")}set size(e){if(null==e||""===e)return void this.removeAttribute("size");const t=String(e);this.getAttribute("size")!==t&&this.setAttribute("size",t)}get width(){return this.getAttribute("width")}set width(e){if(null==e||""===e)return void this.removeAttribute("width");const t="number"==typeof e?String(e):e;this.getAttribute("width")!==t&&this.setAttribute("width",t)}get iconBase(){return this.getAttribute("icon-base")??""}set iconBase(e){const t=(e??"").trim();t?this.getAttribute("icon-base")!==t&&this.setAttribute("icon-base",t):this.removeAttribute("icon-base")}connectedCallback(){if(this.#z(),this.#k(this),this.#E(),!this.#f){const e=Ht?.()??null;e&&this.shadowRoot.appendChild(e),this.#f=!0}!this.hasAttribute("icon")&&this.#a.icon&&this.setAttribute("icon",this.#a.icon),!this.hasAttribute("icon-style")&&this.#a.iconStyle&&this.setAttribute("icon-style",this.#a.iconStyle);const e=this.#v??this.icon;console.log(`[ui-icon] Element connected, pending icon: ${e}, current icon: ${this.icon}`),e?(console.log(`[ui-icon] Loading pending icon: ${e}`),this.updateIcon(e)):this.icon?(console.log(`[ui-icon] Loading current icon: ${this.icon}`),this.updateIcon(this.icon)):console.log("[ui-icon] No icon to load")}disconnectedCallback(){this.#d?.disconnect(),this.#d=void 0,this.#R(),this.#m=null,this.#$=0}attributeChangedCallback(e,t,i){if(t!==i)switch(e){case"icon":if(!this.isConnected)return void(this.#v=i??"");this.updateIcon(i??"");break;case"icon-style":if(i){const e=i?.trim?.()?.toLowerCase?.();if(e!==i)return void this.setAttribute("icon-style",e)}if(this.#b="",!this.isConnected)return void(this.#v=this.icon);this.updateIcon();break;case"size":i?this.style.setProperty("--icon-size","number"==typeof i||/^\d+$/.test(i)?`${i}px`:i):this.style.removeProperty("--icon-size"),this.isConnected&&this.#T();break;case"width":if(null==i||""===i)this.style.removeProperty("width");else{const e="number"==typeof i||/^\d+$/.test(i)?`${i}px`:i;this.style.width=e}this.isConnected&&this.#T();break;case"icon-base":this.#h="",this.#b="",this.isConnected&&this.updateIcon(this.icon)}}#$=0;static#C=3;static#S=500;updateIcon(e){const t="string"==typeof e&&e.length>0?e:this.icon,i=t?.trim?.()??"";if(!this.isConnected)return this.#v=i,this;if("undefined"!=typeof IntersectionObserver&&!this.#y)return this.#v=i,this;if(this.#v=null,!i)return this;let n=(this.iconStyle??"duotone")?.trim?.()?.toLowerCase?.();const r=Lt(i);if(!r||!/^[a-z0-9-]+$/.test(r))return console.warn(`[ui-icon] Invalid icon name: ${r}`),this;["thin","light","regular","bold","fill","duotone"].includes(n)||(console.warn(`[ui-icon] Invalid icon style: ${n}, defaulting to 'duotone'`),n="duotone");const a="duotone"===n?`${r}-duotone`:"regular"!==n?`${r}-${n}`:r,o=`https://cdn.jsdelivr.net/npm/@phosphor-icons/core@2/assets/${n}/${a}.svg`,s=`/assets/icons/phosphor/${n}/${r}.svg`,l=(this.iconBase??"").trim().replace(/\/+$/,""),c=l?`${l}/${n}/${a}.svg`:"",u=`${n}:${r}`;return this.#b=u,requestAnimationFrame(()=>{const e=!this.#h||this.#y||(this?.checkVisibility?.({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0})??!0);if(console.log(`[ui-icon] Checking load conditions for ${u}:`,{hasCurrentUrl:!!this.#h,isIntersecting:this.#y,shouldLoad:e}),e){const e=c?[o,s,c]:[o,s];(async()=>{let t=null,n=null;for(const i of e)try{const e=await Wt(i);if(t=e,i===c&&e===Vt)continue;break}catch(a){n=a}const r=t;if(console.log(`[ui-icon] Loaded icon ${u} (${c?"local+proxy+fallback":"proxy+fallback"}):`,r),r&&"string"==typeof r)if(this.#b===u){if(this.#h=r,this.#$=0,this.#T(),r===Vt&&n instanceof Error){n.message.includes("Timeout")&&this.#$<_t.#C&&this.isConnected&&(this.#$++,setTimeout(()=>{this.isConnected&&this.#b===u&&this.updateIcon(i)},_t.#S*this.#$))}}else console.log(`[ui-icon] Ignoring outdated request for ${u}`);else console.warn(`[ui-icon] Invalid URL returned for ${u}:`,r)})().catch(e=>{"undefined"!=typeof console&&console.error?.("[ui-icon] Failed to load icon sources",{directCdnPath:o,proxyCdnPath:s,localPath:c},e)})}}),this}#E(){if(console.log("[ui-icon] Setting up visibility observer"),"undefined"==typeof IntersectionObserver)return console.log("[ui-icon] IntersectionObserver not available, setting intersecting to true"),void(this.#y=!0);this.#x?console.log("[ui-icon] Visibility observer already exists"):(console.log("[ui-icon] Creating new IntersectionObserver"),this.#x=new IntersectionObserver(e=>{const t=e.some(e=>e.isIntersecting);console.log(`[ui-icon] IntersectionObserver callback: isIntersecting=${t}, was=${this.#y}`),t!==this.#y&&(this.#y=t,t&&(console.log("[ui-icon] Element became visible, updating icon"),this.updateIcon(this.#v??this.icon)))},{rootMargin:"100px"}),console.log("[ui-icon] Starting observation"),this.#x.observe(this),this.addEventListener("contentvisibilityautostatechange",this.#A),console.log("[ui-icon] Setting initial intersecting state to true"),this.#y=!0)}#R(){this.#x?.disconnect(),this.#x=void 0,this.removeEventListener("contentvisibilityautostatechange",this.#A)}#A=e=>{!1===e.skipped&&this.updateIcon(this.#v??this.icon)};#w(){this.shadowRoot||this.attachShadow({mode:"open"})}#z(){this.classList.add("ui-icon","u2-icon");try{this.inert=!0}catch{this.setAttribute("inert","")}const e=this.#a.padding;if(!this.style.getPropertyValue("--icon-padding")&&null!=e&&""!==e){const t="number"==typeof e?`${e}rem`:String(e);this.style.setProperty("--icon-padding",t)}const t=this.getAttribute("size");t&&this.style.setProperty("--icon-size","number"==typeof t||/^\d+$/.test(t)?`${t}px`:t)}#k(e){if("undefined"!=typeof ResizeObserver&&!this.#d){this.#d=new ResizeObserver(t=>{for(const i of t){if(i.target!==e)continue;const t=i.devicePixelContentBoxSize?.[0],n=Array.isArray(i.contentBoxSize)?i.contentBoxSize[0]:i.contentBoxSize,r="number"==typeof devicePixelRatio&&isFinite(devicePixelRatio)?devicePixelRatio:1,a=t?.inlineSize??(n?.inlineSize??i.contentRect?.width??e.clientWidth??yt)*r,o=t?.blockSize??(n?.blockSize??i.contentRect?.height??e.clientHeight??yt)*r;this.#p={inline:a||yt,block:o||yt},this.#T()}});try{this.#d.observe(e,{box:"device-pixel-content-box"})}catch{this.#d.observe(e)}}}#T(){if(!this.#h||!this.isConnected)return;if(this.#m)return;const e=Promise.withResolvers();this.#m=e?.promise,requestAnimationFrame(()=>{this.#m=null,e?.resolve();const t=this.#h;if(!t||!this.isConnected)return;const i=this.#P(),n=Lt(this.icon),r=this.iconStyle;((e,t,i=32)=>{const n=ht(e,t,i);return tt.has(n)||ot.some(e=>e.key===n)})(n,r,i)||qt(t,this.#b,i).then(e=>{console.log(`[ui-icon] Got mask value for ${n}:${r}:`,e),ft(n,r,e,i),console.log(`[ui-icon] Registered CSS rule for ${n}:${r}`),this.#g.value!==e&&(this.#g.value=e)}).catch(e=>{"undefined"!=typeof console&&console.warn?.("[ui-icon] Mask update failed",e)})})}#P(){const e=this,t=Math.ceil(this.#p?.inline||0),i=Math.ceil(this.#p?.block||0),n=Math.max(t,i);if(n>0)return It(n);let r=yt;const a="number"==typeof devicePixelRatio&&isFinite(devicePixelRatio)?devicePixelRatio:1;if("function"==typeof e.getBoundingClientRect){const t=e.getBoundingClientRect(),i=Math.max(t.width,t.height)*a;i>0&&(r=i)}return It(r)}}"undefined"==typeof window||customElements.get("ui-icon")||(console.log(_t),customElements.define("ui-icon",_t));const Zt='@layer tokens,base,layout,utilities,shells,shell,views,view,viewer,components,ux-layer,markdown,essentials,print,print-breaks,overrides;@layer ux-file-manager{:host(ui-file-manager),:host(ui-file-manager) :where(*){border:0 #0000;box-sizing:border-box;line-height:0;margin:0;outline:0 none #0000;overflow:hidden;padding:0;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;user-select:none;-webkit-tap-highlight-color:transparent}:host(ui-file-manager){background-color:var(--color-surface);block-size:stretch;border-radius:0;color:var(--color-on-surface);container-type:inline-size;content-visibility:auto;display:grid;inline-size:stretch;margin:0;overflow:hidden;perspective:1000}:host(ui-file-manager) .fm-root{block-size:stretch;display:grid;gap:var(--gap-xs);grid-template-columns:[content-col] minmax(0,1fr);grid-template-rows:auto minmax(0,1fr);inline-size:stretch;overflow:hidden}:host(ui-file-manager) .fm-toolbar{border-radius:.5rem;display:grid;gap:.5rem;grid-auto-flow:column;grid-column:1/-1;grid-template-columns:minmax(0,max-content) minmax(0,1fr) minmax(0,max-content);grid-template-rows:minmax(0,1fr);line-height:0;padding:.25rem;place-content:center;place-items:center}:host(ui-file-manager) .fm-toolbar button,:host(ui-file-manager) .fm-toolbar input{background-color:var(--color-surface-container);color:var(--color-on-surface)}:host(ui-file-manager) .fm-toolbar .btn{appearance:none;aspect-ratio:1/1;block-size:2.5rem;border:0;border-radius:0;cursor:pointer;inline-size:2.5rem;padding:.65rem;transition:background .1s ease-in-out}:host(ui-file-manager) .fm-toolbar>*{block-size:fit-content;border-radius:.5rem;display:flex;flex-direction:row;flex-wrap:nowrap;gap:0;min-block-size:stretch;overflow:hidden;padding:0}:host(ui-file-manager) .fm-toolbar .fm-toolbar-left{grid-column:1}:host(ui-file-manager) .fm-toolbar .fm-toolbar-left,:host(ui-file-manager) .fm-toolbar .fm-toolbar-right{border-radius:var(--radius-lg,.25rem)}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center{block-size:fit-content;border-radius:.5rem;flex-grow:1;grid-column:2;inline-size:stretch;min-block-size:stretch;overflow:hidden;padding:0;place-content:center;justify-content:start;place-items:center}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center>*{block-size:stretch;inline-size:stretch}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center input{border:0 #0000;inline-size:stretch;outline:0 none #0000;padding-inline:.75rem}:host(ui-file-manager) .fm-toolbar .fm-toolbar-right{grid-column:3}:host(ui-file-manager) .fm-sidebar{align-content:start;border-radius:.5rem;display:none;gap:.5rem;grid-column:sidebar-col;grid-row:2;justify-content:start;justify-items:start;line-height:normal;padding:.5rem;text-align:start}:host(ui-file-manager) .fm-sidebar .sec{display:grid;gap:.25rem;place-content:start;justify-content:start;place-items:start;justify-items:start}:host(ui-file-manager) .fm-sidebar .sec-title{font-weight:600;opacity:.8;padding-block:.25rem;place-self:start}:host(ui-file-manager) .fm-sidebar .link{appearance:none;border:0;border-radius:.375rem;cursor:pointer;line-height:normal;padding:.25rem .375rem;text-align:start}:host(ui-file-manager) .fm-content{block-size:stretch;border-radius:.5rem;grid-column:content-col;grid-row:2;inline-size:stretch;overflow:auto;padding:.25rem;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none}:host(ui-file-manager) .status{opacity:.8;padding:.5rem}:host(ui-file-manager) .status.error{color:var(--error-color,crimson)}@container (inline-size < 520px){:host(ui-file-manager) .fm-content{grid-column:1/-1}:host(ui-file-manager) .fm-root{grid-column:1/-1}:host(ui-file-manager) .fm-grid{grid-column:1/-1}:host(ui-file-manager) .fm-root[data-with-sidebar=true]{grid-template-columns:[content-col] minmax(0,1fr)}:host(ui-file-manager) .fm-sidebar{display:none!important}}}@layer ux-file-manager-content{:host(ui-file-manager-content),:host(ui-file-manager-content) :where(*){overflow:hidden;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none}:host(ui-file-manager-content){background-color:var(--color-surface);block-size:stretch;border-radius:.5rem;color:var(--color-on-surface);contain:none;container-type:size;display:block;grid-column:1/-1;inline-size:stretch;isolation:isolate;margin:0;overflow:auto;perspective:1000;pointer-events:auto;position:relative;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;touch-action:manipulation;z-index:1}:host(ui-file-manager-content) .fm-grid{align-content:start;block-size:fit-content;display:grid;grid-template-rows:minmax(max-content,2rem) minmax(0,1fr);inline-size:stretch;min-block-size:stretch;overflow:visible;pointer-events:none;row-gap:var(--gap-xs);scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;touch-action:manipulation}@container (inline-size <= 600px){:host(ui-file-manager-content) .fm-grid{grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,0) [actions] minmax(8rem,max-content)}}:host(ui-file-manager-content) .fm-grid-rows{align-content:start;block-size:stretch;contain:strict;contain-intrinsic-size:1px 3rem;content-visibility:auto;display:grid;gap:var(--gap-xs);grid-auto-rows:3rem;grid-column:1/-1;grid-template-columns:subgrid;inline-size:stretch;overflow:auto;pointer-events:auto;scrollbar-color:var(--on-surface-color,currentColor) #0000;scrollbar-gutter:auto;scrollbar-width:thin;touch-action:manipulation;z-index:1}:host(ui-file-manager-content) .fm-grid-rows slot{display:contents!important}:host(ui-file-manager-content) :where(.row){block-size:3rem;border-radius:.375rem;color:var(--color-on-surface-variant);cursor:pointer;display:grid;grid-column:1/-1;grid-template-rows:2.5rem!important;inline-size:stretch;min-block-size:max-content;order:var(--order,1)!important;place-content:center;place-items:center;justify-items:start;padding:.25rem .375rem;place-self:center;pointer-events:auto;touch-action:manipulation;user-drag:none;-webkit-user-drag:none;background-color:var(--surface-color,#0000);flex-wrap:nowrap;gap:.25rem;letter-spacing:-.05em;overflow:hidden;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}@media(hover:hover)and (pointer:fine){:host(ui-file-manager-content) :where(.row){user-drag:element;-webkit-user-drag:element}}:host(ui-file-manager-content) :where(.row) ui-icon{block-size:1.25rem;inline-size:1.25rem;place-content:center;place-items:center}:host(ui-file-manager-content) :where(.row) a,:host(ui-file-manager-content) :where(.row) span{background-color:initial!important}:host(ui-file-manager-content) :where(.row)>*{background-color:initial!important;block-size:3rem;min-block-size:max-content}:host(ui-file-manager-content) .row:hover{background-color:var(--color-surface-container-high)}:host(ui-file-manager-content) .row:active{background-color:var(--color-surface-container-highest)}:host(ui-file-manager-content) .row:focus-visible{outline:var(--focus-ring)}:host(ui-file-manager-content) .c{block-size:3rem;color:var(--color-on-surface);display:flex;flex-direction:row;inline-size:auto;min-inline-size:0;overflow:hidden;place-content:center;justify-content:start;min-block-size:max-content;place-items:center;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}:host(ui-file-manager-content) .icon{grid-column:icon;place-content:center;place-items:center}:host(ui-file-manager-content) .name{grid-column:name;inline-size:stretch}:host(ui-file-manager-content) .size{grid-column:size}:host(ui-file-manager-content) .date{grid-column:date}:host(ui-file-manager-content) .actions{grid-column:actions}:host(ui-file-manager-content) .fm-grid,:host(ui-file-manager-content) .fm-grid-header,:host(ui-file-manager-content) .row,:host(ui-file-manager-content) ::slotted(.row){grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,8rem) [actions] minmax(8rem,max-content)}@container (inline-size <= 600px){:host(ui-file-manager-content) .fm-grid,:host(ui-file-manager-content) .fm-grid-header,:host(ui-file-manager-content) .row,:host(ui-file-manager-content) ::slotted(.row){grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,0) [actions] minmax(8rem,max-content)}:host(ui-file-manager-content) .date{display:none!important}}:host(ui-file-manager-content) .actions{background-color:var(--color-surface);block-size:stretch;border-radius:.5rem;box-shadow:0 .0625rem .125rem oklch(from #000 l c h/.1);color:var(--color-on-surface);display:flex;flex-direction:row;flex-wrap:nowrap;gap:0;inline-size:fit-content;max-block-size:2rem;max-inline-size:stretch;overflow:hidden;padding:0;place-content:center;place-items:center;place-self:center;pointer-events:none}:host(ui-file-manager-content) .action-btn{appearance:none;aspect-ratio:1.25/1;background-color:var(--color-surface);block-size:stretch;border:none;border-radius:0;box-shadow:none;color:var(--color-on-surface);cursor:pointer;display:flex;inline-size:fit-content;max-block-size:stretch;max-inline-size:stretch;min-block-size:2rem;min-inline-size:2.5rem;overflow:visible;padding:.5rem;place-content:center;place-items:center;position:relative;transition:all .15s cubic-bezier(.4,0,.2,1)}:host(ui-file-manager-content) .action-btn ui-icon{block-size:stretch;inline-size:stretch;min-block-size:.875rem;min-inline-size:.875rem}:host(ui-file-manager-content) .fm-grid-header{border-radius:.375rem;display:grid;font-size:.875em;gap:.25rem;grid-column:1/-1;inset-block-start:0;opacity:1;padding:.25rem .375rem;place-content:center;justify-content:start;place-items:center;justify-items:start;pointer-events:auto;position:sticky!important;text-align:start;touch-action:manipulation;z-index:2}:host(ui-file-manager-content) .fm-grid-header>*{inline-size:auto}:host(ui-file-manager-content) .fm-grid-header .c{font-weight:600}:host(ui-file-manager-content) .fm-grid-header .icon{grid-column:icon}:host(ui-file-manager-content) .fm-grid-header .name{grid-column:name;inline-size:stretch}:host(ui-file-manager-content) .fm-grid-header .size{grid-column:size}:host(ui-file-manager-content) .fm-grid-header .date{grid-column:date}:host(ui-file-manager-content) .fm-grid-header .actions{block-size:fit-content;border-radius:0;box-shadow:none;display:flex;flex-direction:row;flex-wrap:nowrap;gap:.25rem;grid-column:actions;inline-size:stretch;max-inline-size:stretch;overflow:hidden;padding:0;place-content:center;justify-content:start;place-items:center;justify-items:start;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}}:root{--fl-surface:#fff;--fl-on-surface:#1a1a1a;--fl-surface-variant:#f5f5f5;--fl-on-surface-variant:#444;--fl-primary:#1a73e8;--fl-on-primary:#fff;--fl-primary-container:#d3e3fd;--fl-on-primary-container:#041e49;--fl-secondary:#5f6368;--fl-on-secondary:#fff;--fl-accent:#ea4335;--fl-on-accent:#fff;--fl-success:#34a853;--fl-warning:#fbbc04;--fl-error:#ea4335;--fl-info:#4285f4;--fl-font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;--fl-font-family-mono:"Roboto Mono","Fira Code",monospace;--fl-text-xs:.7rem;--fl-text-sm:.8rem;--fl-text-base:.9rem;--fl-text-lg:1rem;--fl-text-xl:1.25rem;--fl-text-2xl:1.6rem;--fl-text-3xl:2rem;--fl-text-4xl:2.5rem;--fl-font-weight-normal:400;--fl-font-weight-medium:500;--fl-font-weight-semibold:600;--fl-font-weight-bold:700;--fl-leading-tight:1.2;--fl-leading-normal:1.5;--fl-leading-relaxed:1.8;--fl-space-xs:.25rem;--fl-space-sm:.5rem;--fl-space-md:.75rem;--fl-space-lg:1rem;--fl-space-xl:1.25rem;--fl-space-2xl:1.6rem;--fl-radius-xs:.25rem;--fl-radius-sm:.5rem;--fl-radius-md:.75rem;--fl-radius-lg:.85rem;--fl-radius-xl:1rem;--fl-radius-2xl:1.25rem;--fl-radius-full:9999px;--fl-shadow-sm:0 1px 2px #0000000d;--fl-shadow-md:0 4px 6px #0000001a;--fl-shadow-lg:0 10px 15px #0000001a;--fl-shadow-xl:0 20px 25px #0000001a;--fl-shadow-2xl:0 25px 50px #0000001a;--fl-transition-fast:.14s ease;--fl-transition-normal:.16s ease;--fl-transition-slow:.2s ease;--fl-z-dropdown:1000;--fl-z-sticky:1020;--fl-z-fixed:1030;--fl-z-modal-backdrop:1040;--fl-z-modal:1050;--fl-z-popover:1060;--fl-z-tooltip:1070}@media(prefers-color-scheme:dark){:root{--fl-surface:#1a1a1a;--fl-on-surface:#e8e8e8;--fl-surface-variant:#2d2d2d;--fl-on-surface-variant:#c4c4c4;--fl-primary:#8ab4f8;--fl-on-primary:#062e6f;--fl-primary-container:#0842a0;--fl-on-primary-container:#d3e3fd}}',Xt='@layer tokens,base,layout,utilities,shells,shell,views,view,viewer,components,ux-layer,markdown,essentials,print,print-breaks,overrides;@layer ux-file-manager{:host(ui-file-manager),:host(ui-file-manager) :where(*){border:0 #0000;box-sizing:border-box;line-height:0;margin:0;outline:0 none #0000;overflow:hidden;padding:0;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;user-select:none;-webkit-tap-highlight-color:transparent}:host(ui-file-manager){background-color:var(--color-surface);block-size:stretch;border-radius:0;color:var(--color-on-surface);container-type:inline-size;content-visibility:auto;display:grid;inline-size:stretch;margin:0;overflow:hidden;perspective:1000}:host(ui-file-manager) .fm-root{block-size:stretch;display:grid;gap:var(--gap-xs);grid-template-columns:[content-col] minmax(0,1fr);grid-template-rows:auto minmax(0,1fr);inline-size:stretch;overflow:hidden}:host(ui-file-manager) .fm-toolbar{border-radius:.5rem;display:grid;gap:.5rem;grid-auto-flow:column;grid-column:1/-1;grid-template-columns:minmax(0,max-content) minmax(0,1fr) minmax(0,max-content);grid-template-rows:minmax(0,1fr);line-height:0;padding:.25rem;place-content:center;place-items:center}:host(ui-file-manager) .fm-toolbar button,:host(ui-file-manager) .fm-toolbar input{background-color:var(--color-surface-container);color:var(--color-on-surface)}:host(ui-file-manager) .fm-toolbar .btn{appearance:none;aspect-ratio:1/1;block-size:2.5rem;border:0;border-radius:0;cursor:pointer;inline-size:2.5rem;padding:.65rem;transition:background .1s ease-in-out}:host(ui-file-manager) .fm-toolbar>*{block-size:fit-content;border-radius:.5rem;display:flex;flex-direction:row;flex-wrap:nowrap;gap:0;min-block-size:stretch;overflow:hidden;padding:0}:host(ui-file-manager) .fm-toolbar .fm-toolbar-left{grid-column:1}:host(ui-file-manager) .fm-toolbar .fm-toolbar-left,:host(ui-file-manager) .fm-toolbar .fm-toolbar-right{border-radius:var(--radius-lg,.25rem)}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center{block-size:fit-content;border-radius:.5rem;flex-grow:1;grid-column:2;inline-size:stretch;min-block-size:stretch;overflow:hidden;padding:0;place-content:center;justify-content:start;place-items:center}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center>*{block-size:stretch;inline-size:stretch}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center input{border:0 #0000;inline-size:stretch;outline:0 none #0000;padding-inline:.75rem}:host(ui-file-manager) .fm-toolbar .fm-toolbar-right{grid-column:3}:host(ui-file-manager) .fm-sidebar{align-content:start;border-radius:.5rem;display:none;gap:.5rem;grid-column:sidebar-col;grid-row:2;justify-content:start;justify-items:start;line-height:normal;padding:.5rem;text-align:start}:host(ui-file-manager) .fm-sidebar .sec{display:grid;gap:.25rem;place-content:start;justify-content:start;place-items:start;justify-items:start}:host(ui-file-manager) .fm-sidebar .sec-title{font-weight:600;opacity:.8;padding-block:.25rem;place-self:start}:host(ui-file-manager) .fm-sidebar .link{appearance:none;border:0;border-radius:.375rem;cursor:pointer;line-height:normal;padding:.25rem .375rem;text-align:start}:host(ui-file-manager) .fm-content{block-size:stretch;border-radius:.5rem;grid-column:content-col;grid-row:2;inline-size:stretch;overflow:auto;padding:.25rem;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none}:host(ui-file-manager) .status{opacity:.8;padding:.5rem}:host(ui-file-manager) .status.error{color:var(--error-color,crimson)}@container (inline-size < 520px){:host(ui-file-manager) .fm-content{grid-column:1/-1}:host(ui-file-manager) .fm-root{grid-column:1/-1}:host(ui-file-manager) .fm-grid{grid-column:1/-1}:host(ui-file-manager) .fm-root[data-with-sidebar=true]{grid-template-columns:[content-col] minmax(0,1fr)}:host(ui-file-manager) .fm-sidebar{display:none!important}}}@layer ux-file-manager-content{:host(ui-file-manager-content),:host(ui-file-manager-content) :where(*){overflow:hidden;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none}:host(ui-file-manager-content){background-color:var(--color-surface);block-size:stretch;border-radius:.5rem;color:var(--color-on-surface);contain:none;container-type:size;display:block;grid-column:1/-1;inline-size:stretch;isolation:isolate;margin:0;overflow:auto;perspective:1000;pointer-events:auto;position:relative;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;touch-action:manipulation;z-index:1}:host(ui-file-manager-content) .fm-grid{align-content:start;block-size:fit-content;display:grid;grid-template-rows:minmax(max-content,2rem) minmax(0,1fr);inline-size:stretch;min-block-size:stretch;overflow:visible;pointer-events:none;row-gap:var(--gap-xs);scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;touch-action:manipulation}@container (inline-size <= 600px){:host(ui-file-manager-content) .fm-grid{grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,0) [actions] minmax(8rem,max-content)}}:host(ui-file-manager-content) .fm-grid-rows{align-content:start;block-size:stretch;contain:strict;contain-intrinsic-size:1px 3rem;content-visibility:auto;display:grid;gap:var(--gap-xs);grid-auto-rows:3rem;grid-column:1/-1;grid-template-columns:subgrid;inline-size:stretch;overflow:auto;pointer-events:auto;scrollbar-color:var(--on-surface-color,currentColor) #0000;scrollbar-gutter:auto;scrollbar-width:thin;touch-action:manipulation;z-index:1}:host(ui-file-manager-content) .fm-grid-rows slot{display:contents!important}:host(ui-file-manager-content) :where(.row){block-size:3rem;border-radius:.375rem;color:var(--color-on-surface-variant);cursor:pointer;display:grid;grid-column:1/-1;grid-template-rows:2.5rem!important;inline-size:stretch;min-block-size:max-content;order:var(--order,1)!important;place-content:center;place-items:center;justify-items:start;padding:.25rem .375rem;place-self:center;pointer-events:auto;touch-action:manipulation;user-drag:none;-webkit-user-drag:none;background-color:var(--surface-color,#0000);flex-wrap:nowrap;gap:.25rem;letter-spacing:-.05em;overflow:hidden;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}@media(hover:hover)and (pointer:fine){:host(ui-file-manager-content) :where(.row){user-drag:element;-webkit-user-drag:element}}:host(ui-file-manager-content) :where(.row) ui-icon{block-size:1.25rem;inline-size:1.25rem;place-content:center;place-items:center}:host(ui-file-manager-content) :where(.row) a,:host(ui-file-manager-content) :where(.row) span{background-color:initial!important}:host(ui-file-manager-content) :where(.row)>*{background-color:initial!important;block-size:3rem;min-block-size:max-content}:host(ui-file-manager-content) .row:hover{background-color:var(--color-surface-container-high)}:host(ui-file-manager-content) .row:active{background-color:var(--color-surface-container-highest)}:host(ui-file-manager-content) .row:focus-visible{outline:var(--focus-ring)}:host(ui-file-manager-content) .c{block-size:3rem;color:var(--color-on-surface);display:flex;flex-direction:row;inline-size:auto;min-inline-size:0;overflow:hidden;place-content:center;justify-content:start;min-block-size:max-content;place-items:center;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}:host(ui-file-manager-content) .icon{grid-column:icon;place-content:center;place-items:center}:host(ui-file-manager-content) .name{grid-column:name;inline-size:stretch}:host(ui-file-manager-content) .size{grid-column:size}:host(ui-file-manager-content) .date{grid-column:date}:host(ui-file-manager-content) .actions{grid-column:actions}:host(ui-file-manager-content) .fm-grid,:host(ui-file-manager-content) .fm-grid-header,:host(ui-file-manager-content) .row,:host(ui-file-manager-content) ::slotted(.row){grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,8rem) [actions] minmax(8rem,max-content)}@container (inline-size <= 600px){:host(ui-file-manager-content) .fm-grid,:host(ui-file-manager-content) .fm-grid-header,:host(ui-file-manager-content) .row,:host(ui-file-manager-content) ::slotted(.row){grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,0) [actions] minmax(8rem,max-content)}:host(ui-file-manager-content) .date{display:none!important}}:host(ui-file-manager-content) .actions{background-color:var(--color-surface);block-size:stretch;border-radius:.5rem;box-shadow:0 .0625rem .125rem oklch(from #000 l c h/.1);color:var(--color-on-surface);display:flex;flex-direction:row;flex-wrap:nowrap;gap:0;inline-size:fit-content;max-block-size:2rem;max-inline-size:stretch;overflow:hidden;padding:0;place-content:center;place-items:center;place-self:center;pointer-events:none}:host(ui-file-manager-content) .action-btn{appearance:none;aspect-ratio:1.25/1;background-color:var(--color-surface);block-size:stretch;border:none;border-radius:0;box-shadow:none;color:var(--color-on-surface);cursor:pointer;display:flex;inline-size:fit-content;max-block-size:stretch;max-inline-size:stretch;min-block-size:2rem;min-inline-size:2.5rem;overflow:visible;padding:.5rem;place-content:center;place-items:center;position:relative;transition:all .15s cubic-bezier(.4,0,.2,1)}:host(ui-file-manager-content) .action-btn ui-icon{block-size:stretch;inline-size:stretch;min-block-size:.875rem;min-inline-size:.875rem}:host(ui-file-manager-content) .fm-grid-header{border-radius:.375rem;display:grid;font-size:.875em;gap:.25rem;grid-column:1/-1;inset-block-start:0;opacity:1;padding:.25rem .375rem;place-content:center;justify-content:start;place-items:center;justify-items:start;pointer-events:auto;position:sticky!important;text-align:start;touch-action:manipulation;z-index:2}:host(ui-file-manager-content) .fm-grid-header>*{inline-size:auto}:host(ui-file-manager-content) .fm-grid-header .c{font-weight:600}:host(ui-file-manager-content) .fm-grid-header .icon{grid-column:icon}:host(ui-file-manager-content) .fm-grid-header .name{grid-column:name;inline-size:stretch}:host(ui-file-manager-content) .fm-grid-header .size{grid-column:size}:host(ui-file-manager-content) .fm-grid-header .date{grid-column:date}:host(ui-file-manager-content) .fm-grid-header .actions{block-size:fit-content;border-radius:0;box-shadow:none;display:flex;flex-direction:row;flex-wrap:nowrap;gap:.25rem;grid-column:actions;inline-size:stretch;max-inline-size:stretch;overflow:hidden;padding:0;place-content:center;justify-content:start;place-items:center;justify-items:start;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}}:root{--fl-surface:#fff;--fl-on-surface:#1a1a1a;--fl-surface-variant:#f5f5f5;--fl-on-surface-variant:#444;--fl-primary:#1a73e8;--fl-on-primary:#fff;--fl-primary-container:#d3e3fd;--fl-on-primary-container:#041e49;--fl-secondary:#5f6368;--fl-on-secondary:#fff;--fl-accent:#ea4335;--fl-on-accent:#fff;--fl-success:#34a853;--fl-warning:#fbbc04;--fl-error:#ea4335;--fl-info:#4285f4;--fl-font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;--fl-font-family-mono:"Roboto Mono","Fira Code",monospace;--fl-text-xs:.7rem;--fl-text-sm:.8rem;--fl-text-base:.9rem;--fl-text-lg:1rem;--fl-text-xl:1.25rem;--fl-text-2xl:1.6rem;--fl-text-3xl:2rem;--fl-text-4xl:2.5rem;--fl-font-weight-normal:400;--fl-font-weight-medium:500;--fl-font-weight-semibold:600;--fl-font-weight-bold:700;--fl-leading-tight:1.2;--fl-leading-normal:1.5;--fl-leading-relaxed:1.8;--fl-space-xs:.25rem;--fl-space-sm:.5rem;--fl-space-md:.75rem;--fl-space-lg:1rem;--fl-space-xl:1.25rem;--fl-space-2xl:1.6rem;--fl-radius-xs:.25rem;--fl-radius-sm:.5rem;--fl-radius-md:.75rem;--fl-radius-lg:.85rem;--fl-radius-xl:1rem;--fl-radius-2xl:1.25rem;--fl-radius-full:9999px;--fl-shadow-sm:0 1px 2px #0000000d;--fl-shadow-md:0 4px 6px #0000001a;--fl-shadow-lg:0 10px 15px #0000001a;--fl-shadow-xl:0 20px 25px #0000001a;--fl-shadow-2xl:0 25px 50px #0000001a;--fl-transition-fast:.14s ease;--fl-transition-normal:.16s ease;--fl-transition-slow:.2s ease;--fl-z-dropdown:1000;--fl-z-sticky:1020;--fl-z-fixed:1030;--fl-z-modal-backdrop:1040;--fl-z-modal:1050;--fl-z-popover:1060;--fl-z-tooltip:1070}@media(prefers-color-scheme:dark){:root{--fl-surface:#1a1a1a;--fl-on-surface:#e8e8e8;--fl-surface-variant:#2d2d2d;--fl-on-surface-variant:#c4c4c4;--fl-primary:#8ab4f8;--fl-on-primary:#062e6f;--fl-primary-container:#0842a0;--fl-on-primary-container:#d3e3fd}}@layer fl-ui-base,fl-ui-components,fl-ui-utilities;';console.log(_t);var Yt=Object.defineProperty,Kt=Object.getOwnPropertyDescriptor,Gt=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?Kt(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&Yt(t,i,a),a};let Jt=class extends(D()){theme="default";render=function(){return F`<slot></slot>`};constructor(){super()}onRender(){return super.onRender()}connectedCallback(){const e=super.connectedCallback?.();return e??this}onInitialize(){const e=super.onInitialize()??this;return e.loadStyleLibrary(mt()),e}};Gt([V({source:"attr"})],Jt.prototype,"theme",2),Jt=Gt([B("ui-element")],Jt);const Qt=Jt;class ei{task;element;listeners;bindings;constructor(e=null,t=null){this.update(e,t)}update(e=null,t=null){return this.task!==t&&(this.task=t),this.bind(e),this}unbind(){this.bindings&&(Object.values(this.bindings).forEach(e=>{"function"==typeof e?e():e?.unbind?.()}),this.bindings?.orderSub?.(),this.bindings=null),this.listeners&&(Object.values(this.listeners).forEach(e=>{"function"==typeof e?e():e?.remove?.()}),this.listeners=null),this.element&&(N(this.element,this.task,!1),W(this.element,"data-focus",null),W(this.element,"data-title",null),W(this.element,"data-icon",null),I(this.element,"--order",null))}bind(e=null){if(this.element!==e&&(this.element=e),this.bindings&&this.unbind(),this.element){this.bindings??={};const e=H(this.task,"active");this.bindings.visible=O(this.element,"data-hidden",e,N);const t=H(this.task?.payload,"title");this.bindings.title=O(this.element,"title",t,W);const i=H(this.task?.payload,"icon");this.bindings.icon=O(this.element,"icon",i,W),g(this.element,"--order",this.task?.order),document.addEventListener("task-focus",e=>{g(this.element,"--order",this.task?.order)}),this.listeners??={},this.listeners.click=T(this.element,"pointerdown",()=>{this.task&&(this.task.focus=!0)}),this.listeners.keydown=T(this.element,"keydown",e=>{"Enter"==e.key&&this.task&&(this.task.focus=!0)}),this.listeners.focus=T(this.element,"focus",e=>{this.task&&(this.task.focus=!0)}),this.listeners.blur=T(this.element,"blur",e=>{this.task&&(this.task.focus=!1)}),this.listeners.close=T(this.element,"close",e=>{this.task&&(this.element.addEventListener("u2-hidden",()=>{this.task?.removeFromList()},{once:!0}),this.element.setAttribute("data-hidden",""))}),this.listeners.minimize=T(this.element,"minimize",e=>{this.task&&(this.task.focus=!1,this.task.active=!1)}),this.listeners.maximize=T(this.element,"maximize",e=>{this.task})}return this}}var ti=Object.defineProperty,ii=Object.getOwnPropertyDescriptor,ni=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?ii(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&ti(t,i,a),a};const ri=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}@layer ui-window-frame{:host(ui-window-frame),:host(ui-window-frame) ::slotted(*),:host(ui-window-frame) :where(*){user-select:none;user-drag:none;-webkit-user-select:none;-webkit-user-drag:none;cursor:default;pointer-events:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent}:host(ui-window-frame) slot{background-color:initial!important;border:0 #0000!important;box-shadow:none!important;color:inherit!important;display:contents!important;outline:none!important;pointer-events:auto!important}:host(ui-window-frame){contain:layout paint style;opacity:var(--opacity,1);transform:scale3d(var(--scale,1),var(--scale,1),var(--scale,1)) translate3d(calc(var(--drag-x, 0) * 1px),calc(var(--drag-y, 0) * 1px),0)}:host(ui-window-frame[data-maximized]){opacity:var(--opacity,1);transform:scale3d(var(--scale,1),var(--scale,1),1);transform-box:fill-box;transform-origin:50% 50%;transform-style:flat}:host(ui-window-frame[data-maximized]){block-size:stretch;inline-size:stretch}:host(ui-window-frame[data-maximized]){inset-block-end:0;inset-block-start:0;inset-inline-end:0;inset-inline-start:0}:host(ui-window-frame[data-maximized]){border:0 solid #0000;border-radius:0}:host(ui-window-frame[data-maximized]){box-shadow:none;outline:none}:host(ui-window-frame[data-maximized]) .ui-window-frame-resize-handle{display:none!important}:host(ui-window-frame[data-dragging]){content-visibility:auto;transform:translate3d(calc(var(--drag-x, 0) * 1px),calc(var(--drag-y, 0) * 1px),0)}:host(ui-window-frame[data-dragging]) ::slotted(*){content-visibility:auto}:host(ui-window-frame[data-resizing]){will-change:inline-size,block-size,transform,opacity}@media(width<600px){:host(ui-window-frame){--ui-window-frame-border-radius:0px;--ui-window-frame-titlebar-height:48px}:host(ui-window-frame){opacity:var(--opacity,1);transform:scale3d(var(--scale,1),var(--scale,1),var(--scale,1));transform-box:fill-box;transform-origin:50% 50%;transform-style:flat}:host(ui-window-frame){block-size:stretch!important;inline-size:stretch!important;max-block-size:none!important;max-inline-size:none!important}:host(ui-window-frame){inset-block-end:auto!important;inset-block-start:0!important;inset-inline-end:auto!important;inset-inline-start:0!important}:host(ui-window-frame){border:0 solid #0000!important;border-radius:0!important}:host(ui-window-frame){box-shadow:none!important;outline:none!important}:host(ui-window-frame){--z-index-order:var(--order,sibling-index())!important;--z-index:var(--z-index-order,sibling-index())!important;z-index:calc(99 + var(--z-index, 0))!important}:host(ui-window-frame) .ui-window-frame-resize-handle{display:none!important}}}');let ai=class extends Jt{name="";icon="app-window";title="WINDOW_FRAME_TITLE";subtitle="WINDOW_FRAME_SUBTITLE";closeIcon="x";minimizeIcon="minus";maximizeIcon="corners-out";contentEl;titlebarEl;titlebarHandleEl;appIconEl;resizeHandleEl;titleTextEl;titleTextSubEl;closeEl;minimizeEl;maximizeEl;task=null;reflect;constructor(){super()}onInitialize(){super.onInitialize(),new $e(this,{handler:this.titlebarHandleEl}),new Te(this,{handler:this.resizeHandleEl}),$(this,{classList:new Set(["c2-surface"])});const e=this,t=new WeakRef(e),i=e=>i=>{i.preventDefault(),t.deref?.().dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0}))};this.closeEl?.addEventListener("click",i("close")),this.minimizeEl?.addEventListener("click",i("minimize")),this.maximizeEl?.addEventListener("click",i("maximize")),e.addEventListener("maximize",()=>{W(e,"data-maximized",null==e.getAttribute("data-maximized"))}),e.setAttribute("data-dragging",""),this.bindWithTask()}bindWithTask(e=null){return this.task!=e&&(this.task&&e&&(this.reflect?.unbind(),this.reflect=null,this.task=null),(this.task=e??this.task)&&(this.reflect??=new ei(this.task,this),this.reflect?.bind(this))),this}onRender(){super.onRender(),queueMicrotask(()=>{this.doCenter()})}doCenter(){const e=this,t=e.getBoundingClientRect(),i=e.parentElement,n=i?.getBoundingClientRect(),r=(n?.width||0)/2-(t?.width||0)/2,a=(n?.height||0)/2-(t?.height||0)/2;g(e,"--shift-x",r-(n?.left||0)),g(e,"--shift-y",a-(n?.top||0)),e.removeAttribute("data-dragging")}styles=function(){return ri};render=function(){return F`
        <div class="ui-window-frame-titlebar" part="titlebar">
            <span class="ui-window-frame-titlebar-handle" part="handle">
                <span class="ui-window-frame-titlebar-app-icon" part="app-icon">
                    <ui-icon name="window-frame-app-icon" icon=${this.icon??"window-frame-app-icon"}></ui-icon>
                </span>
                <span class="ui-window-frame-titlebar-title-text" part="title-text">
                    ${this.title||F`<slot name="title"></slot>`}
                </span>
                <span class="ui-window-frame-titlebar-title-text-sub" part="title-text-sub">
                    ${this.subtitle||F`<slot name="subtitle"></slot>`}
                </span>
            </span>
            <span class="ui-window-frame-titlebar-controls" part="controls">
                <button class="ui-window-frame-titlebar-control-minimize" part="control-minimize">
                    <ui-icon name="window-frame-minimize" icon=${this.minimizeIcon??"minus"}></ui-icon>
                </button>
                <button class="ui-window-frame-titlebar-control-maximize" part="control-maximize">
                    <ui-icon name="window-frame-maximize" icon=${this.maximizeIcon??"corners-out"}></ui-icon>
                </button>
                <button class="ui-window-frame-titlebar-control-close" part="control-close">
                    <ui-icon name="window-frame-close" icon=${this.closeIcon??"x"}></ui-icon>
                </button>
            </span>
        </div>
        <div class="ui-window-frame-content ui-window-frame-anchor-box" part="content">
            <slot></slot>
        </div>
        <span class="ui-window-frame-resize-handle" part="resize-handle"></span>`}};ni([V({source:"attr",name:"name"})],ai.prototype,"name",2),ni([V({source:"attr",name:"icon"})],ai.prototype,"icon",2),ni([V({source:"attr",name:"title"})],ai.prototype,"title",2),ni([V({source:"attr",name:"subtitle"})],ai.prototype,"subtitle",2),ni([V({source:"attr",name:"close-icon"})],ai.prototype,"closeIcon",2),ni([V({source:"attr",name:"minimize-icon"})],ai.prototype,"minimizeIcon",2),ni([V({source:"attr",name:"maximize-icon"})],ai.prototype,"maximizeIcon",2),ni([V({source:"query-shadow",name:".ui-window-frame-content"})],ai.prototype,"contentEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-titlebar"})],ai.prototype,"titlebarEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-titlebar-handle"})],ai.prototype,"titlebarHandleEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-titlebar-app-icon"})],ai.prototype,"appIconEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-resize-handle"})],ai.prototype,"resizeHandleEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-titlebar-title-text"})],ai.prototype,"titleTextEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-titlebar-title-text-sub"})],ai.prototype,"titleTextSubEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-titlebar-control-close"})],ai.prototype,"closeEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-titlebar-control-minimize"})],ai.prototype,"minimizeEl",2),ni([V({source:"query-shadow",name:".ui-window-frame-titlebar-control-maximize"})],ai.prototype,"maximizeEl",2),ai=ni([B("ui-window-frame")],ai);var oi=Object.defineProperty,si=Object.getOwnPropertyDescriptor,li=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?si(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&oi(t,i,a),a};const ci=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}@layer tabbed-box{:host{--tabbed-gap:var(--gap-sm,.5rem);--tabbed-radius:var(--radius-lg,.75rem);--tabbed-padding-inline:clamp(.25rem,1cqi + .25rem,1rem);--tabbed-padding-block:clamp(.25rem,1cqb + .25rem,.75rem);--tabbed-tab-gap:var(--gap-xs,.375rem);--tabbed-indicator-height:.2rem;--tabbed-indicator-ease:var(--ease-emphasized,cubic-bezier(.2,0,0,1));--tabbed-indicator-duration:var(--duration-normal,.16s);--tabbed-bar-block-size:clamp(3.5rem,1cqb + 2.5rem,4.25rem);--tabbed-grid-columns:minmax(0px,1fr);--tabbed-tabs-block-gap:var(--padding-sm,.75rem);--tabbed-bar-column-size:clamp(4rem,2cqb + 2.5rem,4.5rem);--tabbed-grid-rows:minmax(0px,1fr) minmax(0px,var(--tabbed-bar-block-size))}:host,:host ::slotted(*),:host :where(*){background-color:initial;border:none;box-sizing:border-box;gap:0;margin:0;outline:none;padding:0;user-select:none;-webkit-tap-highlight-color:transparent;border-radius:0;isolation:auto;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0}:host{background-color:initial!important;block-size:stretch;border-radius:0!important;contain:strict!important;container-type:inline-size;display:grid!important;gap:0!important;grid-template-areas:"content tabs"!important;grid-template-columns:var(--tabbed-grid-columns)!important;grid-template-rows:var(--tabbed-grid-rows)!important;inline-size:stretch;margin:0!important;overflow:hidden!important;padding:0!important;perspective:1000;position:relative;writing-mode:horizontal-tb}:host([orient="1"]){--tabbed-grid-columns:minmax(0px,var(--tabbed-bar-column-size)) minmax(0px,1fr);--tabbed-grid-rows:minmax(0px,1fr);grid-template-areas:"tabs content"!important}:host([orient="3"]){--tabbed-grid-columns:minmax(0px,1fr) minmax(0px,var(--tabbed-bar-column-size));--tabbed-grid-rows:minmax(0px,1fr);grid-template-areas:"content tabs"!important}:host([orient="0"]){--tabbed-grid-columns:minmax(0px,1fr);--tabbed-grid-rows:minmax(0px,1fr) minmax(0px,var(--tabbed-bar-block-size));grid-template-areas:"content" "tabs"!important}:host([orient="2"]){--tabbed-grid-columns:minmax(0px,1fr);--tabbed-grid-rows:minmax(0px,var(--tabbed-bar-block-size)) minmax(0px,1fr);grid-template-areas:"tabs" "content"!important}:host :where(.ui-tabbed-box-tabs,.ui-tabbed-box-content){margin:0}:host .ui-tabbed-box-tabs-container{align-items:center;background-color:initial;background-image:none;block-size:stretch;border-radius:0;display:flex;flex-direction:row;flex-wrap:nowrap;gap:0;grid-area:tabs;inline-size:stretch;isolation:auto;justify-content:center;margin-block:0;max-block-size:stretch;min-block-size:3rem;overflow:visible;padding:0;place-content:center;place-items:center;pointer-events:none;position:relative;scrollbar-width:none;text-align:center;transform:translateZ(0);z-index:1}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs{align-items:center;backdrop-filter:blur(16px);background-color:oklch(from var(--surface-color) l c h/.8);block-size:fit-content;border-radius:var(--tabbed-radius);contain:strict;display:flex;filter:drop-shadow(0 0 .5rem oklch(from #000 l c h/.2));flex-direction:row;gap:var(--tabbed-tab-gap);inline-size:fit-content;isolation:auto;margin-block:.25rem;margin-inline:.5rem;max-block-size:stretch;max-inline-size:stretch;min-block-size:var(--tabbed-bar-block-size);min-inline-size:stretch;overflow:visible;overflow-block:visible;overflow-inline:auto;overscroll-behavior-inline:contain;padding-block:calc(var(--tabbed-padding-block) * .65);padding-inline:calc(var(--tabbed-padding-inline) * .5);place-content:center;justify-content:safe center;place-items:center;justify-items:safe center;pointer-events:auto;position:relative;scroll-behavior:smooth;scrollbar-gutter:stable;scrollbar-width:none;touch-action:pan-x pan-y;transform:translateZ(0);z-index:2}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs,:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs *,:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs button{touch-action:pan-x pan-y}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tab{border-radius:var(--radius-full);color:color-mix(in oklch,var(--md3-on-surface) 85%,#0000);cursor:pointer;display:flex;flex-direction:row;flex-shrink:0;flex-wrap:nowrap;grid-area:tab;letter-spacing:.01em;overflow:visible;padding-block:calc(var(--tabbed-padding-block) * .6);padding-inline:calc(var(--tabbed-padding-inline) * .6);place-content:center;place-items:center;position:relative;text-align:center;text-wrap:nowrap;touch-action:pan-x pan-y;transition:color var(--duration-normal) var(--ease-out),transform var(--duration-fast) var(--ease-emphasized);writing-mode:horizontal-tb}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tab{background-color:initial;inline-size:fit-content;max-inline-size:stretch;min-block-size:3rem;min-inline-size:4rem}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:after{background:currentColor;block-size:var(--tabbed-indicator-height);border-radius:var(--tabbed-indicator-height);content:"";inset-block-end:calc(var(--tabbed-indicator-height) * -1);inset-inline:clamp(.75rem,3cqi,1.5rem);opacity:0;overflow:visible;place-content:center;place-items:center;position:absolute;text-align:center;transform:translate3d(0,50%,0) scaleX(.6);transition:transform var(--tabbed-indicator-duration) var(--tabbed-indicator-ease),opacity var(--tabbed-indicator-duration) var(--tabbed-indicator-ease)}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:where([aria-selected=true],[data-active],.is-active,.active){color:var(--md3-on-primary);place-content:center;place-items:center;text-align:center;transform:translateY(-2px)}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:where([aria-selected=true],[data-active],.is-active,.active):after{background:var(--md3-on-primary);opacity:1;transform:translateZ(0) scaleX(1)}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:disabled{opacity:var(--state-opacity-disabled,.38)}:host([orient="0"]) :host .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:after{inset-block-end:auto;inset-block-start:calc(var(--tabbed-indicator-height) * -1);transform:translate3d(0,-50%,0) scaleX(.6)}:host([orient="1"]) .ui-tabbed-box-tabs-container,:host([orient="3"]) .ui-tabbed-box-tabs-container{align-items:stretch;background-color:initial;background-image:none;block-size:var(--tabbed-bar-column-size);border-radius:0;flex-direction:row;gap:0;inline-size:stretch;isolation:auto;justify-content:flex-start;max-block-size:var(--tabbed-bar-column-size);max-inline-size:stretch;min-block-size:var(--tabbed-bar-column-size);min-inline-size:var(--tabbed-bar-block-size);padding:0;pointer-events:none;position:relative;scrollbar-width:none;transform:translateZ(0);writing-mode:vertical-rl;z-index:1}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs{align-items:center;block-size:fit-content;border-radius:var(--tabbed-radius);clip-path:inset(0 round var(--tabbed-radius));contain:strict;display:flex;flex-direction:row;gap:var(--tabbed-tab-gap);inline-size:fit-content;isolation:auto;justify-content:flex-start;margin-block:.25rem;margin-inline:.5rem;max-block-size:stretch;max-inline-size:stretch;min-block-size:var(--tabbed-bar-column-size);min-inline-size:stretch;overflow:hidden;overflow-block:hidden;overflow-inline:auto;padding-block:calc(var(--tabbed-padding-inline) * .5);padding-inline:calc(var(--tabbed-padding-block) * .65);pointer-events:auto;position:relative;scroll-behavior:smooth;scrollbar-width:none;touch-action:pan-x pan-y;transform:translateZ(0);z-index:2}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs,:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs *,:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs button,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs *,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tabs button{touch-action:pan-x pan-y}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab{align-items:center;background-color:initial;block-size:fit-content;border-radius:var(--radius-sm);display:flex;flex-direction:column;font-size:.5rem;gap:clamp(.25rem,.3cqb,.5rem);inline-size:stretch;max-block-size:3.5rem;max-inline-size:stretch;min-block-size:3.5rem;min-inline-size:stretch;overflow:hidden;overflow-wrap:normal;padding-block:calc(var(--tabbed-padding-inline) * .75);padding-inline:0;place-content:center;justify-content:safe center;place-items:center;justify-items:safe center;text-align:center;text-overflow:ellipsis;word-break:break-word;writing-mode:horizontal-tb}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab .ui-tabbed-box-tab-label,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab .ui-tabbed-box-tab-label{align-items:center;block-size:fit-content;display:block;flex-direction:column;inline-size:stretch;justify-content:center;line-height:var(--leading-tight,1.2);max-inline-size:stretch;min-inline-size:0;overflow:hidden;overflow-wrap:break-word;text-align:center;text-overflow:ellipsis;word-break:break-word}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab span,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab span{overflow:hidden;text-overflow:ellipsis;word-break:break-word}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab ui-icon,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab ui-icon{block-size:clamp(1.25rem,1.5cqb,1.75rem);flex-shrink:0;inline-size:clamp(1.25rem,1.5cqb,1.75rem)}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:after,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:after{block-size:auto;border-radius:calc(var(--tabbed-indicator-height) / 2);inline-size:var(--tabbed-indicator-height);inset-block:clamp(.5rem,2cqb,1rem);inset-inline-end:auto;inset-inline-start:calc(var(--tabbed-indicator-height) * -1);transform:translate3d(-50%,0,0) scaleY(.6)}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:where([aria-selected=true],[data-active],.is-active,.active),:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:where([aria-selected=true],[data-active],.is-active,.active){transform:translate(-2px)}:host([orient="1"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:where([aria-selected=true],[data-active],.is-active,.active):after,:host([orient="3"]) .ui-tabbed-box-tabs-container .ui-tabbed-box-tab:where([aria-selected=true],[data-active],.is-active,.active):after{transform:translateZ(0) scaleY(1)}:host([orient="1"]) .ui-tabbed-box-tabs .ui-tabbed-box-tab:after{inset-inline-end:auto;inset-inline-start:calc(var(--tabbed-indicator-height) * -1)}:host([orient="3"]) .ui-tabbed-box-tabs .ui-tabbed-box-tab:after{inset-inline-end:calc(var(--tabbed-indicator-height) * -1);inset-inline-start:auto;transform:translate3d(50%,0,0) scaleY(.6)}:host([orient="3"]) .ui-tabbed-box-tabs .ui-tabbed-box-tab:where([aria-selected=true],[data-active],.is-active,.active):after{transform:translateZ(0) scaleY(1)}:host .ui-tabbed-box-tabs-container .ui-tabbed-box-handle{block-size:0;inline-size:0;overflow:visible;place-content:center;place-items:center;pointer-events:none;touch-action:pan-x;visibility:hidden}:host .ui-tabbed-box-tabs-container ui-icon{pointer-events:none;touch-action:pan-x}:host .ui-tabbed-box-content{align-content:start;block-size:stretch;border-radius:0;contain:strict;content-visibility:auto;display:grid;grid-area:content;grid-column:1/-1;grid-row:1/-1;grid-template-columns:minmax(0,1fr);grid-template-rows:minmax(0,1fr);inline-size:stretch;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0;perspective:1000;position:relative;transform:translateZ(0);will-change:contents;writing-mode:horizontal-tb;z-index:0}:host .ui-tabbed-box-content{background-color:initial;background-image:none;max-block-size:none}:host .ui-tabbed-box-content::slotted(*){block-size:stretch;color:var(--md3-on-surface);grid-column:1/-1;grid-row:1/-1;inline-size:stretch;line-height:var(--leading-normal,1.5);overflow:auto;scrollbar-color:#0000004d #0000;scrollbar-gutter:stable both-edges;scrollbar-width:thin}:host .ui-tabbed-box-content::slotted(*)::-webkit-scrollbar{block-size:8px;inline-size:8px}:host .ui-tabbed-box-content::slotted(*)::-webkit-scrollbar-thumb{background-color:#0000004d;border-radius:9999px}:host .ui-tabbed-box-content::slotted(*)::-webkit-scrollbar-track{background-color:initial}:host .ui-tabbed-box-content::slotted([aria-hidden=true],[data-hidden],:not([data-active])){display:none!important}}'),ui=e=>"string"!=typeof e?e:null==e||""==e?"":(e=e?.replace?.(/_/g," ")||e,e=e?.charAt?.(0)?.toUpperCase?.()+e?.slice?.(1)||e);let di=class extends Event{newTab;constructor(e,t,i){super(e,t),this.newTab=i}},pi=class extends Jt{currentTab="";orient=1;constructor(){super();this.currentTab??=""}onInitialize(){const t=this;var i,n;super.onInitialize?.(),t.currentTab||=[...t?.tabs?.keys?.()??[]]?.[0]||"",$(t,{},[(i={current:H(t,"currentTab"),mapped:t.tabs},e?.getOrInsertComputed?.(i,()=>new Proxy(i instanceof Ee?i:new Ee(i,n),new Re)))]),r(H(t,"currentTab"),e=>{t.dispatchEvent(new di("tab-changed",{bubbles:!0},t.currentTab))}),t.addEventListener("keydown",e=>{const i=e?.composedPath?.()?.[0];if(!("INPUT"===i?.tagName||"TEXTAREA"===i?.tagName||i?.isContentEditable)&&("ArrowLeft"===e?.key||"ArrowRight"===e?.key)&&t?.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0})){e?.preventDefault?.(),e?.stopPropagation?.();const i=Array.from(t?.tabs?.keys?.()??[]);if(!i?.length)return;const n=i?.indexOf?.(t?.currentTab??"");let r=n;"ArrowLeft"===e?.key?(r=n-1,r<0&&(r=i?.length-1)):(r=n+1,r>=i?.length&&(r=0));const a=i?.[r];t?.openTab?.(a)}})}setTabs(e){this.tabs??=e??this.tabs}onRender(){this.tabs&&this.currentTab&&this.observeTabsOverflow?.()}createTab(e,t){if(!e)return;const i=this,n=F`<span part="tab-label" class="ui-tabbed-box-tab-label">${(i?.renderTabName?.bind?.(i)??ui)?.(e)??e}</span>`,r=F`<button part="tab" slot="tabs" type="button" on:click=${t=>i.openTab(e,t)} class="ui-tabbed-box-tab" role="tab" tab-name=${e} tab-index=${t}>${n}</button>`;return((e,t="")=>{"string"==typeof e||e instanceof HTMLElement&&(e?.setAttribute?.("tab",t),e?.setAttribute?.("part","tab"))})(r,e),H(i,"currentTab")?.[l]?.(),r}openTab(e,t){if(!e)return;const i=this;if(e){const t=i.shadowRoot?.querySelector(`[tab-name="${e}"]`);t instanceof HTMLElement&&t?.focus?.(),i.currentTab=e??i.currentTab,i.dispatchEvent(new di("tab-changed",{bubbles:!0},i.currentTab))}}styles=()=>ci;render=function(){return F`
        <div class="ui-tabbed-box-tabs-container"><form class="ui-tabbed-box-tabs" part="tabs">${_(Z(this.tabs??new Map),([e,t],i)=>this.createTab(e,i))}</form></div>
        <div class="ui-tabbed-box-content" part="content"><slot></slot></div>`};tabsBox;detachTabsOverflow;resizeObserver;observeTabsOverflow(){this.tabsBox=this.shadowRoot?.querySelector?.(".ui-tabbed-box-tabs")??void 0;const e=this.tabsBox;if(!e)return;this.detachTabsOverflow?.(),this.resizeObserver?.disconnect();const t=()=>{queueMicrotask(()=>{if(e){const t=e.scrollWidth-e.clientWidth,i=t>1,n=e.scrollLeft>1,r=e.scrollLeft<t-1;e.hasAttribute("scrollable")!==i&&e.toggleAttribute("scrollable",i),e.hasAttribute("scrollable-start")!==n&&e.toggleAttribute("scrollable-start",n),e.hasAttribute("scrollable-end")!==r&&e.toggleAttribute("scrollable-end",r)}})},i=t=>{if(Math.abs(t.deltaX)<Math.abs(t.deltaY)){const a=(i=t.deltaY,n=-80,r=80,Math.max(n,Math.min(r,i)));e.scrollLeft+=a,t.preventDefault()}var i,n,r},n=()=>t();e.addEventListener("wheel",i,{passive:!1}),e.addEventListener("scroll",t,{passive:!0}),e.addEventListener("pointerup",n,{passive:!0}),this.detachTabsOverflow=()=>{e.removeEventListener("wheel",i),e.removeEventListener("scroll",t),e.removeEventListener("pointerup",n)},t(),queueMicrotask(t),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(t),this.resizeObserver.observe(e))}};li([V({source:"attr",name:"current-tab"})],pi.prototype,"currentTab",2),li([V({source:"attr",name:"orient"})],pi.prototype,"orient",2),pi=li([B("ui-tabbed-box")],pi);var mi=Object.defineProperty,hi=Object.getOwnPropertyDescriptor;const bi=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}@layer box-with-sidebar{:host,:host ::slotted(*),:host :where(*){background-color:initial;border:0 #0000;box-sizing:border-box;line-height:0;margin:0;outline:0 none #0000;overflow:hidden;padding:0;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;user-select:none;-webkit-tap-highlight-color:transparent;content-visibility:visible;gap:0}:host{--ui-shadow-soft:#0002}:host{--button-inline-size:4rem;--sidebar-inline-grid-size:max-content;background-color:initial;block-size:stretch;container-type:inline-size;display:grid!important;gap:0;grid-template-columns:[sidebar-col] minmax(0,var(--sidebar-inline-grid-size)) [button-col] minmax(0,var(--button-inline-size)) [content-col] minmax(0,1fr)!important;grid-template-rows:[bar-row] minmax(0,4rem) [content-row] minmax(0,1fr)!important;inline-size:stretch;padding:var(--padding-sm);perspective:1000;position:relative}@container (min-inline-size: 800px){:host{--button-inline-size:0px}}@container (max-inline-size: 800px){:host{padding:0;--sidebar-inline-grid-size:0px}}:host .bar{background-color:initial;block-size:fit-content;box-shadow:none;color:--c2-on-surface(0,var(--current,currentColor));display:grid;flex-direction:row;gap:0;grid-column:1/-1;grid-row:bar-row;grid-template-columns:subgrid;grid-template-rows:minmax(0,max-content);inline-size:stretch;max-block-size:stretch;min-block-size:2rem;overflow:hidden;padding:0;padding-inline:0;place-content:center;place-items:center;pointer-events:none;z-index:3}:host .bar ::slotted([slot=bar]){block-size:stretch;flex-grow:1;grid-column:3/-1;grid-row:1/span 1;inline-size:stretch;place-content:center;place-items:center}:host .bar button{aspect-ratio:1/1;background-color:initial;block-size:fit-content;border:0 #0000;border-radius:.5rem;box-sizing:border-box;color:--c2-on-surface(0,var(--current,currentColor));cursor:pointer;display:flex;flex-direction:row;gap:0;grid-column:1/span 2;grid-row:1/span 1;inline-size:fit-content;min-block-size:2.5rem;outline:0 none #0000;padding:.333rem;place-content:center;place-items:center;pointer-events:auto;transition:background-color .12s linear}@media(hover:hover){:host .bar button:hover{background-color:--c2-surface(.1,var(--current,currentColor))}}:host .bar button:active{background-color:--c2-surface(.1,var(--current,currentColor))}:host .bar button span{color:--c2-on-surface(0,var(--current,currentColor));display:block;font-size:.8rem;font-weight:400;padding-inline-end:.333rem}:host .bar ui-icon{color:--c2-on-surface(0,var(--current,currentColor));--icon-color:--c2-on-surface(0,var(--current,currentColor))}:host .content-box{background:none;background-color:initial;border-radius:.25rem;box-shadow:none;contain:none;display:grid!important;gap:0;grid-column:1/-1!important;grid-row:1/-1!important;grid-template-columns:subgrid;grid-template-rows:subgrid;overflow:hidden;z-index:1}:host .sidebar{border-radius:.5rem;box-shadow:none;display:flex;flex-direction:column;gap:0;grid-column:1/span 1;grid-row:2/-1;justify-content:start;overflow:hidden;padding:0!important;transform:translate(0);z-index:2}:host .sidebar{min-inline-size:clamp(min(20rem,100%),max(16rem,10cqi),100cqi)}@container (min-inline-size: 800px){:host .sidebar{grid-row:1/-1}}:host .sidebar{min-block-size:0}:host .sidebar ::slotted([slot=sidebar]){block-size:stretch;flex-grow:1;inline-size:stretch;line-height:normal;place-content:center;align-content:start;box-shadow:none;gap:0;padding:0;place-items:center}@container (max-inline-size: 800px){:host .sidebar{pointer-events:none;transform:translate3d(-100%,0,0);transition:transform var(--transition-medium,.28s) ease,box-shadow var(--transition-medium,.28s) ease}:host .sidebar:is([data-visible],[data-visible=""]){box-shadow:0 0 1rem var(--ui-shadow-soft);pointer-events:auto;transform:translateZ(0)}@starting-style{:host .sidebar:is([data-visible],[data-visible=""]){box-shadow:none;transform:translate3d(-100%,0,0)}}:host .sidebar[data-visible=false]{pointer-events:none}}:host .content{background:none;background-color:initial;block-size:stretch;box-shadow:none;contain:none;container-type:inline-size;display:grid!important;flex-direction:column;gap:0;grid-column:1/-1;grid-row:1/-1;grid-template-columns:[sidebar-col] minmax(0,0) [button-col] minmax(0,var(--button-inline-size)) [content-col] minmax(0,1fr);grid-template-rows:[bar-row] minmax(0,4rem) [content-row] minmax(0,1fr);inline-size:stretch;max-block-size:none;max-inline-size:none;overflow:hidden;z-index:1}:host .content::slotted(*){block-size:stretch;box-shadow:none;display:grid;flex-grow:1;gap:0;grid-column:2/-1;grid-row:2/-1;inline-size:stretch;place-content:center;place-items:center;will-change:contents}:host .content::slotted([aria-hidden=true],[data-hidden],:not([data-active])){display:none!important}@container (min-inline-size: 800px){:host .content{grid-column:content-col!important}:host .sidebar{grid-column:sidebar-col!important;transform:translate(0)}:host .bar button{display:none}}}');let gi=class extends Jt{sidebarOpened=X(!1);constructor(){super()}onInitialize(){super.onInitialize?.()}onRender(){const e=this;Y(e.sidebarOpened,K("button",e?.shadowRoot),K(".sidebar",e?.shadowRoot)),K("a")?.addEventListener?.("click",()=>{e.sidebarOpened.value=!1}),e.sidebarOpened.value=!1}styles=()=>bi;render=function(){return F`<div part="bar" class="bar c2-surface"><button part="open-sidebar" class="open-sidebar c2-surface" on:click=${()=>{this.sidebarOpened.value=!this.sidebarOpened.value}}><ui-icon icon="${G(this.sidebarOpened,"text-outdent","list")}"></ui-icon></button><slot name="bar"></slot></div>
    <div part="content-box" class="content-box"><div part="sidebar" class="sidebar" data-visible=${this.sidebarOpened}><slot name="sidebar"></slot></div><div part="content" class="content"><slot></slot></div></div>`}};gi=((e,t,i,n)=>{for(var r,a=n>1?void 0:n?hi(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&mi(t,i,a),a})([B("ui-box-with-sidebar")],gi);var fi=Object.defineProperty,vi=Object.getOwnPropertyDescriptor,xi=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?vi(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&fi(t,i,a),a};const yi=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}@property --sidebar-inline-grid-size{syntax:"<length-percentage>";inherits:true;initial-value:0px}@layer tabbed-with-sidebar{:host,:host ::slotted(*),:host :where(*){background-color:--c2-surface(.15,var(--current,currentColor));border:0 #0000;box-sizing:border-box;line-height:0;margin:0;outline:0 none #0000;overflow:hidden;padding:0;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;user-select:none;-webkit-tap-highlight-color:transparent;border-radius:0;content-visibility:visible;gap:0;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0}:host{--tabbed-min-bar-size:3.5rem;--tabbed-gap:var(--gap-sm,.5rem);--tabbed-padding-inline:.25rem;--tabbed-padding-block:.25rem;--tabbed-tab-gap:var(--gap-md,.375rem);--tabbed-indicator-height:.2rem;--tabbed-indicator-ease:var(--ease-emphasized,cubic-bezier(.2,0,0,1));--tabbed-indicator-duration:var(--duration-normal,.16s);--tabbed-button-size:var(--tabbed-min-bar-size,3rem);--tabbed-icon-size:clamp(1.25rem,1cqi,1.5rem);--tabbed-close-size:clamp(2rem,1cqi,3rem);--tabbed-close-color:color-mix(in oklch,var(--md3-on-surface) 65%,#0000);--tabbed-bar-block-size:3.5rem;--tabbed-tabs-block-gap:var(--padding-sm,.5rem);--ui-shadow-soft:#0002;--button-inline-size:var(--tabbed-button-size,3rem);--sidebar-inline-grid-size:0px}:host{backdrop-filter:none;filter:none}:host>:where(*){backdrop-filter:none;filter:none;z-index:2}:host button{border:none;box-sizing:border-box;outline:none;user-select:none;-webkit-tap-highlight-color:transparent;pointer-events:auto}:host{--tabbed-grid-rows:[bar-row] minmax(0px,3.5rem) [content-row] minmax(0px,1fr)}:host([data-tab-position=bottom]){--tabbed-grid-rows:[content-row] minmax(0px,1fr) [bar-row] minmax(0px,3.5rem)}:host([data-tab-position=top]){--tabbed-grid-rows:[bar-row] minmax(0px,3.5rem) [content-row] minmax(0px,1fr)}:host{background:none;background-color:initial;block-size:stretch;border-radius:0!important;box-sizing:border-box!important;contain:strict!important;container-type:inline-size;display:grid!important;gap:0;grid-template-columns:[sidebar-col] minmax(0,var(--sidebar-inline-grid-size,0)) [button-col] minmax(0,var(--button-inline-size,3rem)) [content-col] minmax(0,1fr)!important;grid-template-rows:var(--tabbed-grid-rows)!important;inline-size:stretch;max-block-size:min(100%,min(100cqb,100dvb))!important;max-inline-size:min(100%,min(100cqi,100dvi))!important;min-block-size:0;min-inline-size:0;overflow:hidden!important;padding:0;padding-block-start:0;perspective:1000;place-content:space-evenly!important;place-items:center!important;position:relative}:host .ui-backdrop{background-color:initial;block-size:stretch;grid-column:1/-1!important;grid-row:1/-1!important;inline-size:stretch;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0;opacity:1;pointer-events:none;position:relative;transition:opacity var(--transition-medium,.28s) var(--ease-out);z-index:0}:host .ui-underlay{background-color:initial;block-size:stretch;grid-column:1/-1!important;grid-row:content-row!important;inline-size:stretch;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0;opacity:1;pointer-events:none;position:relative;transition:opacity var(--transition-medium,.28s) var(--ease-out);z-index:1}:host .toggle-toolbar{align-items:center;aspect-ratio:1/1;block-size:fit-content;border:none;border-radius:50cqmin;color:color-mix(in oklch,var(--md3-on-surface) 85%,#0000);content-visibility:visible;cursor:pointer;display:flex;flex-direction:row;flex-shrink:0;float:end;gap:0;grid-column:content-col;grid-row:1;inline-size:fit-content;inset:auto;inset-inline-end:.125rem;justify-content:center;justify-self:end;margin:0;margin-inline-start:var(--tabbed-tab-gap);max-block-size:2.5rem;max-inline-size:2.5rem;min-block-size:2.5rem;min-inline-size:2.5rem;outline:none;overflow:visible;padding:.25rem;place-content:center;place-items:center;text-align:center;touch-action:pan-x;transition:color var(--duration-normal) var(--ease-out),transform var(--duration-fast) var(--ease-emphasized),background-color var(--duration-normal) var(--ease-out);z-index:7}:host .toggle-toolbar ui-icon{aspect-ratio:1/1;block-size:var(--tabbed-icon-size);color:inherit;flex-shrink:0;inline-size:var(--tabbed-icon-size);max-block-size:var(--tabbed-icon-size);max-inline-size:var(--tabbed-icon-size);min-block-size:var(--tabbed-icon-size);min-inline-size:var(--tabbed-icon-size);--icon-color:inherit}:host .toggle-toolbar:hover{color:color-mix(in oklch,var(--md3-on-surface) 92%,#0000)}:host .toggle-toolbar:active{transform:scale(.9)}:host .toggle-toolbar:focus-visible{outline:2px solid color-mix(in oklch,currentColor 35%,#0000);outline-offset:2px}:host .toggle-toolbar[aria-expanded=true]{color:var(--md3-on-primary)}:host ::slotted([slot=bar]),:host::slotted([slot=bar]){background-color:initial;block-size:stretch;flex-grow:1;grid-column:1/-1;grid-row:1/-1;inline-size:stretch;max-block-size:3rem;place-content:center;place-items:center}:host .bar{backdrop-filter:blur(1rem);background-color:oklch(from --c2-surface(.15,var(--current,currentColor)) l c h/.9);block-size:stretch;border-radius:0;box-shadow:none;box-sizing:border-box;display:grid;filter:none;gap:0;grid-auto-rows:0;grid-column:1/-1;grid-row:bar-row;grid-template-columns:[sidebar-col] minmax(0,0) [button-col] minmax(0,3.5rem) [content-col] minmax(0,1fr) [pinned-col] minmax(0,3.5rem);grid-template-rows:minmax(0,1fr);inline-size:stretch;max-block-size:3.5rem;min-block-size:stretch;overflow:hidden;padding-block:.25rem;padding-inline:.75rem;place-content:center;place-items:center;pointer-events:auto;z-index:3}:host .bar>:where(*){grid-row:1}:host :host .bar{margin-block-end:var(--space-md);margin-block-start:0}:host([tab-position=bottom]) :host .bar{margin-block-end:0;margin-block-start:var(--space-md)}:host([tab-position=top]) :host .bar{margin-block-end:var(--space-md);margin-block-start:0}:host .bar .toolbar-slot{block-size:stretch;grid-column:content-col;grid-row:1/span 1;inline-size:stretch;max-block-size:3rem;max-inline-size:stretch;min-block-size:3rem;min-inline-size:0;padding:0;place-content:center;justify-content:center;place-items:center;align-items:center;border-radius:50cqmin;gap:0;inset:0;margin:0;opacity:0;overflow:hidden;pointer-events:none;transition:opacity var(--duration-normal,.16s) var(--ease-out,ease),visibility var(--duration-normal,.16s) var(--ease-out,ease);visibility:hidden;z-index:7}:host .bar .toolbar-slot[toolbar-opened=true]{opacity:1;pointer-events:auto;visibility:visible}:host .bar button.open-sidebar{align-items:center;aspect-ratio:1/1;background-color:--c2-surface(var(--_color-shade),var(--current,currentColor));block-size:stretch;border:0 #0000;border-radius:50cqmin;box-sizing:border-box;cursor:pointer;display:flex;flex-direction:row;gap:0;grid-column:button-col;grid-row:1;inline-size:fit-content;justify-content:center;margin-inline-end:var(--space-sm);max-inline-size:3rem;min-block-size:3rem;min-inline-size:3rem;outline:0 none #0000;padding:.25rem;place-content:center;place-items:center;pointer-events:auto;touch-action:pan-x;transition:background-color var(--duration-normal,.16s) var(--ease-out,ease)}:host .bar button.open-sidebar ui-icon{aspect-ratio:1/1;block-size:var(--tabbed-icon-size);flex-shrink:0;inline-size:var(--tabbed-icon-size);max-block-size:var(--tabbed-icon-size);max-inline-size:var(--tabbed-icon-size);min-block-size:var(--tabbed-icon-size);min-inline-size:var(--tabbed-icon-size)}:host .bar button.open-sidebar span{display:block;font-size:.8rem;font-weight:400;padding-inline-end:.333rem}:host .bar button.open-sidebar:focus-visible{outline:2px solid color-mix(in oklch,currentColor 35%,#0000);outline-offset:2px}:host .bar :where(.ui-tabbed-box-tab) button{padding:.5rem;touch-action:pan-x}:host .bar .ui-tabbed-box-handle{block-size:0;inline-size:0;overflow:visible;place-content:center;place-items:center;pointer-events:none;touch-action:pan-x;visibility:hidden}:host .bar ui-icon{color:--c2-on-surface(0,var(--current,currentColor));content-visibility:visible;pointer-events:none;--icon-color:--c2-on-surface(0,var(--current,currentColor));block-size:var(--tabbed-icon-size);inline-size:var(--tabbed-icon-size)}:host([tab-position=bottom]) .bar :host .bar{align-self:end}:host([sidebar-drop-menu]) :host .bar button.open-sidebar{display:flex!important}@container (min-inline-size: 800px){:host(:not([sidebar-drop-menu])) :host .bar{--button-inline-size:0px}:host(:not([sidebar-drop-menu])) :host .bar button.open-sidebar{display:none}}:host .sidebar{background:none;background-color:initial;border-radius:0;box-shadow:none;display:flex;filter:none;flex-direction:column;gap:0;grid-column:1/span 2;grid-row:2/-1;justify-content:start;margin:0!important;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0;overflow:visible;padding:0!important;transform:translate(0);transition-behavior:allow-discrete;z-index:2}:host .sidebar ::slotted([slot=sidebar]){block-size:stretch;flex-grow:1;gap:0;grid-row:1/-1;inline-size:stretch;margin:0;max-block-size:stretch;padding:0;place-content:center;align-content:start;box-shadow:none;line-height:normal;place-items:center}:host(:not([sidebar-drop-menu])){--sidebar-inline-grid-size:0px}:host(:not([sidebar-drop-menu])) .sidebar{block-size:stretch;grid-column:1/span 2;inline-size:clamp(min(20rem,100%),max(16rem,10cqi),100cqi);max-block-size:stretch;max-inline-size:none;min-inline-size:0;pointer-events:none;position:relative;transform:translate3d(-100%,0,0);transition:transform var(--transition-medium,.28s) ease,box-shadow var(--transition-medium,.28s) ease;will-change:inline-size}:host(:not([sidebar-drop-menu])) .sidebar:is([sidebar-opened=false],:not([sidebar-opened=true],[sidebar-opened=""])){pointer-events:none;transform:translate3d(-100%,0,0)}:host(:not([sidebar-drop-menu])) .sidebar:is([sidebar-opened=true],[sidebar-opened=""]){pointer-events:auto;transform:translateZ(0)}@starting-style{:host(:not([sidebar-drop-menu])) .sidebar:is([sidebar-opened=true],[sidebar-opened=""]){box-shadow:none;transform:translate3d(-100%,0,0)}}:host([sidebar-drop-menu]){--sidebar-inline-grid-size:0px}:host([sidebar-drop-menu]) .sidebar{background-color:color-mix(in oklch,var(--surface-color) 96%,#0000);block-size:stretch;border:1px solid color-mix(in oklch,var(--md3-outline) 40%,#0000);border-radius:0;box-shadow:0 1.5rem 3rem color-mix(in oklch,#000 22%,#0000);grid-column:sidebar-col!important;grid-row:2/-1;inline-size:min(26rem,80cqi);max-block-size:min(48rem,100cqb);min-inline-size:clamp(16rem,32cqi,24rem);opacity:0;padding-block:clamp(.75rem,1cqb + .5rem,1.25rem);padding-inline:clamp(.75rem,1cqi + .75rem,1.5rem);pointer-events:none;transform:translate3d(0,-20%,0);transform-origin:top center;transition:visibility var(--transition-medium,.3s) steps(1,jump-both),transform var(--transition-medium,.3s) var(--ease-emphasized),opacity var(--transition-medium,.3s) var(--ease-out),box-shadow var(--transition-medium,.3s) var(--ease-emphasized);transition-behavior:allow-discrete;visibility:hidden;z-index:5}:host([sidebar-drop-menu]) .sidebar:is([sidebar-opened=""],[sidebar-opened=true]){opacity:1;pointer-events:auto;transform:translateZ(0);visibility:visible}@starting-style{:host([sidebar-drop-menu]) .sidebar:is([sidebar-opened=""],[sidebar-opened=true]){transform:translate3d(0,-20%,0)}}:host([sidebar-drop-menu]) .sidebar:has([sidebar-opened=true]) .content-box:after{opacity:.6;pointer-events:auto}:host([sidebar-drop-menu][tab-position=bottom]) .sidebar{inset-block-end:calc(var(--tabbed-bar-block-size) + var(--tabbed-padding-block));inset-block-start:auto;transform:translate3d(0,20%,0);transform-origin:bottom center}@starting-style{:host([sidebar-drop-menu][tab-position=bottom]) .sidebar:is([sidebar-opened=""],[sidebar-opened=true]){transform:translate3d(0,20%,0)}}:host .content-box{background:none;background-color:initial!important;block-size:stretch;border-radius:0;box-shadow:none;contain:none;display:grid!important;gap:0;grid-column:1/-1!important;grid-row:1/-1!important;grid-template-columns:subgrid;grid-template-rows:subgrid;inline-size:stretch;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0;overflow:hidden;pointer-events:none;position:relative;z-index:1}:host([sidebar-drop-menu]) :host .content-box{overflow:visible}:host .content-box :where(.ui-tabbed-box-content,.content){align-content:start;background:none;background-color:initial!important;block-size:stretch;border-radius:0;box-shadow:none;contain:strict;container-type:inline-size;content-visibility:auto;display:grid!important;flex-direction:column;gap:0;grid-column:1/-1;grid-row:1/-1;grid-template-columns:[content-col] minmax(0,1fr);grid-template-rows:var(--tabbed-grid-rows);inline-size:stretch;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0;perspective:1000;pointer-events:none;transform:translateZ(0);will-change:contents}:host .content-box ::slotted(*){background-color:initial;block-size:stretch;box-shadow:none;color:var(--md3-on-surface);display:grid;flex-direction:column;flex-grow:1;gap:0;grid-column:1/-1;grid-row:content-row;grid-template-columns:minmax(0,1fr);grid-template-rows:minmax(0,1fr);inline-size:stretch;line-height:var(--leading-normal,1.5);max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:0;overflow:auto;place-content:center;place-items:center;scrollbar-gutter:stable both-edges}:host .content-box ::slotted([aria-hidden=true],[hidden],:not([active])){display:none!important}@container (min-inline-size: 800px){:host .content-box .content{grid-column:2/-1!important}}@container (min-inline-size: 800px){:host([sidebar-drop-menu]) .content-box .content{isolation:isolate}:host([sidebar-drop-menu]) .content-box .content:after{background:color-mix(in oklch,var(--md3-surface) 60%,#0000);border-radius:0;content:"";inset:clamp(0px,1cqi,.5rem);opacity:0;pointer-events:none;position:absolute;transition:opacity var(--transition-medium,.28s) var(--ease-out);z-index:4}}:host .ui-tabbed-box-tabs{align-items:center;block-size:fit-content;border-radius:50cqmin;contain:strict;display:flex;flex-direction:row;gap:.25rem;grid-column:content-col;grid-row:1;inline-size:stretch;max-block-size:3rem;max-inline-size:stretch;min-block-size:3rem;overflow:hidden;overscroll-behavior-inline:contain;padding-block:.25rem;padding-inline:.25rem;place-content:center flex-start;justify-content:safe flex-start;place-items:center flex-start;justify-items:safe flex-start;pointer-events:auto;position:relative;scroll-behavior:smooth;scrollbar-gutter:stable;text-align:start;touch-action:pan-x;z-index:6}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab){background-color:initial;block-size:fit-content;border-radius:50cqmin;color:color-mix(in oklch,var(--md3-on-surface) 85%,#0000);content-visibility:visible;cursor:pointer;display:flex;flex-direction:row;flex-shrink:0;gap:.25rem;inline-size:fit-content;isolation:isolate;letter-spacing:.01em;max-block-size:2.5rem;min-block-size:2.5rem;min-inline-size:3rem;overflow:visible;padding-block:.25rem;padding-inline:.125rem;place-content:center;place-items:center;pointer-events:auto;position:relative;text-align:center;touch-action:pan-x;transition:color var(--duration-normal) var(--ease-out),transform var(--duration-fast) var(--ease-emphasized)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):after{background:currentColor;block-size:var(--tabbed-indicator-height);border-radius:var(--tabbed-indicator-height);content:"";inset-block-end:calc(var(--tabbed-indicator-height) * -1);inset-inline:clamp(.5rem,4cqi,1rem);inset-inline-end:3rem;opacity:0;overflow:visible;place-content:center;place-items:center;position:absolute;text-align:center;transform:translate3d(0,50%,0) scaleX(.6);transition:transform var(--tabbed-indicator-duration) var(--tabbed-indicator-ease),opacity var(--tabbed-indicator-duration) var(--tabbed-indicator-ease)}:host([tab-position=bottom]) :host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):after{inset-block-end:auto;inset-block-start:calc(var(--tabbed-indicator-height) * -1);transform:translate3d(0,-50%,0) scaleX(.6)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):where([aria-selected=true],[active],.is-active,.active){color:var(--md3-on-primary);place-content:center;place-items:center;text-align:center;transform:translateY(-2px)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):where([aria-selected=true],[active],.is-active,.active):after{background:var(--md3-on-primary);opacity:1;transform:translateZ(0) scaleX(1)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):disabled{opacity:var(--state-opacity-disabled,.38)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) :where(.ui-tabbed-box-tab-label){align-items:center;block-size:fit-content;color:inherit;content-visibility:visible;display:inline-flex;gap:var(--gap-3xs,.2rem);inline-size:fit-content;justify-content:flex-start;line-height:var(--leading-tight,1.1);margin-inline:1rem;pointer-events:none;text-align:inherit}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) :where(.ui-tabbed-box-tab-close){align-items:center;aspect-ratio:1/1;background-color:initial;block-size:fit-content;border:none;border-radius:var(--radius-full);box-sizing:border-box;color:var(--tabbed-close-color);content-visibility:visible;cursor:pointer;display:inline-flex;flex-shrink:0;gap:0;inline-size:fit-content;justify-content:center;max-block-size:2.25rem;max-inline-size:2.25rem;min-block-size:2.25rem;min-inline-size:2.25rem;outline:none;padding:.25rem;transition:color var(--duration-normal) var(--ease-out),transform var(--duration-fast) var(--ease-emphasized)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) :where(.ui-tabbed-box-tab-close) ui-icon{color:--c2-on-surface(0,var(--current,currentColor));content-visibility:visible;--icon-color:--c2-on-surface(0,var(--current,currentColor));block-size:calc(var(--tabbed-close-size) * .5);inline-size:calc(var(--tabbed-close-size) * .5)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) :where(.ui-tabbed-box-tab-close):focus-visible{outline:2px solid color-mix(in oklch,currentColor 35%,#0000);outline-offset:2px}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) :where(.ui-tabbed-box-tab-close):hover{color:color-mix(in oklch,var(--md3-on-surface) 92%,#0000)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) :where(.ui-tabbed-box-tab-close):active{transform:scale(.9)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):where([aria-selected=true],[active],.is-active,.active) .ui-tabbed-box-tab-close{color:color-mix(in oklch,var(--surface-on-primary) 85%,#0000);--icon-color:color-mix(in oklch,var(--surface-on-primary) 85%,#0000)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) ui-icon{color:--c2-on-surface(0,var(--current,currentColor));--icon-color:--c2-on-surface(0,var(--current,currentColor));aspect-ratio:1/1;block-size:var(--tabbed-icon-size);content-visibility:visible;inline-size:var(--tabbed-icon-size);max-block-size:stretch;max-inline-size:stretch;padding:0;place-content:center;place-items:center;text-align:center}:host([tab-position=bottom]) .ui-tabbed-box-tabs :host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab){margin-block-end:0;margin-block-start:var(--tabbed-tabs-block-gap)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):after,:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):before{background:linear-gradient(90deg,color-mix(in oklch,var(--md3-surface) 70%,#0000) 0,#0000);content:"";inline-size:min(1.75rem,8%);inset-block:0;opacity:clamp(0,(var(--scroll-gradient,0)),1);pointer-events:none;position:absolute;transition:opacity var(--duration-normal) var(--ease-out)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):before{inset-inline-start:0;transform:scaleX(-1);--scroll-gradient:attr(data-scrollable-start number,0)}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab):after{inset-inline-end:0;--scroll-gradient:attr(data-scrollable-end number,0)}@supports (mask-image:linear-gradient(rgba(0,0,0,0),#000)){:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab)[data-scrollable=true]{mask-image:linear-gradient(90deg,#0000,#000 min(2.5rem,18%),#000 calc(100% - min(2.5rem,18%)),#0000)}}:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab),:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) *,:host .ui-tabbed-box-tabs :where(.ui-tabbed-box-tab) button{touch-action:pan-x}:host .ui-tabbed-box-tabs.pinned{background-color:initial;block-size:stretch;border-radius:0;contain:none;display:grid;font-size:0;gap:0;grid-column:pinned-col;grid-template-columns:minmax(0,1fr);grid-template-rows:minmax(0,1fr);inline-size:max-content;line-height:0;margin-inline:0;margin-inline-start:var(--space-sm);overflow:visible;padding:0;padding-inline:0;place-content:center!important;place-items:center!important;text-align:center!important}:host .ui-tabbed-box-tabs.pinned .ui-tabbed-box-tab{aspect-ratio:1/1;block-size:stretch!important;border-radius:50cqmin;display:grid;font-size:0;gap:0!important;grid-template-columns:minmax(0,1fr);grid-template-rows:minmax(0,1fr);inline-size:fit-content;inset:0;line-height:0;max-block-size:3rem;min-block-size:3rem;min-inline-size:3rem;overflow:hidden;padding-inline:0!important;place-content:center!important;place-items:center!important;pointer-events:auto;text-align:center!important}:host .ui-tabbed-box-tabs.pinned .ui-tabbed-box-tab>*{background-color:initial;grid-column:1/-1;grid-row:1/-1}:host .ui-tabbed-box-tabs.pinned .ui-tabbed-box-tab-close{display:none!important;margin-inline:0!important}:host .ui-tabbed-box-tabs.pinned:after{inset:0!important;margin:0!important}:host .ui-tabbed-box-tabs.pinned ui-icon{block-size:2rem;inline-size:2rem;padding:0}}'),wi=e=>"home"==e?F`<ui-icon icon="house-line"></ui-icon>`:"string"!=typeof e?e:null==e||""==e?"":(e=e?.replace?.(/_/g," ")||e,e=e?.charAt?.(0)?.toUpperCase?.()+e?.slice?.(1)||e);class zi extends Event{newTab;constructor(e,t,i){super(e,t),this.newTab=i}}class ki extends Event{tabName;constructor(e,t,i){super(e,t),this.tabName=i}}let Ei=class extends Jt{currentTab="";tabPosition="top";sidebarAsDropMenu=null;sidebarOpened=!1;toolbarOpened=!1;setTabs(e){this.tabs??=e??this.tabs}createTab(e,t){if(!e)return;if("string"==typeof e&&e.startsWith("_"))return;const i=this;if(i?.shadowRoot?.querySelector(`[data-tab-name="${e}"]`))return;const n=i?.renderTabName?.bind?.(i)??wi,r=n?.(e)??e,a="string"==typeof r?r:wi?.(String(e??""))??String(e??""),o=F`<span class="ui-tabbed-box-tab-label">${r}</span>`,s="home"!=e?F`<button type="button" on:click=${t=>{t?.preventDefault?.(),t?.stopPropagation?.(),t?.target==t?.currentTarget&&i?.dispatchEvent?.(new ki("tab-close",{bubbles:!0,composed:!0},e))}} class="ui-tabbed-box-tab-close" aria-label=${`Close ${a}`} part="tab-close">
            <ui-icon icon="x"></ui-icon>
        </button>`:null,c=F`<div on:click=${t=>{t?.preventDefault?.(),t?.stopPropagation?.(),t?.target==t?.currentTarget&&i?.openTab?.(e,t)}} class="ui-tabbed-box-tab" role="tab" data-tab-name=${e}>${o}${s}</div>`;return((e,t="")=>{"string"==typeof e||e instanceof HTMLElement&&(e?.setAttribute?.("data-tab",t),e?.setAttribute?.("part","tab"))})(c,e),H(i,"currentTab")?.[l]?.(),c}isOpeningTab=!1;openingTabName="";openTab(e,t){if(e&&(!this.isOpeningTab||this.openingTabName!==e)){this.isOpeningTab=!0,this.openingTabName=e;try{const t=this;e&&e!=t?.currentTab&&(t.currentTab=e??t?.currentTab),t?.dispatchEvent?.(new zi("tab-changed",{bubbles:!0,composed:!0},t.currentTab))}finally{this.isOpeningTab=!1}}}constructor(){super()}onInitialize(){super.onInitialize?.();const e=this;e.removeAttribute("sidebar-opened"),e.removeAttribute("toolbar-opened"),e.removeAttribute("sidebar-drop-menu"),requestAnimationFrame(()=>{e.removeAttribute("sidebar-drop-menu"),e.removeAttribute("sidebar-opened"),e.removeAttribute("toolbar-opened")}),e.addEventListener("keydown",t=>{const i=t?.composedPath?.()?.[0];if(!("INPUT"===i?.tagName||"TEXTAREA"===i?.tagName||i?.isContentEditable)&&t?.ctrlKey&&("ArrowLeft"===t?.key||"ArrowRight"===t?.key)&&e?.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0})){t?.preventDefault?.(),t?.stopPropagation?.();const i=Array.from(e?.tabs?.keys?.()??[]),n=i?.filter?.(e=>"home"!==e&&!("string"==typeof e&&e.startsWith("_"))),r=n?.indexOf?.(e?.currentTab??"");let a=r;-1===a&&(a=0),"ArrowLeft"===t?.key?(a=r-1,a<0&&(a=n?.length-1)):(a=r+1,a>=n?.length&&(a=0));const o=n?.[a];e?.openTab?.(o)}})}onRender(){const e=this,t=H(e,"sidebarOpened")??e.sidebarOpened;Y(t,K("button.open-sidebar",e?.shadowRoot),K(".sidebar",e?.shadowRoot)),K("a")?.addEventListener?.("click",()=>{e.sidebarOpened=!1}),e.sidebarOpened=!1;const i=e?.shadowRoot?.querySelector?.(".sidebar");i&&t&&(i._backUnreg=J(i,t,()=>{e.sidebarOpened=!1})),e.tabs&&e.currentTab&&this.observeTabsOverflow?.()}sidebarUniqueId=`tabbed-sidebar-${Math.random().toString(36).slice(2)}`;tabsBox;detachTabsOverflow;resizeObserver;observeTabsOverflow(){const e=this;if(e.tabsBox=e.shadowRoot?.querySelector?.(".ui-tabbed-box-tabs")??"",!e.tabsBox)return;e.detachTabsOverflow?.(),e.resizeObserver?.disconnect();const t=()=>{queueMicrotask(()=>{if(e.tabsBox){const t=e.tabsBox.scrollWidth-e.tabsBox.clientWidth,i=t>1,n=e.tabsBox.scrollLeft>1,r=e.tabsBox.scrollLeft<t-1;e.tabsBox.hasAttribute("data-scrollable")!==i&&e.tabsBox.toggleAttribute("data-scrollable",i),e.tabsBox.hasAttribute("data-scrollable-start")!==n&&e.tabsBox.toggleAttribute("data-scrollable-start",n),e.tabsBox.hasAttribute("data-scrollable-end")!==r&&e.tabsBox.toggleAttribute("data-scrollable-end",r)}})},i=t=>{if(Math.abs(t.deltaX)<Math.abs(t.deltaY)){const a=(i=t.deltaY,n=-80,r=80,Math.max(n,Math.min(r,i)));e.tabsBox.scrollLeft+=a,t.preventDefault()}var i,n,r},n=()=>t();e.tabsBox.addEventListener("wheel",i,{passive:!1}),e.tabsBox.addEventListener("scroll",t,{passive:!0}),e.tabsBox.addEventListener("pointerup",n,{passive:!0}),e.detachTabsOverflow=()=>{e.tabsBox.removeEventListener("wheel",i),e.tabsBox.removeEventListener("scroll",t),e.tabsBox.removeEventListener("pointerup",n)},t(),queueMicrotask(t),"undefined"!=typeof ResizeObserver&&(e.resizeObserver=new ResizeObserver(t),e.resizeObserver.observe(e.tabsBox))}styles=()=>yi;render=function(){const e=H(this,"sidebarOpened")??this.sidebarOpened,t=H(this,"toolbarOpened")??this.toolbarOpened;return F`<div part="bar" class="bar">
            <button
                part="open-sidebar"
                class="open-sidebar c2-surface"
                aria-haspopup="menu"
                aria-controls=${this.sidebarUniqueId}
                aria-expanded=${G(e,"true","false")}
                on:click=${()=>{this.sidebarOpened=!this.sidebarOpened}}
            ><ui-icon icon="${G(e,"text-outdent","list")}"></ui-icon></button>
            <form class="ui-tabbed-box-tabs pinned" part="pinned">${this.createTab("home")}</form>
            <div class="toolbar-slot" toolbar-opened=${G(t,"true","false")}><slot name="bar"></slot></div>
            <form class="ui-tabbed-box-tabs" part="tabs">${_(Z(this.tabs??new Map),([e,t],i)=>"home"==e||"string"!=typeof e||e.startsWith("_")?null:this.createTab(e))}
            </form>

            <button
                type="button"
                part="toggle-toolbar"
                class="toggle-toolbar c2-surface"
                aria-label="Toggle toolbar"
                aria-expanded=${G(t,"true","false")}
                on:click=${e=>{e?.preventDefault?.(),e?.stopPropagation?.(),e?.target==e?.currentTarget&&(this.toolbarOpened=!this.toolbarOpened)}}
            ><ui-icon icon="${G(t,"caret-right","caret-left")}"></ui-icon></button>
        </div>
        <div part="backdrop" class="ui-backdrop"><slot name="backdrop"></slot></div>
        <div part="underlay" class="ui-underlay"><slot name="underlay"></slot></div>
        <div part="content-box" class="content-box">
            <div part="sidebar" class="sidebar" id=${this.sidebarUniqueId} sidebar-opened=${G(e,"true","false")}><slot name="sidebar"></slot></div>
            <div part="content" class="content"><slot></slot></div>
        </div>`}};xi([V({source:"attr",name:"current-tab"})],Ei.prototype,"currentTab",2),xi([V({source:"attr",name:"tab-position"})],Ei.prototype,"tabPosition",2),xi([V({source:"attr",name:"sidebar-drop-menu"})],Ei.prototype,"sidebarAsDropMenu",2),xi([V({source:"attr",name:"sidebar-opened"})],Ei.prototype,"sidebarOpened",2),xi([V({source:"attr",name:"toolbar-opened"})],Ei.prototype,"toolbarOpened",2),Ei=xi([B("ui-tabbed-with-sidebar")],Ei);var Ri=Object.defineProperty,$i=Object.getOwnPropertyDescriptor,Ti=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?$i(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&Ri(t,i,a),a};const Ci=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}@property --ui-slider-track-size{syntax:"<percentage> | <length>";inherits:true;initial-value:0}@property --ui-slider-thumb-size{syntax:"<percentage> | <length>";inherits:true;initial-value:0}@property --ui-slider-track-radius{syntax:"<percentage> | <length>";inherits:true;initial-value:0}@property --ui-slider-thumb-radius{syntax:"<percentage> | <length>";inherits:true;initial-value:0}@property --ui-slider-gap{syntax:"<length>";inherits:true;initial-value:0}@property --ui-slider-track-color{syntax:"<color>";inherits:true;initial-value:#0000}@property --ui-slider-thumb-color{syntax:"<color>";inherits:true;initial-value:#0000}@property --ui-slider-active-color{syntax:"<color>";inherits:true;initial-value:#0000}@layer ui-slider{:host(ui-slider),:host(ui-slider) .ui-box,:host(ui-slider) .ui-thumb,:host(ui-slider) .ui-track{box-sizing:border-box;transition-behavior:allow-discrete;interpolate-size:allow-keywords;pointer-events:none;user-select:none}:host(ui-slider){--ui-slider-track-size:.125rem;--ui-slider-thumb-size:1rem;--ui-slider-track-radius:.0625rem;--ui-slider-thumb-radius:.5rem;--ui-slider-thumb-color:--c2-surface(0,var(--current));--ui-slider-track-color:--c2-surface(.1,var(--current));--ui-slider-active-color:--c2-surface(1,var(--current))}:host(ui-slider){block-size:fit-content;inline-size:fit-content;max-block-size:stretch;max-inline-size:stretch;min-block-size:0;min-inline-size:2rem}:host(ui-slider) :where(.ui-box){cursor:pointer;pointer-events:auto}:host(ui-slider) :where(.ui-box) :where(.ui-track){background-image:linear-gradient(to right,var(--ui-slider-active-color) calc(100% * var(--value, 0)),var(--ui-slider-track-color) 0);cursor:pointer;inset-block-start:50%;inset-inline-start:50%;pointer-events:auto;transform:translate3d(-50%,-50%,0)}:host(ui-slider) :where(.ui-box) :where(.ui-thumb){--travel-x:calc(100cqi - var(--ui-slider-thumb-size, 0px) * 2 - var(--ui-slider-gap, 0px) * 2);--shift-x:calc(var(--value, 0) * var(--travel-x, 100cqi));background-color:--c2-surface(0,var(--current));border-radius:50%;box-shadow:0 1px 2px #00000026,0 1px 1px #00000014;cursor:grab;inset:auto;inset-block-start:50%;inset-inline-start:0;pointer-events:auto;transform:translate3d(calc(clamp(0px,var(--drag-x, 0) * 1px + var(--shift-x, 0px),var(--travel-x, 100cqi)) + var(--ui-slider-thumb-size, 0px) / 2 + var(--ui-slider-gap, 0px)),-50%,0);z-index:1}:host(ui-slider) :where(.ui-box) :where(.ui-thumb):not([data-dragging]){transform:translate3d(calc(clamp(0px,(var(--shift-x, 0px)),var(--travel-x, 100cqi)) + var(--ui-slider-thumb-size, 0px) / 2 + var(--ui-slider-gap, 0px)),-50%,0);transition:--translate-x .1s ease-in-out}:host(ui-slider) :where(.ui-box) :where(.ui-thumb)[data-dragging]{cursor:grabbing;transition:none}:host(ui-slider) :where(.ui-box) :where(.ui-thumb):active{cursor:grabbing}:host(ui-slider) ::slotted(input){display:none!important}:host(ui-slider[variant=switch]){--ui-slider-track-size:1.25rem;--ui-slider-thumb-size:1rem;--ui-slider-track-radius:calc(var(--ui-slider-track-size) / 2);--ui-slider-thumb-radius:50%;--ui-slider-track-color:--c2-on-surface(0,var(--current));--ui-slider-active-color:--c2-on-surface(-1,var(--current));--ui-slider-gap:calc((var(--ui-slider-track-size) - var(--ui-slider-thumb-size)) / 2)}:host(ui-slider[variant=switch]) .ui-box{background-color:color-mix(in oklch,var(--ui-slider-active-color) calc(100% * var(--value, 0)),var(--ui-slider-track-color));background-image:none;cursor:pointer;pointer-events:auto}:host(ui-slider[variant=switch]) .ui-box .ui-thumb{cursor:grab;pointer-events:auto}:host(ui-slider[variant=switch]) .ui-box .ui-track{background-color:initial;background-image:none}:host(ui-slider[variant=slider]){--ui-slider-track-size:.0625rem;--ui-slider-thumb-size:.75rem;--ui-slider-track-radius:9999px;--ui-slider-thumb-radius:50%;--ui-slider-track-color:--c2-on-surface(0,var(--current));--ui-slider-active-color:--c2-on-surface(-1,var(--current));--ui-slider-gap:calc((var(--ui-slider-track-size) - var(--ui-slider-thumb-size)) / 2)}:host(ui-slider[variant=slider]) .ui-box{cursor:pointer;pointer-events:auto}:host(ui-slider[variant=slider]) .ui-box .ui-thumb{cursor:grab;pointer-events:auto}}');let Si=class extends Jt{get valueAsNumber(){return Ie(this.input)?.[0]||0}input;thumb;handle;name="";value=null;min="0";max="100";step="1";type;disabled=!1;variant;constructor(){super(),this.internals_=this.attachInternals()}styles=()=>Ci;render=()=>F`
<div class="ui-box c2-surface" part="box">
    <div class="ui-track c2-surface" part="track"></div>
    <div class="ui-thumb c2-surface" part="thumb" style="z-index: 99;"></div>
</div>
<slot></slot>
`;onRender(){super.onRender(),queueMicrotask(()=>this.initializeInput())}initializeInput(){const e=this;if(!e?.querySelector?.("input")){const t=document.createElement("input");e?.append?.(t)}{const t=K("input",e);t.type=t?.type||e?.type||"range",t.value||=e?.value||e?.min||"0",e.type=t.type||e?.type,O(t,"value",H(e,"value"),Q,null,!0),O(t,"name",H(e,"name"),Q),O(t,"min",H(e,"min"),Q),O(t,"max",H(e,"max"),Q),O(t,"step",H(e,"step"),Q),O(t,"type",H(e,"type"),Q),O(t,"disabled",H(e,"disabled"),Q)}}onInitialize(){super.onInitialize();const e=this;if(!e.getAttribute("variant")){const t=this.type||"range";e.setAttribute("variant","checkbox"===t?"switch":"slider")}queueMicrotask(()=>{this.input&&this.thumb&&this.handle&&je(this.thumb,this.handle,this.input)}),ee([this.internals_,"ariaValueMax"],te(ie(this.input,"max"),e=>Ie(this.input)?.[2]??e)),ee([this.internals_,"ariaValueMin"],te(ie(this.input,"min"),e=>Ie(this.input)?.[1]??e)),ee([this.internals_,"ariaValueNow"],te(ne(this.input),e=>Ie(this.input)?.[0]??e)),ee([this.internals_,"ariaValueText"],re(this.input)),ee([this.internals_,"ariaOrientation"],"horizontal"),ee([this.internals_,"ariaLive"],"polite"),ee([this.internals_,"ariaRelevant"],"additions"),ee([this.internals_,"ariaRole"],"slider")}};var Ai;((e,t,i)=>{t in e?Ri(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i})(Si,"symbol"!=typeof(Ai="formAssociated")?Ai+"":Ai,!0),Ti([V({source:"query",name:"input"})],Si.prototype,"input",2),Ti([V({source:"query-shadow",name:".ui-thumb"})],Si.prototype,"thumb",2),Ti([V({source:"query-shadow",name:".ui-box"})],Si.prototype,"handle",2),Ti([V({source:"attr"})],Si.prototype,"name",2),Ti([V({source:"attr"})],Si.prototype,"value",2),Ti([V({source:"attr"})],Si.prototype,"min",2),Ti([V({source:"attr"})],Si.prototype,"max",2),Ti([V({source:"attr"})],Si.prototype,"step",2),Ti([V({source:"attr"})],Si.prototype,"type",2),Ti([V({source:"attr"})],Si.prototype,"disabled",2),Ti([V({source:"attr"})],Si.prototype,"variant",2),Si=Ti([B("ui-slider")],Si);var Pi,Oi=Object.defineProperty,Ii=Object.getOwnPropertyDescriptor,qi=e=>{throw TypeError(e)},Li=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?Ii(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&Oi(t,i,a),a},ji=(e,t,i)=>((e,t,i)=>t in e?Oi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i),Mi=(e,t,i)=>t.has(e)||qi("Cannot "+i);const Ui=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}@layer ui-text{:host(ui-longtext){--background-tone-shift:.01;--ui-text-background-color:--c2-surface(var(--background-tone-shift,0),var(--current,#0000));--ui-text-color:--c2-on-surface(var(--ui-text-tone-shift,0),var(--current,currentColor));--ui-text-font-size:.9rem;--ui-text-font-family:"InterVariable","Inter",Helvetica,Calibri,Carlito;--ui-text-border-width:.0625rem;--ui-text-radius:.5rem;--ui-text-border-radius:.5rem;--ui-text-border-color:--c2-on-surface(var(--ui-text-tone-shift,0),var(--current,currentColor))}:host(ui-longtext){background-color:initial!important;block-size:fit-content;border:0 #0000;contain:none;container-type:size;content-visibility:visible;display:grid!important;font-size:var(--ui-text-font-size,1rem);grid-template-columns:minmax(0,1fr)!important;grid-template-rows:minmax(0,1fr)!important;inline-size:stretch;line-height:0;margin:0!important;max-block-size:stretch;max-inline-size:none;min-block-size:2rem;outline:0 none #0000;overflow:hidden;padding:0!important;place-content:stretch;place-items:stretch;pointer-events:none;position:relative;text-align:start;user-select:none}:host(ui-longtext),:host(ui-longtext) *,:host(ui-longtext) ::slotted(*){box-sizing:border-box;transition-behavior:allow-discrete;interpolate-size:allow-keywords;border:0 #0000;margin:0;outline:0 none #0000;padding:0;white-space:nowrap;text-spacing-trim:normal;text-wrap:nowrap;word-break:keep-all}:host(ui-longtext) slot{background-color:initial!important;border:0 #0000!important;box-shadow:none!important;color:inherit!important;contain:none!important;container-type:normal!important;display:contents!important;outline:none!important;pointer-events:none!important;white-space:nowrap!important;text-spacing-trim:normal!important;margin:0!important;padding:0!important;text-wrap:nowrap!important;word-break:keep-all!important}:host(ui-longtext),:host(ui-longtext) *{box-sizing:border-box;transition-behavior:allow-discrete;interpolate-size:allow-keywords;pointer-events:none;user-select:none}:host(ui-longtext){border-color:var(--ui-text-border-color,--c2-on-surface(var(--ui-text-tone-shift,0),var(--current,currentColor)));border-radius:var(--ui-text-border-radius,.5rem);border-style:solid;border-width:0}:host(ui-longtext)>*{background-color:initial;block-size:100%;border:0 #0000;font-family:var(--ui-text-font-family,inherit);font-size:var(--ui-text-font-size,1rem);grid-column:1/-1;grid-row:1/-1;inline-size:100%;justify-content:start;margin:0;max-block-size:none;max-inline-size:none;outline:0 none #0000;overflow:hidden;padding:0;pointer-events:none;text-align:start;user-select:none}:host(ui-longtext) .box-layer{block-size:stretch;content-visibility:visible;display:block;flex-direction:row;font-size:0;grid-column:1/-1;grid-row:1/-1;inline-size:stretch;line-height:0;max-block-size:stretch;max-inline-size:stretch;min-block-size:fit-content;place-content:stretch;align-content:center;justify-content:start;place-items:stretch;align-items:center;border:0 #0000!important;contain:none;font-family:var(--ui-text-font-family,inherit);justify-items:start;margin:0!important;outline:0 none #0000!important;overflow:visible;overflow-block:visible;overflow-inline:scroll;padding:0!important;position:relative;text-align:start;user-select:none;white-space:nowrap;text-spacing-trim:normal;background-color:var(--ui-text-background-color,#0000);clip-path:inset(0 .125rem round .125rem);mask-clip:padding-box;mask-image:linear-gradient(90deg,#0000,#0000 .125rem,#000 .5rem calc(100% - .5rem),#0000 calc(100% - .125rem),#0000);mask-mode:alpha;mask-origin:content-box;mask-position:center center;mask-repeat:no-repeat;mask-size:100% 100%;pointer-events:auto;scrollbar-color:#0000 #0000;scrollbar-width:none;text-wrap:nowrap;word-break:keep-all}:host(ui-longtext) ::slotted(*){block-size:stretch;inline-size:stretch;max-block-size:stretch;max-inline-size:stretch;place-self:stretch}:host(ui-longtext) ::slotted(ui-scrollframe){block-size:stretch!important;inline-size:stretch!important;max-block-size:none;max-inline-size:none;min-block-size:2rem;place-self:stretch;z-index:1!important}:host(ui-longtext) ::slotted(input){block-size:stretch;cursor:text;display:inline-block;font-size:var(--ui-text-font-size,1rem);inline-size:max-content!important;max-block-size:stretch;max-inline-size:none!important;min-block-size:fit-content;min-inline-size:stretch;place-content:stretch;justify-content:start;place-items:stretch;place-self:stretch;justify-self:start;padding:.25rem .5rem .333rem;text-align:start;user-select:text;field-sizing:content;box-sizing:border-box;font-family:var(--ui-text-font-family,inherit);overflow:visible!important;text-overflow:ellipsis;white-space:nowrap;text-spacing-trim:normal;background-color:initial!important;border:0 #0000!important;margin:0!important;outline:0 none #0000!important;pointer-events:auto;text-wrap:nowrap;visibility:visible;word-break:keep-all}}');let Di=class extends Jt{constructor(){super(),ji(this,"input"),ji(this,"box"),ji(this,"name",""),ji(this,"value",null),ji(this,"placeholder",""),ji(this,"disabled",!1),ji(this,"readOnly",!1),ji(this,"required",!1),((e,t,i)=>{t.has(e)?qi("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,i)})(this,Pi,Promise.withResolvers()),ji(this,"styles",function(){return Ui}),ji(this,"render",function(){return F`<div class="box-layer" part="box-layer"><slot></slot></div>`}),this.internals_=this.attachInternals(),((e,t,i,n)=>{Mi(e,t,"write to private field"),n?n.call(e,i):t.set(e,i)})(this,Pi,Promise.withResolvers())}onRender(){super.onRender(),((e,t,i)=>(Mi(e,t,"read from private field"),i?i.call(e):t.get(e)))(this,Pi).resolve(!0);const e=this;e.style.display="grid";const t=e?.shadowRoot?.querySelector?.(".box-layer");T(t,"wheel",e=>{0!==e?.deltaY&&(t?.scrollBy?.({left:(-e?.deltaY||0)-(e?.deltaX||0),behavior:"smooth"}),e?.preventDefault?.())}),queueMicrotask(()=>{this.initializeInput(),e?.shadowRoot?.querySelector?.(".box-layer")})}initializeInput(){const e=this;if(!e?.querySelector?.("input")){const t=document.createElement("input");e?.append?.(t)}{const t=e?.querySelector?.("input");t.type="text",t.value||=e?.value,O(t,"value",H(e,"value"),Q,null,!0),O(t,"name",H(e,"name"),Q),O(t,"placeholder",H(e,"placeholder"),Q),O(t,"disabled",H(e,"disabled"),Q),O(t,"readOnly",H(e,"readOnly"),Q),O(t,"required",H(e,"required"),Q)}}onInitialize(){super.onInitialize(),ee([this.internals_,"ariaValueText"],this.value),ee([this.internals_,"ariaOrientation"],"horizontal"),ee([this.internals_,"ariaLive"],"polite"),ee([this.internals_,"ariaRelevant"],"additions"),ee([this.internals_,"ariaRole"],"textbox")}};Pi=new WeakMap,ji(Di,"formAssociated",!0),Li([V({source:"query",name:"input"})],Di.prototype,"input",2),Li([V({source:"query-shadow",name:".box-layer"})],Di.prototype,"box",2),Li([V({source:"attr"})],Di.prototype,"name",2),Li([V({source:"property"})],Di.prototype,"value",2),Li([V({source:"attr"})],Di.prototype,"placeholder",2),Li([V({source:"attr"})],Di.prototype,"disabled",2),Li([V({source:"attr"})],Di.prototype,"readOnly",2),Li([V({source:"attr"})],Di.prototype,"required",2),Di=Li([B("ui-longtext")],Di);var Fi=Object.defineProperty,Vi=Object.getOwnPropertyDescriptor;const Bi=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}');let Ni=class extends Qt{constructor(){super()}styles=()=>Bi;render=()=>F`
<div style="background-color: transparent;" part="left"   class="left"  ><slot name="left"  ></slot></div>
        <div style="background-color: transparent;" part="center" class="center"><slot name="center"></slot></div>
        <div style="background-color: transparent;" part="right"  class="right" ><slot name="right" ></slot></div>`};Ni=((e,t,i,n)=>{for(var r,a=n>1?void 0:n?Vi(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&Fi(t,i,a),a})([B("ui-statusbar")],Ni);var Wi=Object.defineProperty,Hi=Object.getOwnPropertyDescriptor;const _i=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}');let Zi=class extends Qt{constructor(){super()}styles=()=>_i;render=()=>F`<div part="taskbar" class="taskbar"><slot></slot></div>`};Zi=((e,t,i,n)=>{for(var r,a=n>1?void 0:n?Hi(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&Wi(t,i,a),a})([B("ui-taskbar")],Zi);var Xi=Object.defineProperty,Yi=Object.getOwnPropertyDescriptor,Ki=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?Yi(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&Xi(t,i,a),a};const Gi=M('@property --client-x{initial-value:0;syntax:"<number>";inherits:true}@property --client-y{initial-value:0;syntax:"<number>";inherits:true}@property --page-x{initial-value:0;syntax:"<number>";inherits:true}@property --page-y{initial-value:0;syntax:"<number>";inherits:true}@property --sp-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --sp-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ds-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rx{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --ry{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-x{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --rs-y{initial-value:0px;syntax:"<length-percentage>";inherits:true}@property --limit-shift-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-shift-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-x{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --limit-drag-y{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --bound-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-inline-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --initial-block-size{initial-value:100%;syntax:"<length-percentage>";inherits:true}@property --scroll-coef{syntax:"<number>";initial-value:1;inherits:true}@property --scroll-size{syntax:"<number>";initial-value:0;inherits:true}@property --content-size{syntax:"<number>";initial-value:0;inherits:true}@property --max-size{syntax:"<length-percentage>";initial-value:0px;inherits:true}@function --hsv(--src-color <color>) returns <color>{result:hsl(from var(--src-color,black) h calc((l*.01 - (l*.01*(1 - (s/200))))/clamp(.0001,min(calc(l*.01*(1 - (s/200))),calc(1 - (l*.01*(1 - (s/200))))),1)*100) calc(l*1*(1 - (s/200))) /alpha)}@layer components{ui-icon{--icon-color:currentColor;--icon-size:1rem;--icon-padding:.125rem;aspect-ratio:1;color:var(--icon-color);display:inline-grid;margin-inline-end:.125rem;place-content:center;place-items:center;vertical-align:middle}ui-icon:last-child{margin-inline-end:0}}:host(ui-task),:host(ui-task) *{box-sizing:border-box;touch-action:manipulation;user-select:none;-webkit-user-drag:none;-webkit-tap-highlight-color:transparent;border:0 #0000;gap:0;margin:0;padding:0}:host(ui-task){box-shadow:none;filter:none;pointer-events:auto;user-select:none}:host(ui-task)>*{pointer-events:none}:host(ui-task:hover){--background-tone-shift:.1;background-color:--c2-surface(var(--background-tone-shift,0),var(--current))}:host(ui-task[data-focus]){border-block-end-color:--c2-on-surface(0,var(--current))!important}:host(ui-task:not([data-active])){opacity:.6}');let Ji=class extends Qt{title="Task";icon="github";constructor(){super()}styles=()=>Gi;render=function(){return F`
            <div part="icon" class="task-icon c2-contrast c2-transparent"><ui-icon class="c2-contrast c2-transparent" part="icon" icon="${this.icon}"></ui-icon></div>
            <div part="title" class="task-title c2-contrast c2-transparent">${this.title}</div>
        `}};Ki([V({source:"attr"})],Ji.prototype,"title",2),Ki([V({source:"attr"})],Ji.prototype,"icon",2),Ji=Ki([B("ui-task")],Ji);M("ui-taskbar[data-type=desktop]>ui-task[data-focus]{background:--c2-surface(0,var(--current));color:--c2-on-surface(0,var(--current))}:host(ui-taskbar[data-type=desktop]) ::slotted(ui-task[data-focus]){background:--c2-surface(0,var(--current));color:--c2-on-surface(0,var(--current))}");M("ui-taskbar[data-type=mobile]>ui-task[data-focus]{background:--c2-surface(0,var(--current));color:--c2-on-surface(0,var(--current))}:host(ui-taskbar[data-type=mobile]) ::slotted(ui-task[data-focus]){background:--c2-surface(0,var(--current));color:--c2-on-surface(0,var(--current))}");const Qi=new WeakMap;class en{#O=ae([]);#I=ae(!1);#q=ae("");#L=null;#j=null;#M=!1;#U=null;#D=null;#F=null;host=null;pathRef=ae("/user/");get path(){return this.pathRef?.value||"/user/"}set path(e){this.pathRef&&(this.pathRef.value=e||"/user/")}get entries(){return this.#O}constructor(){this.#O=ae([]),this.pathRef??=ae("/user/"),r(this.pathRef,e=>this.loadPath(e||"/user/")),navigator?.storage?.getDirectory?.()?.then?.(e=>this.#L=e)}itemAction(e){const t=this,i={path:(t.path||"/user/")+e?.name,item:e,originalEvent:null},n=new CustomEvent("open-item",{detail:i,bubbles:!0,composed:!0,cancelable:!0});if(this.host?.dispatchEvent(n),!n.defaultPrevented)if("directory"===e?.kind){const i=(t.path?.endsWith?.("/")?t.path:t.path+"/")+e?.name+"/";t.path=i}else{const e=new CustomEvent("open",{detail:i,bubbles:!0,composed:!0});this.host?.dispatchEvent(e)}}async requestUse(){}async refreshList(e=this.path){if(this.#M)return requestIdleCallback(()=>this.refreshList(e),{timeout:1e3});this.#M=!0;try{await this.loadPath(e)}catch(t){this.#q.value=t?.message||String(t||""),console.warn(t)}finally{this.#M=!1}return this}async loadPath(e=this.path){if(this.#M)return requestIdleCallback(()=>this.loadPath(e),{timeout:1e3});this.#M=!0;try{this.#I.value=!0,this.#q.value="";const t=e?.value||e||this.path||"/user/";this.#j?.dispose&&this.#j.dispose(),this.#j=oe(this.#L,t,{create:!1}),await this.#j,console.log("rel",t);const i=async e=>{const t=e instanceof Map?e?.entries?.():null,i=await Promise.all(t?Array.from(t):await Array.fromAsync(await(this.#j?.entries?.())??[])),n=(await(Promise.all(i?.map?.(async(e,t)=>Promise.try(async()=>{const[t,i]=e;return Qi?.getOrInsertComputed?.(i,async()=>{const e=i?.kind||(t?.endsWith?.("/")?"directory":"file"),n=se({name:t,kind:e,handle:i});return"file"===e&&(n.type=le?.(t),Promise.try(async()=>{try{const e=await(i?.getFile?.());n.file=e,n.size=e?.size,n.lastModified=e?.lastModified,n.type=e?.type||n.type}catch{}}).catch?.(console.warn.bind(console))),n})})?.catch?.(console.warn.bind(console))))?.catch?.(console.warn.bind(console))))?.filter?.(e=>null!=e);null!=n?.length&&n?.length>=0&&"number"==typeof n?.length&&(this.#O.value=n)},n=e=>{this.#F&&clearTimeout(this.#F),this.#F=setTimeout(()=>i(e),50)};"function"==typeof this.#D&&(this.#D?.(),this.#D=null),await(i(await(this.#j?.getMap?.())??[])?.catch?.(console.warn.bind(console))),this.#D=r(await(this.#j?.getMap?.())??[],n)}catch(t){this.#q.value=t?.message||String(t||""),console.warn(t)}finally{this.#I.value=!1,this.#M=!1}return this.#M=!1,this}onRowClick=(e,t)=>{t.preventDefault(),this.itemAction(e)};onRowDblClick=(e,t)=>{t.preventDefault(),this.itemAction(e)};onRowDragStart=(e,t)=>{if(!t.dataTransfer)return;t.dataTransfer.effectAllowed="copyMove";const i=(this.path||"/user/")+(e?.name||"");t.dataTransfer.setData("text/plain",i),t.dataTransfer.setData("text/uri-list",i),e?.file&&(t.dataTransfer.setData("DownloadURL",e?.file?.type+":"+e?.file?.name+":"+URL.createObjectURL(e?.file)),t.dataTransfer.items.add(e?.file))};async onMenuAction(e,t,i){try{const i=e?.name;if(!t)return;const n=(this.path||"/user/")+(i||"");switch(t){case"open":this.itemAction(e);break;case"view":this.dispatchEvent(new CustomEvent("context-action",{detail:{action:"view",item:e}}));break;case"attach-workcenter":this.dispatchEvent(new CustomEvent("context-action",{detail:{action:"attach-workcenter",item:e}}));break;case"download":Promise.try(async()=>{"file"===e?.kind?await ue(await de(this.#L,n,{create:!1})):await ue(await pe(this.#L,n,{create:!1}))}).catch(console.warn);break;case"delete":await ce(this.#L,n);break;case"rename":if("file"===e?.kind){const e=prompt("Rename to:",i);e&&e!==i&&await this.renameFile(n??"",e??"")}break;case"copyPath":this.#U={items:[n],cut:!1};try{await(navigator.clipboard?.writeText?.(n))}catch{}break;case"copy":this.#U={items:[n],cut:!1};try{await(navigator.clipboard?.writeText?.(n))}catch{}}}catch(n){console.warn(n),this.#q.value=n?.message||String(n||"")}}async renameFile(e,t){const i=await de(this.#L,e,{create:!1}),n=await(i?.getFile?.());if(!n)return;await de(this.#L,t,{create:!0}).catch(()=>null);await me(this.#L,this.path+t,n),await ce(this.#L,this.path+e)}async requestUpload(){try{window,await he(this.path,null)}catch(e){console.warn(e)}}async requestPaste(){try{try{const e=await navigator.clipboard.read();if(e&&e.length>0)return void(await be(e,this.path||"/user/"))}catch(e){}let t="";try{t=await(navigator.clipboard?.readText?.())}catch{}const i=this.#U?.items||[];if(t)return void(await be({getData:e=>"text/plain"===e?t:""},this.path||"/user/"));if(i.length>0){const e=i.join("\n");if(await be({getData:t=>"text/plain"===t?e:""},this.path||"/user/"),this.#U?.cut){for(const e of i)await ce(this.#L,e);this.#U=null}}}catch(e){console.warn(e)}}onPaste(e){e.preventDefault(),e.clipboardData||e.dataTransfer?be(e.clipboardData||e.dataTransfer,this.path||"/user/"):this.requestPaste()}onCopy(e){}async onDrop(e){e.preventDefault(),(e.clipboardData||e.dataTransfer)&&be(e.clipboardData||e.dataTransfer,this.path||"/user/")}dispatchEvent(e){this.host?.dispatchEvent(e)}}const tn=new FinalizationRegistry(e=>{});let nn=null;const rn=async(e,t,i)=>{const n={openedWith:null,items:[[{id:"open",label:"Open",icon:"function"},{id:"view",label:"View",icon:"eye"},{id:"attach-workcenter",label:"Attach to Work Center",icon:"lightning"},{id:"download",label:"Download",icon:"download"}],[{id:"delete",label:"Delete",icon:"trash"},{id:"rename",label:"Rename",icon:"pencil"},{id:"copyPath",label:"Copy Path",icon:"copy"},{id:"movePath",label:"Move Path",icon:"hand-withdraw"}]],defaultAction:(e,n,r)=>{const a=Array.from(r?.composedPath?.()||[]).find(e=>e?.classList?.contains?.(".row"))||fe(e,".row");requestAnimationFrame(()=>t?.((i?.value??i)?.find?.(e=>e?.name===a?.getAttribute?.("data-id")),n?.id,r))}},r=e,a=(()=>{if(nn)return nn;const e=F`<ul class="grid-rows round-decor ctx-menu ux-anchor" style="position: fixed; z-index: 99999;" data-hidden></ul>`;return nn=e,(document.querySelector(".basic-app")||document.body).append(e),e})();return ge(r,n,a),tn.register(r,a),a},an=(e,t="file")=>e?e.startsWith("image/")?"image":e.startsWith("audio/")?"music":e.startsWith("video/")?"video":"application/pdf"===e?"file-text":e.includes("zip")||e.includes("7z")||e.includes("rar")?"file-archive":e.includes("json")?"brackets-curly":e.includes("csv")?"file-spreadsheet":e.includes("xml")?"code":e.startsWith("text/")?"file-text":t:t,on={md:"file-text",txt:"file-text",pdf:"file-pdf",doc:"file-doc",docx:"file-doc",png:"file-image",jpg:"file-image",jpeg:"file-image",gif:"file-image",svg:"file-image",webp:"file-image",js:"file-js",ts:"file-ts",jsx:"file-jsx",tsx:"file-tsx",html:"file-html",css:"file-css",scss:"file-css",json:"file-json",zip:"file-zip",tar:"file-zip",gz:"file-zip",rar:"file-zip",mp3:"file-audio",wav:"file-audio",mp4:"file-video",mov:"file-video",webm:"file-video"},sn=(e,t)=>"string"==typeof e?"directory"===e?"folder":an(e||""):"directory"===e?.kind?"folder":an(e?.type)||(e=>{const t=e.split(".").pop()?.toLowerCase()||"";return on[t]||"file"})(e?.name||""),ln=new Map;var cn=Object.defineProperty,un=Object.getOwnPropertyDescriptor,dn=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?un(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&cn(t,i,a),a};"undefined"==typeof window||Ue||(Ue=!0,j(window,"copy",e=>Me(e,"onCopy"),{capture:!1,passive:!0}),j(window,"cut",e=>Me(e,"onCut"),{capture:!1,passive:!0}),j(window,"paste",e=>Me(e,"onPaste"),{capture:!1,passive:!1}));const pn=M("@layer ux-file-manager-content{:host(ui-file-manager-content),:host(ui-file-manager-content) :where(*){overflow:hidden;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none}:host(ui-file-manager-content){background-color:var(--color-surface);block-size:stretch;border-radius:.5rem;color:var(--color-on-surface);contain:none;container-type:size;display:block;grid-column:1/-1;inline-size:stretch;isolation:isolate;margin:0;overflow:auto;perspective:1000;pointer-events:auto;position:relative;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;touch-action:manipulation;z-index:1}:host(ui-file-manager-content) .fm-grid{align-content:start;block-size:fit-content;display:grid;grid-template-rows:minmax(max-content,2rem) minmax(0,1fr);inline-size:stretch;min-block-size:stretch;overflow:visible;pointer-events:none;row-gap:var(--gap-xs);scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;touch-action:manipulation}@container (inline-size <= 600px){:host(ui-file-manager-content) .fm-grid{grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,0) [actions] minmax(8rem,max-content)}}:host(ui-file-manager-content) .fm-grid-rows{align-content:start;block-size:stretch;contain:strict;contain-intrinsic-size:1px 3rem;content-visibility:auto;display:grid;gap:var(--gap-xs);grid-auto-rows:3rem;grid-column:1/-1;grid-template-columns:subgrid;inline-size:stretch;overflow:auto;pointer-events:auto;scrollbar-color:var(--on-surface-color,currentColor) #0000;scrollbar-gutter:auto;scrollbar-width:thin;touch-action:manipulation;z-index:1}:host(ui-file-manager-content) .fm-grid-rows slot{display:contents!important}:host(ui-file-manager-content) :where(.row){block-size:3rem;border-radius:.375rem;color:var(--color-on-surface-variant);cursor:pointer;display:grid;grid-column:1/-1;grid-template-rows:2.5rem!important;inline-size:stretch;min-block-size:max-content;order:var(--order,1)!important;place-content:center;place-items:center;justify-items:start;padding:.25rem .375rem;place-self:center;pointer-events:auto;touch-action:manipulation;user-drag:none;-webkit-user-drag:none;background-color:var(--surface-color,#0000);flex-wrap:nowrap;gap:.25rem;letter-spacing:-.05em;overflow:hidden;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}@media(hover:hover)and (pointer:fine){:host(ui-file-manager-content) :where(.row){user-drag:element;-webkit-user-drag:element}}:host(ui-file-manager-content) :where(.row) ui-icon{block-size:1.25rem;inline-size:1.25rem;place-content:center;place-items:center}:host(ui-file-manager-content) :where(.row) a,:host(ui-file-manager-content) :where(.row) span{background-color:initial!important}:host(ui-file-manager-content) :where(.row)>*{background-color:initial!important;block-size:3rem;min-block-size:max-content}:host(ui-file-manager-content) .row:hover{background-color:var(--color-surface-container-high)}:host(ui-file-manager-content) .row:active{background-color:var(--color-surface-container-highest)}:host(ui-file-manager-content) .row:focus-visible{outline:var(--focus-ring)}:host(ui-file-manager-content) .c{block-size:3rem;color:var(--color-on-surface);display:flex;flex-direction:row;inline-size:auto;min-inline-size:0;overflow:hidden;place-content:center;justify-content:start;min-block-size:max-content;place-items:center;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}:host(ui-file-manager-content) .icon{grid-column:icon;place-content:center;place-items:center}:host(ui-file-manager-content) .name{grid-column:name;inline-size:stretch}:host(ui-file-manager-content) .size{grid-column:size}:host(ui-file-manager-content) .date{grid-column:date}:host(ui-file-manager-content) .actions{grid-column:actions}:host(ui-file-manager-content) .fm-grid,:host(ui-file-manager-content) .fm-grid-header,:host(ui-file-manager-content) .row,:host(ui-file-manager-content) ::slotted(.row){grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,8rem) [actions] minmax(8rem,max-content)}@container (inline-size <= 600px){:host(ui-file-manager-content) .fm-grid,:host(ui-file-manager-content) .fm-grid-header,:host(ui-file-manager-content) .row,:host(ui-file-manager-content) ::slotted(.row){grid-template-columns:[icon] minmax(0,2.5rem) [name] minmax(0,1fr) [size] minmax(0,3rem) [date] minmax(0,0) [actions] minmax(8rem,max-content)}:host(ui-file-manager-content) .date{display:none!important}}:host(ui-file-manager-content) .actions{background-color:var(--color-surface);block-size:stretch;border-radius:.5rem;box-shadow:0 .0625rem .125rem oklch(from #000 l c h/.1);color:var(--color-on-surface);display:flex;flex-direction:row;flex-wrap:nowrap;gap:0;inline-size:fit-content;max-block-size:2rem;max-inline-size:stretch;overflow:hidden;padding:0;place-content:center;place-items:center;place-self:center;pointer-events:none}:host(ui-file-manager-content) .action-btn{appearance:none;aspect-ratio:1.25/1;background-color:var(--color-surface);block-size:stretch;border:none;border-radius:0;box-shadow:none;color:var(--color-on-surface);cursor:pointer;display:flex;inline-size:fit-content;max-block-size:stretch;max-inline-size:stretch;min-block-size:2rem;min-inline-size:2.5rem;overflow:visible;padding:.5rem;place-content:center;place-items:center;position:relative;transition:all .15s cubic-bezier(.4,0,.2,1)}:host(ui-file-manager-content) .action-btn ui-icon{block-size:stretch;inline-size:stretch;min-block-size:.875rem;min-inline-size:.875rem}:host(ui-file-manager-content) .fm-grid-header{border-radius:.375rem;display:grid;font-size:.875em;gap:.25rem;grid-column:1/-1;inset-block-start:0;opacity:1;padding:.25rem .375rem;place-content:center;justify-content:start;place-items:center;justify-items:start;pointer-events:auto;position:sticky!important;text-align:start;touch-action:manipulation;z-index:2}:host(ui-file-manager-content) .fm-grid-header>*{inline-size:auto}:host(ui-file-manager-content) .fm-grid-header .c{font-weight:600}:host(ui-file-manager-content) .fm-grid-header .icon{grid-column:icon}:host(ui-file-manager-content) .fm-grid-header .name{grid-column:name;inline-size:stretch}:host(ui-file-manager-content) .fm-grid-header .size{grid-column:size}:host(ui-file-manager-content) .fm-grid-header .date{grid-column:date}:host(ui-file-manager-content) .fm-grid-header .actions{block-size:fit-content;border-radius:0;box-shadow:none;display:flex;flex-direction:row;flex-wrap:nowrap;gap:.25rem;grid-column:actions;inline-size:stretch;max-inline-size:stretch;overflow:hidden;padding:0;place-content:center;justify-content:start;place-items:center;justify-items:start;text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap}}");let mn=class extends Jt{gridRowsEl;gridEl;operativeInstance=null;operativeInstanceRef=ae(null);get entries(){return this.operativeInstance?.entries??[]}get path(){return this.operativeInstance?.path||"/user/"}set path(e){this.operativeInstance&&(this.operativeInstance.path=e||"/user/")}get pathRef(){return this.operativeInstance?.pathRef}refreshList(){this.gridRowsEl&&(this.gridRowsEl.innerHTML=""),this.gridEl&&(this.gridEl.innerHTML=""),this.operativeInstance&&this.operativeInstance.refreshList(this.path||"/user/")}onInitialize(){return super.onInitialize()??this}bindDropHandlers(){const e=this;e&&(T(e,"dragover",e=>{ve(e?.target,"ui-file-manager-content, ui-file-manager")&&(e?.preventDefault?.(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy"))}),T(e,"drop",e=>{ve(e?.target,"ui-file-manager-content, ui-file-manager")&&(e?.preventDefault?.(),e?.stopImmediatePropagation?.(),this.operativeInstance?.onDrop?.(e))}))}onPaste(e){ve(e?.target,"ui-file-manager-content, ui-file-manager")&&this.operativeInstance&&this.operativeInstance.onPaste(e)}onCopy(e){ve(e?.target,"ui-file-manager-content, ui-file-manager")&&this.operativeInstance&&this.operativeInstance.onCopy(e)}byFirstTwoLetterOrName(e){const t=e?.substring?.(0,2)?.toUpperCase?.();return(t?.charCodeAt?.(0)||65)-65}constructor(){super(),this.operativeInstance??=new en,this.operativeInstance.host=this,this.refreshList()}styles=()=>pn;render=function(){const e=this,t=F`<div class="fm-grid-header">
            <div class="c icon">@</div>
            <div class="c name">Name</div>
            <div class="c size">Size</div>
            <div class="c date">Modified</div>
            <div class="c actions">Actions</div>
        </div>`,i=e.operativeInstance;if(!i)return"";const n=t=>{const n="file"===t?.kind||t?.file,r=F`<div draggable="${n}" data-id=${H(t,"name")} class="row c2-surface"
                on:click=${e=>requestAnimationFrame(()=>i.onRowClick?.(t,e))}
                on:dblclick=${e=>requestAnimationFrame(()=>i.onRowDblClick?.(t,e))}
                on:dragstart=${e=>i.onRowDragStart?.(t,e)}
                data-id=${H(t,"name")}
            >
                <div style="pointer-events: none; background-color: transparent;" class="c icon"><ui-icon icon=${te(t,()=>sn(t))} /></div>
                <div style="pointer-events: none; background-color: transparent;" class="c name" title=${H(t,"name")}>${H(t,"name")}</div>
                <div style="pointer-events: none; background-color: transparent;" class="c size">${n?H(t,"size"):""}</div>
                <div style="pointer-events: none; background-color: transparent;" class="c date">${n?te(H(t,"lastModified"),e=>(e=>{if(null==e)return"";const t=e instanceof Date?e.getTime():e;if(ln.has(t))return ln.get(t);const i=new Date(t).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"});return ln.set(t,i),i})(e??0)):""}</div>
                <div style="pointer-events: none; background-color: transparent;" class="c actions">
                    <button class="action-btn" title="Copy Path" on:click=${e=>{e.stopPropagation(),requestAnimationFrame(()=>i.onMenuAction?.(t,"copyPath",e))}}>
                        <ui-icon icon="copy" />
                    </button>
                    <button class="action-btn" title="Copy" on:click=${e=>{e.stopPropagation(),requestAnimationFrame(()=>i.onMenuAction?.(t,"copy",e))}}>
                        <ui-icon icon="clipboard" />
                    </button>
                    <button class="action-btn" title="Delete" on:click=${e=>{e.stopPropagation(),requestAnimationFrame(()=>i.onMenuAction?.(t,"delete",e))}}>
                        <ui-icon icon="trash" />
                    </button>
                </div>
            </div>`;return O(r,"--order",te(H(t,"name"),t=>e.byFirstTwoLetterOrName(t??"")),I),r};let r=null;const a=_(e.entries,(e,t)=>(console.log(e,t),"object"==typeof e&&null!=e&&null!=e?.name?n({name:e.name,kind:e.kind,size:e.size,lastModified:e.lastModified}):null));r=F`<div class="fm-grid-rows" style="will-change: contents;">${a}</div>`,a.boundParent=r,rn?.(r,i.onMenuAction.bind(i),e.entries),queueMicrotask(()=>e.bindDropHandlers());return F`<div class="fm-grid" part="grid">
            ${t}
            ${r}
        </div>`}};dn([V({source:"query-shadow",name:".fm-grid-rows"})],mn.prototype,"gridRowsEl",2),dn([V({source:"query-shadow",name:".fm-grid"})],mn.prototype,"gridEl",2),mn=dn([B("ui-file-manager-content")],mn);var hn=Object.defineProperty,bn=Object.getOwnPropertyDescriptor,gn=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?bn(t,i):t,o=e.length-1;o>=0;o--)(r=e[o])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&hn(t,i,a),a};const fn=M("@layer ux-file-manager{:host(ui-file-manager),:host(ui-file-manager) :where(*){border:0 #0000;box-sizing:border-box;line-height:0;margin:0;outline:0 none #0000;overflow:hidden;padding:0;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none;user-select:none;-webkit-tap-highlight-color:transparent}:host(ui-file-manager){background-color:var(--color-surface);block-size:stretch;border-radius:0;color:var(--color-on-surface);container-type:inline-size;content-visibility:auto;display:grid;inline-size:stretch;margin:0;overflow:hidden;perspective:1000}:host(ui-file-manager) .fm-root{block-size:stretch;display:grid;gap:var(--gap-xs);grid-template-columns:[content-col] minmax(0,1fr);grid-template-rows:auto minmax(0,1fr);inline-size:stretch;overflow:hidden}:host(ui-file-manager) .fm-toolbar{border-radius:.5rem;display:grid;gap:.5rem;grid-auto-flow:column;grid-column:1/-1;grid-template-columns:minmax(0,max-content) minmax(0,1fr) minmax(0,max-content);grid-template-rows:minmax(0,1fr);line-height:0;padding:.25rem;place-content:center;place-items:center}:host(ui-file-manager) .fm-toolbar button,:host(ui-file-manager) .fm-toolbar input{background-color:var(--color-surface-container);color:var(--color-on-surface)}:host(ui-file-manager) .fm-toolbar input{block-size:stretch;border:0 #0000;inline-size:stretch;outline:0 none #0000;overflow:auto;padding:.25rem}:host(ui-file-manager) .fm-toolbar .btn{appearance:none;aspect-ratio:1/1;block-size:2.5rem;border:0;border-radius:0;cursor:pointer;inline-size:2.5rem;padding:.65rem;transition:background .1s ease-in-out}:host(ui-file-manager) .fm-toolbar>*{block-size:fit-content;border-radius:.5rem;display:flex;flex-direction:row;flex-wrap:nowrap;gap:0;min-block-size:stretch;overflow:hidden;padding:0}:host(ui-file-manager) .fm-toolbar .fm-toolbar-left{grid-column:1}:host(ui-file-manager) .fm-toolbar .fm-toolbar-left,:host(ui-file-manager) .fm-toolbar .fm-toolbar-right{border-radius:var(--radius-lg,.25rem)}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center{block-size:fit-content;border-radius:.5rem;flex-grow:1;grid-column:2;inline-size:stretch;min-block-size:stretch;overflow:hidden;padding:0;place-content:center;justify-content:start;place-items:center}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center>*{block-size:stretch;inline-size:stretch}:host(ui-file-manager) .fm-toolbar .fm-toolbar-center input{border:0 #0000;inline-size:stretch;outline:0 none #0000;padding-inline:.75rem}:host(ui-file-manager) .fm-toolbar .fm-toolbar-right{grid-column:3}:host(ui-file-manager) .fm-sidebar{align-content:start;border-radius:.5rem;display:none;gap:.5rem;grid-column:sidebar-col;grid-row:2;justify-content:start;justify-items:start;line-height:normal;padding:.5rem;text-align:start}:host(ui-file-manager) .fm-sidebar .sec{display:grid;gap:.25rem;place-content:start;justify-content:start;place-items:start;justify-items:start}:host(ui-file-manager) .fm-sidebar .sec-title{font-weight:600;opacity:.8;padding-block:.25rem;place-self:start}:host(ui-file-manager) .fm-sidebar .link{appearance:none;border:0;border-radius:.375rem;cursor:pointer;line-height:normal;padding:.25rem .375rem;text-align:start}:host(ui-file-manager) .fm-content{block-size:stretch;border-radius:.5rem;grid-column:content-col;grid-row:2;inline-size:stretch;overflow:auto;padding:.25rem;scrollbar-color:#0000 #0000;scrollbar-gutter:auto;scrollbar-width:none}:host(ui-file-manager) .status{opacity:.8;padding:.5rem}:host(ui-file-manager) .status.error{color:var(--error-color,crimson)}@container (inline-size < 520px){:host(ui-file-manager) .fm-content{grid-column:1/-1}:host(ui-file-manager) .fm-root{grid-column:1/-1}:host(ui-file-manager) .fm-grid{grid-column:1/-1}:host(ui-file-manager) .fm-root[data-with-sidebar=true]{grid-template-columns:[content-col] minmax(0,1fr)}:host(ui-file-manager) .fm-sidebar{display:none!important}}}");let vn=class extends Jt{gridRowsEl;gridEl;sidebar="auto";inlineSize;styles=()=>fn;constructor(){super()}get content(){return this?.querySelector?.("ui-file-manager-content")}get operative(){return this.content?.operativeInstance}get pathRef(){return this.operative?.pathRef}get path(){return this.content?.path||this.operative?.path||"/user/"}set path(e){this.content&&(this.content.path=e||"/user/"),this.operative&&(this.operative.path=e||"/user/")}get input(){return this?.shadowRoot?.querySelector?.('input[name="address"]')}get inputValue(){return this.input?.value||"/user/"}set inputValue(e){this.input&&(this.input.value=e||"/user/")}onInitialize(){const e=super.onInitialize()??this,t=document.createElement("ui-file-manager-content");return e.append(t),e}onRender(){super.onRender();const e=new WeakRef(this);T(this,"keydown",t=>{if("Enter"===t.key){const t=e.deref(),i=t?.querySelector?.('input[name="address"]'),n=i?.value?.trim?.()||"";n&&t?.navigate(n)}})}get showSidebar(){const e=String(this.sidebar??"auto").toLowerCase();if("true"===e||"1"===e)return!0;if("false"===e||"0"===e)return!1;return(H(this,"inlineSize")?.value??this.inlineSize??0)>=720}async navigate(e){const t=xe(e);this.path=t||this.path||"/user/",this.operative?.refreshList(this.path||"/user/");const i=this?.shadowRoot?.querySelector?.('input[name="address"]');i&&i instanceof HTMLInputElement&&i.value!=this.path&&(i.value=this.path||"/user/")}async goUp(){const e=(this.path||this.content?.path||"/user/").replace(/\/+$/g,"").split("/").filter(Boolean);if(console.log("parts",e,this.path,this.content?.path),e.length<=1)return;const t="/"+e.slice(0,-1).join("/")+"/",i=xe(t);this.navigate(this.path=i||"/user/")}requestUpload(){this.operative?.requestUpload?.()}requestPaste(){this.operative?.requestPaste?.()}requestUse(){this.operative?.requestUse?.()}render=function(){const e=this,t=e.showSidebar,i=F`<div part="content" class="fm-content"><slot></slot></div>`,n=F`<div part="toolbar" class="fm-toolbar">
            <div class="fm-toolbar-left">
                <button class="btn" title="Up" on:click=${()=>requestAnimationFrame(()=>e.goUp())}><ui-icon icon="arrow-up"/></button>
                <button class="btn" title="Refresh" on:click=${()=>requestAnimationFrame(()=>e.navigate(e.inputValue||e.path||"/user/"))}><ui-icon icon="arrow-clockwise"/></button>
            </div>
            <div class="fm-toolbar-center"><form style="display: contents;" onsubmit="return false;">
                <input class="address c2-surface" autocomplete="off" type="text" name="address" value=${e.path||"/user/"} />
            </form></div>
            <div class="fm-toolbar-right">
                <button class="btn" title="Add" on:click=${()=>requestAnimationFrame(()=>e.requestUpload?.())}><ui-icon icon="upload"/></button>
                <button class="btn" title="Paste" on:click=${()=>requestAnimationFrame(()=>e.requestPaste?.())}><ui-icon icon="clipboard"/></button>
                <button class="btn" title="Use" on:click=${()=>requestAnimationFrame(()=>e.requestUse?.())}><ui-icon icon="hand-withdraw"/></button>
            </div>
        </div>`;return requestAnimationFrame(()=>{r(this.pathRef,e=>{const t=this?.shadowRoot?.querySelector?.('input[name="address"]');t&&t instanceof HTMLInputElement&&t.value!=e&&(t.value=e||"/user/")})}),F`<div part="root" class="fm-root" data-with-sidebar=${t}>${n}${i}</div>`}};gn([V({source:"query-shadow",name:".fm-grid-rows"})],vn.prototype,"gridRowsEl",2),gn([V({source:"query-shadow",name:".fm-grid"})],vn.prototype,"gridEl",2),gn([V({source:"attr",name:"sidebar"})],vn.prototype,"sidebar",2),gn([V({source:"inline-size"})],vn.prototype,"inlineSize",2),vn=gn([B("ui-file-manager")],vn),console.log(_t),(async()=>{await(async()=>{try{await ye("basic")}catch{console.warn("[FL.UI] Could not load veela-basic runtime")}await M(Xt),await U(Xt)})(),await M(Zt),await U(Zt)})();class xn{theme=ae({id:"auto",name:"Auto",colorScheme:"auto"});currentView=ae("home");navigationState={currentView:"home",viewHistory:[]};container=null;rootElement=null;contentContainer=null;toolbarContainer=null;statusContainer=null;loadedViews=new Map;currentViewElement=null;mounted=!1;async mount(e){if(this.mounted)return void console.warn(`[${this.id}] Shell already mounted`);this.container=e;const t=this.getStylesheet();if(t){await M(t)&&await U(t)}this.rootElement=this.createLayout(),this.rootElement.setAttribute("data-shell",this.id),this.contentContainer=this.rootElement.querySelector("[data-shell-content]")||this.rootElement,this.toolbarContainer=this.rootElement.querySelector("[data-shell-toolbar]"),this.statusContainer=this.rootElement.querySelector("[data-shell-status]"),this.applyTheme(this.theme.value),e.replaceChildren(this.rootElement),this.mounted=!0,console.log(`[${this.id}] Shell mounted with data-shell="${this.id}"`)}unmount(){if(this.mounted){for(const[t,{view:i}]of this.loadedViews)if(i.lifecycle?.onUnmount)try{i.lifecycle.onUnmount()}catch(e){console.warn(`[${this.id}] View ${t} unmount error:`,e)}this.loadedViews.clear(),this.rootElement?.remove(),this.rootElement=null,this.contentContainer=null,this.toolbarContainer=null,this.statusContainer=null,this.container=null,this.mounted=!1,console.log(`[${this.id}] Shell unmounted`)}}async navigate(e,t){console.log(`[${this.id}] Navigating to: ${e}`,t);const i=this.navigationState.currentView;if(this.navigationState.previousView=i,this.navigationState.currentView=e,this.navigationState.params=t,this.navigationState.viewHistory[this.navigationState.viewHistory.length-1]!==e&&(this.navigationState.viewHistory.push(e),this.navigationState.viewHistory.length>50&&this.navigationState.viewHistory.shift()),this.currentView.value=e,"undefined"!=typeof window&&"undefined"!=typeof window){const i=`/${e}`,n=i+(t?"?"+new URLSearchParams(t).toString():"");globalThis?.location?.pathname!==i&&globalThis?.history?.pushState?.({viewId:e,params:t},"",n)}try{const i=await this.loadView(e,t);this.renderView(i)}catch(n){console.error(`[${this.id}] Failed to load view ${e}:`,n),this.showMessage(`Failed to load ${e}`)}}async loadView(e,t){const i=this.loadedViews.get(e);if(i){if(i.view.lifecycle?.onShow&&i.view.lifecycle.onShow(),i.view.getToolbar&&this.toolbarContainer){const e=i.view.getToolbar();this.setViewToolbar(e)}return i.element}const n=await we.load(e,{shellContext:this.getContext(),params:t}),r=n.render({shellContext:this.getContext(),params:t});if(this.loadedViews.set(e,{view:n,element:r}),n.getToolbar&&this.toolbarContainer){const e=n.getToolbar();this.setViewToolbar(e)}return n.lifecycle?.onMount&&await n.lifecycle.onMount(),n.lifecycle?.onShow&&n.lifecycle.onShow(),r}setTheme(e){this.theme.value=e,this.applyTheme(e)}getContext(){return{shellId:this.id,navigate:(e,t)=>this.navigate(e,t),goBack:()=>this.goBack(),showMessage:(e,t)=>this.showMessage(e,t),navigationState:this.navigationState,theme:this.theme.value,layout:this.layout,getContentContainer:()=>this.contentContainer,getToolbarContainer:()=>this.toolbarContainer,setViewToolbar:e=>this.setViewToolbar(e)}}getElement(){if(!this.rootElement)throw new Error(`[${this.id}] Shell not mounted`);return this.rootElement}renderView(e){if(!this.contentContainer)return void console.warn(`[${this.id}] No content container available`);const t=this.navigationState.previousView;if(t&&t!==this.currentView.value&&this.loadedViews.has(t)){const e=this.loadedViews.get(t);e.view.lifecycle?.onHide&&e.view.lifecycle.onHide(),e.element.removeAttribute("data-view"),e.element.hidden=!0,this.contentContainer.contains(e.element)&&e.element.remove()}e.setAttribute("data-view",this.currentView.value),e.hidden=!1,this.contentContainer.contains(e)||this.contentContainer.appendChild(e),this.currentViewElement=e}applyTheme(e){if(!this.rootElement)return;const t=globalThis?.matchMedia?.("(prefers-color-scheme: dark)")?.matches,i="dark"===e.colorScheme?"dark":"light"===e.colorScheme?"light":t?"dark":"light";if(this.rootElement.dataset.theme=i,this.rootElement.style.colorScheme=i,e.cssVariables)for(const[n,r]of Object.entries(e.cssVariables))this.rootElement.style.setProperty(n,r)}goBack(){const e=this.navigationState.viewHistory;if(e.length>1){e.pop();const t=e[e.length-1];t&&this.navigate(t)}}showMessage(e,t=3e3){ze({message:e,duration:t,kind:"info"})}setViewToolbar(e){this.toolbarContainer&&(this.toolbarContainer.replaceChildren(),e&&this.toolbarContainer.appendChild(e))}setupHashNavigation(){}setupPopstateNavigation(){"undefined"!=typeof window&&"undefined"!=typeof window&&globalThis?.addEventListener?.("popstate",e=>{const t=globalThis?.location?.pathname?.replace(/^\//,"").toLowerCase(),i=e.state?.viewId||t||"viewer";i!==this.currentView.value&&(this.navigationState.currentView=i,this.currentView.value=i,this.loadView(i,e.state?.params).then(e=>{this.renderView(e)}).catch(console.error))})}getViewFromPathname(){if("undefined"==typeof window||"undefined"==typeof window)return null;const e=globalThis?.location?.pathname?.replace(/^\//,"").toLowerCase();return e&&"/"!==e?e:null}}export{xn as ShellBase};
