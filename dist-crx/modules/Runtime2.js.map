{"version":3,"file":"Runtime2.js","sources":["../../src/core/utils/Runtime.ts"],"sourcesContent":["/**\n * Runtime-safe helpers for mixed environments\n * (window, service worker, worker, extension contexts).\n */\n\nexport const getRuntimeLocation = (): Location | undefined =>\n    (globalThis as any)?.location as Location | undefined;\n\nexport const getRuntimeLocationOrigin = (): string | undefined =>\n    getRuntimeLocation()?.origin;\n\nexport const getRuntimeLocationHref = (): string =>\n    getRuntimeLocation()?.href || \"\";\n\nexport const getRuntimeLocationSearch = (): string =>\n    getRuntimeLocation()?.search || \"\";\n\nexport const canParseURL = (value: string, base?: string): boolean => {\n    const source = value?.trim?.() || \"\";\n    if (!source) return false;\n    const fallbackBase = base ?? getRuntimeLocationOrigin();\n    if (typeof URL?.canParse === \"function\") {\n        return URL.canParse(source, fallbackBase);\n    }\n    try {\n        new URL(source, fallbackBase);\n        return true;\n    } catch {\n        return false;\n    }\n};\n\nexport const scheduleFrame = (cb: () => void): void => {\n    if (typeof (globalThis as any)?.requestAnimationFrame === \"function\") {\n        (globalThis as any).requestAnimationFrame(cb);\n        return;\n    }\n    globalThis.setTimeout(cb, 0);\n};\n"],"names":[],"mappings":";AAKO,MAAM,kBAAA,GAAqB,MAC7B,UAAA,EAAoB,QAAA;AAElB,MAAM,wBAAA,GAA2B,MACpC,kBAAA,EAAmB,EAAG,MAAA;AAEnB,MAAM,sBAAA,GAAyB,MAClC,kBAAA,EAAmB,EAAG,IAAA,IAAQ,EAAA;AAE3B,MAAM,wBAAA,GAA2B,MACpC,kBAAA,EAAmB,EAAG,MAAA,IAAU,EAAA;AAE7B,MAAM,WAAA,GAAc,CAAC,KAAA,EAAe,IAAA,KAA2B;AAClE,EAAA,MAAM,MAAA,GAAS,KAAA,EAAO,IAAA,IAAO,IAAK,EAAA;AAClC,EAAA,IAAI,CAAC,QAAQ,OAAO,KAAA;AACpB,EAAA,MAAM,YAAA,GAAe,QAAQ,wBAAA,EAAyB;AACtD,EAAA,IAAI,OAAO,GAAA,EAAK,QAAA,KAAa,UAAA,EAAY;AACrC,IAAA,OAAO,GAAA,CAAI,QAAA,CAAS,MAAA,EAAQ,YAAY,CAAA;AAAA,EAC5C;AACA,EAAA,IAAI;AACA,IAAA,IAAI,GAAA,CAAI,QAAQ,YAAY,CAAA;AAC5B,IAAA,OAAO,IAAA;AAAA,EACX,CAAA,CAAA,MAAQ;AACJ,IAAA,OAAO,KAAA;AAAA,EACX;AACJ;AAEO,MAAM,aAAA,GAAgB,CAAC,EAAA,KAAyB;AACnD,EAAA,IAAI,OAAQ,UAAA,EAAoB,qBAAA,KAA0B,UAAA,EAAY;AAClE,IAAC,UAAA,CAAmB,sBAAsB,EAAE,CAAA;AAC5C,IAAA;AAAA,EACJ;AACA,EAAA,UAAA,CAAW,UAAA,CAAW,IAAI,CAAC,CAAA;AAC/B;;;;"}