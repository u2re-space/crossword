const e='\nRecognize data from image, also preferred to orient by fonts in image.\n\nIn recognition result, do not include image itself.\n\nIn recognized from image data (what you seen in image), do:\n- If textual content, format as Markdown string (multiline).\n- If math (expression, equation, formula):\n  - For inline math, use SINGLE dollar signs: $x^2 + y^2 = z^2$\n  - For block/display math, use DOUBLE dollar signs: $$\\int_0^1 f(x) dx$$\n  - Do NOT add extra dollar signs - use exactly one $ for inline, exactly two $$ for block\n- If table (or looks alike table), format as | table |\n- If image reference, format as [$image$]($image$)\n- If code, format as ```$code$``` (multiline) or `$code$` (single-line)\n- If JSON, format as JSON string.\n- If phone number, format as correct phone number (in normalized format).\n  - If phone numbers (for example starts with +7, format as 8), replace to correct regional code.\n  - Trim spaces from phone numbers, emails, URLs, dates, times, codes, etc.\n  - Remove brackets, parentheses, spaces or other symbols from phone numbers.\n- If email, format as correct email (in normalized format).\n- If URL, format as correct URL (in normalized format), decode unicode to readable.\n- If date, format as correct date (ISO format preferred).\n- If time, format as correct time (24h format preferred).\n- If barcode/QR code, extract the encoded data.\n- If other, format as $text$.\n- If seen alike list, format as list (in markdown format).\n\nAdditional analysis:\n- Detect document type (receipt, business card, screenshot, etc.)\n- Extract structured data when possible (names, addresses, prices)\n- Identify any logos or branding\n- Note image quality issues that may affect recognition\n\nIf nothing found, return: {"ok": false, "error": "No data recognized"}\n\nCRITICAL OUTPUT FORMAT: Return ONLY valid JSON. No markdown code blocks, no explanations, no prose.\nYour response must start with { and end with }.\n\nExpected output structure:\n{\n    "recognized_data": [...],\n    "keywords_and_tags": [...],\n    "verbose_data": "markdown description",\n    "document_type": "...",\n    "structured_extraction": {...},\n    "confidence": 0.0-1.0,\n    "quality_notes": [...]\n}\n',n={SOLVE_AND_ANSWER:"\nSolve equations, answer questions, and explain mathematical or logical problems from the provided content.\n\nFor equations and math problems:\n- Show step-by-step solutions\n- Provide final answers clearly marked\n- Explain reasoning for each step\n\nFor general questions:\n- Provide accurate, well-reasoned answers\n- Include relevant context and explanations\n- If multiple interpretations possible, address them\n\nFor quizzes and tests:\n- Show the correct answer with explanation\n- Explain why other options are incorrect\n\nAlways respond in the specified language and format results clearly.\n",WRITE_CODE:"\nWrite clean, efficient, and well-documented code based on the provided description, requirements, or image.\n\nCode requirements:\n- Use appropriate programming language for the task\n- Follow language-specific best practices and conventions\n- Include proper error handling\n- Add meaningful comments and documentation\n- Make code readable and maintainable\n\nIf generating from an image or visual description:\n- Analyze the visual elements and requirements\n- Implement the described functionality\n- Ensure code compiles and runs correctly\n\nAlways respond in the specified language and provide complete, working code.\n",EXTRACT_CSS:"\nExtract and generate clean, modern CSS from the provided content, image, or description.\n\nCSS requirements:\n- Use modern CSS features and best practices\n- Generate semantic, maintainable stylesheets\n- Include responsive design considerations\n- Use appropriate selectors and specificity\n- Follow CSS naming conventions\n- Optimize for performance and maintainability\n\nIf extracting from an image:\n- Analyze the visual design and layout\n- Generate corresponding CSS rules\n- Identify colors, fonts, spacing, and layout\n- Create reusable CSS classes and components\n\nAlways respond in the specified language and provide complete, working CSS.\n",RECOGNIZE_CONTENT:"\nRecognize and extract information from images, documents, or other visual content.\n\nRecognition requirements:\n- Identify text content accurately\n- Extract structured information\n- Recognize tables, forms, and structured data\n- Preserve formatting where possible\n- Handle different languages and scripts\n- Provide confidence scores for extracted content\n\nFor document analysis:\n- Extract key information and metadata\n- Identify document type and structure\n- Recognize important sections and headings\n\nFor image analysis:\n- Describe visual content\n- Extract text from images (OCR)\n- Identify objects, scenes, and visual elements\n\nAlways respond in the specified language and format extracted information clearly.\n",CONVERT_DATA:"\nConvert data between different formats while preserving structure and meaning.\n\nConversion requirements:\n- Maintain data integrity and relationships\n- Preserve formatting and structure where possible\n- Handle different data types appropriately\n- Provide clear mapping between source and target formats\n- Validate conversion accuracy\n\nSupported conversions:\n- CSV ↔ JSON ↔ XML\n- Markdown ↔ HTML\n- Text ↔ Structured data\n- Image data ↔ Text representations\n\nEnsure accurate, lossless conversion where possible.\n",EXTRACT_ENTITIES:"\nExtract named entities, keywords, and structured information from content.\n\nEntity extraction requirements:\n- Identify people, organizations, locations\n- Extract dates, numbers, and measurements\n- Find keywords and important terms\n- Recognize relationships and connections\n- Provide confidence scores and context\n\nOutput structured data with:\n- Entity types and values\n- Position and context information\n- Confidence scores\n- Relationship mappings\n\nFocus on accuracy and comprehensive coverage.\n",TRANSLATE_TO_LANGUAGE:"\nTranslate content to the specified target language while preserving meaning, tone, and formatting.\n\nTranslation requirements:\n- Maintain original meaning and intent\n- Preserve formatting, structure, and markdown syntax\n- Adapt cultural references appropriately\n- Use natural, fluent language in the target language\n- Handle technical terms, proper names, and brand names correctly\n- Maintain appropriate formality and tone\n- Preserve code blocks, mathematical expressions, and technical content\n\nFor content already in the target language:\n- Provide natural rephrasing or improvement\n- Enhance clarity and readability\n- Maintain professional quality\n\nSupported languages:\n- English (en)\n- Russian (ru)\n- Other languages as requested\n\nEnsure high-quality, natural translations that feel native to the target language.\n",GENERAL_PROCESSING:"\nProcess and analyze content using appropriate AI capabilities.\n\nGeneral processing requirements:\n- Understand context and intent\n- Provide relevant analysis or transformation\n- Use appropriate tools and methods\n- Maintain content quality and accuracy\n- Adapt to different content types and requirements\n\nFocus on providing useful, accurate results that meet user needs.\n",CRX_SOLVE_AND_ANSWER:"\nSolve the problem or answer the question presented in the content.\n\nAuto-detect the type of content:\n- Mathematical equation/expression → Solve step-by-step\n- Quiz/test question → Provide correct answer\n- Homework problem → Solve and explain\n- General question → Answer with explanation\n\nFormat output as:\n\n**Problem/Question:**\n<recognized content - use $KaTeX$ for math>\n\n**Solution/Answer:**\n<step-by-step solution or direct answer>\n\n**Explanation:**\n<clear explanation of the reasoning>\n\n---\n\nFor MATH problems:\n- Use single $ for inline math: $x = 5$\n- Use double $$ for display equations: $$\\int_0^1 f(x) dx$$\n- Show all intermediate steps\n- Simplify the final answer\n- For systems: solve all variables\n- For inequalities: use interval notation\n\nFor MULTIPLE CHOICE:\n- Identify correct option (A, B, C, D)\n- Explain why it's correct\n- Note why others are wrong\n\nFor TRUE/FALSE:\n- State True or False clearly\n- Provide justification\n\nFor SHORT ANSWER/ESSAY:\n- Provide concise, complete answer\n- Include key facts and reasoning\n\nFor CODING problems:\n- Write the solution code\n- Explain the logic\n\nIf multiple problems/questions present, solve each separately.\nIf unsolvable or unclear, explain why.\n",CRX_WRITE_CODE:"\nYou are an expert software developer. Analyze the provided content and generate high-quality, working code.\n\nCode Generation Requirements:\n- Choose the best programming language for the task\n- Write clean, efficient, and well-documented code\n- Include proper error handling and input validation\n- Add meaningful comments explaining complex logic\n- Follow language-specific best practices and conventions\n- Ensure code is readable, maintainable, and follows standard patterns\n\nFor each code generation task:\n1. **Analyze Requirements**: Understand what the code needs to do\n2. **Choose Language**: Select appropriate programming language\n3. **Design Solution**: Plan the code structure and logic\n4. **Write Code**: Provide complete, working code with comments\n5. **Explain Logic**: Describe how the code works and key decisions\n\nProvide complete, runnable code that solves the described problem.\n",CRX_EXTRACT_CSS:"\nYou are an expert CSS developer. Analyze the provided content and extract/generate the corresponding CSS styles.\n\nCSS Extraction Requirements:\n- Analyze visual elements, layout, and design patterns\n- Generate modern, clean CSS using current standards\n- Use semantic class names and proper CSS architecture\n- Include responsive design considerations\n- Optimize for performance and maintainability\n- Follow CSS best practices and conventions\n\nFor CSS extraction:\n1. **Analyze Design**: Identify colors, typography, spacing, layout\n2. **Generate Rules**: Create appropriate CSS rules and selectors\n3. **Organize Code**: Group related styles logically\n4. **Add Comments**: Explain complex or important style decisions\n5. **Ensure Compatibility**: Use widely supported CSS properties\n\nProvide complete, well-organized CSS that recreates the described design.\n"},t=n.SOLVE_AND_ANSWER,a=n.WRITE_CODE,r=n.EXTRACT_CSS,o=n.CRX_SOLVE_AND_ANSWER,i=n.CRX_WRITE_CODE,s=n.CRX_EXTRACT_CSS,l=[{id:"SOLVE_AND_ANSWER",title:"Solve / Answer (AI)",description:"Solve equations, answer questions, and explain mathematical or logical problems",category:"processing",platforms:["pwa","crx","workcenter","basic"],instructionKey:"SOLVE_AND_ANSWER",supportedContentTypes:["text","markdown","image"],priority:10},{id:"WRITE_CODE",title:"Write Code (AI)",description:"Generate code based on requirements or descriptions",category:"creation",platforms:["pwa","crx","workcenter","basic"],instructionKey:"WRITE_CODE",supportedContentTypes:["text","markdown","image"],priority:9},{id:"EXTRACT_CSS",title:"Extract CSS Styles (AI)",description:"Extract or generate CSS from content or images",category:"creation",platforms:["pwa","crx","workcenter","basic"],instructionKey:"EXTRACT_CSS",supportedContentTypes:["text","markdown","image","html"],priority:8},{id:"RECOGNIZE_CONTENT",title:"Recognize Content (AI)",description:"Extract information from images and documents",category:"analysis",platforms:["pwa","crx","workcenter","basic"],instructionKey:"RECOGNIZE_CONTENT",supportedContentTypes:["image","pdf","document"],priority:7},{id:"TRANSLATE_TO_LANGUAGE",title:"Translate to Language (AI)",description:"Translate content to the selected language",category:"translation",platforms:["workcenter","basic"],instructionKey:"TRANSLATE_TO_LANGUAGE",supportedContentTypes:["text","markdown"],priority:6},{id:"CONVERT_DATA",title:"Convert Data (AI)",description:"Convert between different data formats",category:"processing",platforms:["workcenter","basic"],instructionKey:"CONVERT_DATA",supportedContentTypes:["csv","json","xml","text"],priority:5},{id:"EXTRACT_ENTITIES",title:"Extract Entities (AI)",description:"Extract named entities and structured information",category:"analysis",platforms:["workcenter","basic"],instructionKey:"EXTRACT_ENTITIES",supportedContentTypes:["text","markdown","document"],priority:4},{id:"GENERAL_PROCESSING",title:"Process Content (AI)",description:"General AI processing and analysis",category:"processing",platforms:["pwa","crx","workcenter","basic"],instructionKey:"GENERAL_PROCESSING",supportedContentTypes:["*"],priority:1}],c=[{label:"Markdown & KaTeX",instruction:"Format the output as GitHub-compatible Markdown with KaTeX.\n\nStructure rules:\n- Use headings for structure:\n  - Main sections: start from ### (H3) minimum\n  - Subsections: #### / ##### when needed\n- Avoid long paragraphs: prefer lists and sub-lists.\n\nKaTeX / math rules:\n- Prefer inline formulas: $...$ (use this most of the time).\n- Avoid $$...$$ blocks; only use block math if strictly necessary.\n  - Prefer block math as \\[ ... \\] instead of $$...$$.\n- Inside KaTeX, write a vertical bar as \\| (example: $A \\| B$).\n\nTables:\n- Use strict GitHub Markdown table syntax.\n- Inside table cells:\n  - Use <br> for line breaks (no real newlines inside cells).\n  - If source data uses ';' as a separator, replace ';' with <br>.\n\nColon / key-value formatting:\n- For \"key: value\" style lines, make the part before ':' bold:\n  - **Key**: value\n\nGeneral:\n- Use bullet lists (-) or numbered steps (1., 2., 3.) where appropriate.\n- Keep formatting consistent and readable in dark themes.\n- Preserve meaning and math accuracy.",enabled:!0,order:0},{label:"Solve & Answer",instruction:"Solve problems or answer questions. Auto-detect the type:\n• Math equations → Solve step-by-step with KaTeX\n• Quiz/test questions → Provide correct answer with explanation\n• Homework problems → Solve and explain reasoning\n\nFormat:\n**Problem/Question:** <content, use $KaTeX$ for math>\n**Solution/Answer:** <step-by-step or direct answer>\n**Explanation:** <clear reasoning>\n\nFor multiple choice: identify correct option + explain why.\nFor math: prefer $inline$; avoid $$block$$ and prefer \\[block\\] only if strictly necessary.\nShow all work and simplify the final answer.",enabled:!0,order:1},{label:"Solve with Graphics",instruction:'Solve problems and generate visual representations when applicable.\n\nFor functions, graphs, diagrams, geometric shapes, or data visualizations:\nGenerate inline SVG code as a data URI: `![Graph](data:image/svg+xml,<encoded_svg>)`\n\nSVG Generation Rules:\n1. Use encodeURIComponent() encoding for the SVG content\n2. Keep SVG minimal but accurate (viewBox, paths, text labels)\n3. Use appropriate colors: #2563eb (blue) for main, #dc2626 (red) for secondary\n4. Include axis labels, grid lines, and legends where helpful\n5. Size: viewBox="0 0 400 300" for standard graphs\n\nWhen to generate SVG:\n• Function plots: y = f(x), parametric curves, polar plots\n• Geometric diagrams: triangles, circles, angles, constructions\n• Data charts: bar, line, pie charts\n• Flowcharts and simple diagrams\n• Number lines and coordinate systems\n\nFormat:\n**Problem:** <description>\n**Solution:** <step-by-step with $KaTeX$>\n**Visualization:**\n![<title>](data:image/svg+xml,<encodeURIComponent_svg>)\n\nAlways provide both the mathematical solution AND the visual when graphics are suitable.',enabled:!0,order:2},{label:"Write code",instruction:"Generate code based on the recognized request/description.\n\nFormat:\n**Request:** <what the code should do>\n**Language:** <programming language>\n**Code:**\n```<lang>\n<code>\n```\n\nWrite clean, functional code with meaningful names and brief comments.",enabled:!0,order:3},{label:"Extract CSS",instruction:"Generate CSS that matches the visual appearance of the content.\n\nExtract:\n- Colors (oklch, hex, rgb)\n- Typography (font, size, weight)\n- Spacing (padding, margin, gap)\n- Layout (flex, grid)\n- Effects (shadow, radius, gradients)\n\nUse CSS custom properties and modern syntax.\nInclude responsive considerations.",enabled:!0,order:4},{label:"Generate Diagram",instruction:'Generate SVG diagrams, charts, or visual representations from descriptions.\n\nOutput as inline data URI: ![<title>](data:image/svg+xml,<encoded_svg>)\n\nDiagram Types:\n• Flowcharts: processes, algorithms, decision trees\n• Charts: bar, line, pie, scatter plots\n• Diagrams: UML, ER, network, architecture\n• Graphs: mathematical functions, data visualization\n• Geometric: shapes, constructions, proofs\n\nSVG Requirements:\n1. Use encodeURIComponent() for the SVG string\n2. viewBox="0 0 600 400" (adjust as needed)\n3. Clean, minimal SVG with proper structure\n4. Colors: #3b82f6 primary, #10b981 secondary, #f59e0b accent\n5. Include labels, arrows, and legends\n6. Use <text> for readable annotations\n\nExample output format:\n**Diagram:** <description>\n![<title>](data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20400%20300%22%3E...%3C%2Fsvg%3E)',enabled:!0,order:5},{label:"Extract contacts",instruction:"Focus on extracting contact information: phone numbers, emails, addresses, and names. Format phone numbers in E.164 format.",enabled:!0,order:6},{label:"Summarize content",instruction:"Provide a brief summary of the recognized content. Include key points and main takeaways.",enabled:!0,order:7},{label:"Extract URLs and links",instruction:"Focus on extracting all URLs, links, and web addresses. Validate and normalize them.",enabled:!0,order:8},{label:"Code extraction",instruction:"Focus on extracting code snippets. Detect the programming language and format appropriately with syntax highlighting markers.",enabled:!0,order:9},{label:"Table extraction",instruction:"Focus on extracting tabular data. Format as proper Markdown tables with headers.",enabled:!0,order:10}];export{n as AI_INSTRUCTIONS,l as BUILT_IN_AI_ACTIONS,e as CORE_IMAGE_INSTRUCTION,s as CRX_EXTRACT_CSS_INSTRUCTION,o as CRX_SOLVE_AND_ANSWER_INSTRUCTION,i as CRX_WRITE_CODE_INSTRUCTION,c as DEFAULT_INSTRUCTION_TEMPLATES,r as EXTRACT_CSS_INSTRUCTION,t as SOLVE_AND_ANSWER_INSTRUCTION,a as WRITE_CODE_INSTRUCTION};
