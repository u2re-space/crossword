{"version":3,"mappings":";;;;;AAmBO,MAAM,WAA2B;AAAA,EACpC,KAAK;AAAA,EACL,OAAO;AAAA,EACP,OAAO;AAAA,EAEC;AAAA,EACA;AAAA,EACA,UAA8B;AAAA,EAC9B,cAAc;AAAA,EAEd,SAA+B;AAAA,EAEvC,YAA2B;AAAA,IACvB,SAAS,MAAM,KAAK,YAAW;AAAA,IAC/B,WAAW,MAAM,KAAK,SAAQ;AAAA,IAC9B,QAAQ,MAAM;AAAE,WAAK,SAAS,cAAc,KAAK;AAAA,IAAoB;AAAA,IACrE,QAAQ,MAAM;AAAE,oBAAc,KAAK,MAAM;AAAA,IAAG;AAAA,GAChD;AAAA,EAEA,YAAY,UAA2B,EAAC,EAAG;AACvC,SAAK,UAAU;AACf,SAAK,eAAe,QAAQ;AAAA,EAChC;AAAA,EAEA,OAAO,SAAoC;AACvC,QAAI,SAAS;AACT,WAAK,UAAU,EAAE,GAAG,KAAK,SAAS,GAAG,SAAQ;AAC7C,WAAK,eAAe,QAAQ,gBAAgB,KAAK;AAAA,IACrD;AAEA,SAAK,SAAS,cAAc,KAAK;AAEjC,SAAK,UAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYf,SAAK,YAAW;AAEhB,WAAO,KAAK;AAAA,EAChB;AAAA,EAEA,aAAiC;AAC7B,WAAO;AAAA,EACX;AAAA;AAAA;AAAA;AAAA,EAMA,MAAc,aAA4B;AACtC,QAAI,KAAK,aAAa;AAEtB,UAAM,UAAU,KAAK,SAAS,cAAc,uBAAuB;AACnE,QAAI,CAAC,SAAS;AAEd,QAAI;AAEA,YAAM,EAAE,SAAS,aAAY,GAAI,yEAAM,OAAO,WAAQ;AAGtD,cAAQ,YAAY;AAGpB,YAAM,YAAY,OAAsB;AAExC,WAAK,cAAc;AAAA,IACvB,SAAS,OAAO;AACZ,cAAQ,MAAM,kCAAkC,KAAK;AACrD,cAAQ,YAAY;AAAA;AAAA;AAAA,2DAG2B,OAAO,KAAK,CAAC;AAAA;AAAA;AAAA;AAI5D,cAAQ,cAAc,qBAAqB,GAAG,iBAAiB,SAAS,MAAM;AAC1E,aAAK,cAAc;AACnB,aAAK,YAAW;AAAA,MACpB,CAAC;AAAA,IACL;AAAA,EACJ;AAAA,EAEQ,UAAgB;AAEpB,SAAK,cAAc;AAAA,EACvB;AAAA,EAEA,mBAA4B;AACxB,WAAO;AAAA,EACX;AAAA,EAEA,MAAM,gBAA+B;AAAA,EAAC;AAC1C;AAMO,SAAS,WAAW,SAAyC;AAChE,SAAO,IAAI,WAAW,OAAO;AACjC;AAGO,MAAM,mBAAmB","names":[],"ignoreList":[],"sources":["../../src/frontend/views/airpad/index.ts"],"sourcesContent":["/**\n * Airpad View\n * \n * Shell-agnostic air trackpad + AI assistant component.\n * Wraps the existing airpad functionality as a view.\n */\n\nimport { H } from \"fest/lure\";\nimport { loadAsAdopted, removeAdopted } from \"fest/dom\";\nimport type { View, ViewOptions, ViewLifecycle, ShellContext } from \"../../shells/types\";\nimport type { BaseViewOptions } from \"../types\";\n\n// @ts-ignore\nimport style from \"./airpad.scss?inline\";\n\n// ============================================================================\n// AIRPAD VIEW\n// ============================================================================\n\nexport class AirpadView implements View {\n    id = \"airpad\" as const;\n    name = \"Airpad\";\n    icon = \"hand-pointing\";\n\n    private options: BaseViewOptions;\n    private shellContext?: ShellContext;\n    private element: HTMLElement | null = null;\n    private initialized = false;\n    \n    private _sheet: CSSStyleSheet | null = null;\n\n    lifecycle: ViewLifecycle = {\n        onMount: () => this.initAirpad(),\n        onUnmount: () => this.cleanup(),\n        onShow: () => { this._sheet = loadAsAdopted(style) as CSSStyleSheet; },\n        onHide: () => { removeAdopted(this._sheet); },\n    };\n\n    constructor(options: BaseViewOptions = {}) {\n        this.options = options;\n        this.shellContext = options.shellContext;\n    }\n\n    render(options?: ViewOptions): HTMLElement {\n        if (options) {\n            this.options = { ...this.options, ...options };\n            this.shellContext = options.shellContext || this.shellContext;\n        }\n\n        this._sheet = loadAsAdopted(style) as CSSStyleSheet;\n\n        this.element = H`\n            <div class=\"view-airpad\">\n                <div class=\"view-airpad__content\" data-airpad-content>\n                    <div class=\"view-airpad__loading\">\n                        <div class=\"view-airpad__spinner\"></div>\n                        <span>Loading Airpad...</span>\n                    </div>\n                </div>\n            </div>\n        ` as HTMLElement;\n\n        // Initialize airpad asynchronously\n        this.initAirpad();\n\n        return this.element;\n    }\n\n    getToolbar(): HTMLElement | null {\n        return null;\n    }\n\n    // ========================================================================\n    // PRIVATE METHODS\n    // ========================================================================\n\n    private async initAirpad(): Promise<void> {\n        if (this.initialized) return;\n\n        const content = this.element?.querySelector(\"[data-airpad-content]\");\n        if (!content) return;\n\n        try {\n            // Dynamic import of airpad main\n            const { default: mountAirpad } = await import(\"./main\");\n            \n            // Clear loading state\n            content.innerHTML = \"\";\n            \n            // Mount airpad\n            await mountAirpad(content as HTMLElement);\n            \n            this.initialized = true;\n        } catch (error) {\n            console.error(\"[Airpad] Failed to initialize:\", error);\n            content.innerHTML = `\n                <div class=\"view-airpad__error\">\n                    <p>Failed to load Airpad</p>\n                    <p class=\"view-airpad__error-detail\">${String(error)}</p>\n                    <button type=\"button\" data-action=\"retry\">Try Again</button>\n                </div>\n            `;\n            content.querySelector(\"[data-action=retry]\")?.addEventListener(\"click\", () => {\n                this.initialized = false;\n                this.initAirpad();\n            });\n        }\n    }\n\n    private cleanup(): void {\n        // Cleanup any airpad resources if needed\n        this.initialized = false;\n    }\n\n    canHandleMessage(): boolean {\n        return false;\n    }\n\n    async handleMessage(): Promise<void> {}\n}\n\n// ============================================================================\n// FACTORY\n// ============================================================================\n\nexport function createView(options?: AirpadViewOptions): AirpadView {\n    return new AirpadView(options);\n}\n\n/** Alias for createView */\nexport const createAirpadView = createView;\n\nexport default createView;\n"],"file":"index12.js"}