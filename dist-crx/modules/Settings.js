import{UUIDv4 as e,createOrUseExistingChannel as t,isArrayOrIterable as n,camelToKebab as r,hasValue as i,tryStringAsNumber as s,normalizePrimitive as o,$avoidTrigger as a,kebabToCamel as l,isVal as c,isValueUnit as u,isPrimitive as f,makeTriggerLess as d,isNotEqual as h,bindCtx as p,tryParseByHint as m,potentiallyAsync as g,potentiallyAsyncMap as y,isArrayInvalidKey as b,$triggerLock as v,defaultByType as w,callByProp as S,callByAllProp as x,isKeyType as k,$getValue as E,toRef as P,deref as A,handleListeners as M,$set as N,isObservable as O,canBeInteger as j,unref as _,getValue as C,isValueRef as L,isObject as I}from"./Env.js";const R=function(){const e="undefined"!=typeof document&&document.createElement("link").relList;return e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}(),W={},$=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),s=document.querySelector("meta[property=csp-nonce]"),o=s?.nonce||s?.getAttribute("nonce");i=t.map(t=>{if(t=function(e,t){return new URL(e,t).href}(t,n),t in W)return;W[t]=!0;const r=t.endsWith(".css"),i=r?'[rel="stylesheet"]':"";if(n)for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.href===t&&(!r||"stylesheet"===i.rel))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;const s=document.createElement("link");return s.rel=r?"stylesheet":R,r||(s.as="script"),s.crossOrigin="",s.href=t,o&&s.setAttribute("nonce",o),document.head.appendChild(s),r?new Promise((e,n)=>{s.addEventListener("load",e),s.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${t}`)))}):void 0}),r=Promise.all(i.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}var i;function s(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(const e of t||[])"rejected"===e.status&&s(e.reason);return e().catch(s)})};class T{constructor(e,t){this.config=e,this.onChannelReady=t,this.context=e.context??"unknown"}underlyingChannel=null;isConnected=!1;requestQueue=[];connectionPromise=null;connectionResolver=null;context;async connect(e=null){this.underlyingChannel=e}async request(t,n=[]){return this.isConnected&&this.underlyingChannel?this.underlyingChannel.request(t,n):new Promise((r,i)=>{const s={id:e(),method:t,args:n,resolve:r,reject:i,timestamp:Date.now()};this.requestQueue.push(s),this.connectionPromise||this.connect().catch(e=>{this.rejectAllQueued(e)})})}async flushQueue(){if(!this.underlyingChannel)return;const e=[...this.requestQueue];this.requestQueue=[];for(const n of e)try{const e=await this.underlyingChannel.request(n.method,n.args);n.resolve(e)}catch(t){n.reject(t)}}rejectAllQueued(e){const t=[...this.requestQueue];this.requestQueue=[];for(const n of t)n.reject(e)}getQueueStatus(){return{isConnected:this.isConnected,queuedRequests:this.requestQueue.length,isConnecting:!!this.connectionPromise&&!this.isConnected}}close(){this.rejectAllQueued(new Error("Channel closed")),this.underlyingChannel?.close(),this.underlyingChannel=null,this.isConnected=!1,this.connectionPromise=null}}class D{channel=null;isChannelReady=!1;pendingRequests=new Map;messageQueue=[];queuedRequests=[];batchTimer;options;onChannelReady;constructor(e=null,t={},n){this.channel=e,this.isChannelReady=!!e,this.onChannelReady=n,this.options={timeout:3e4,retries:3,compression:!1,batching:!0,...t}}setChannel(e){this.channel=e,this.isChannelReady=!0,this.onChannelReady?.(e),this.flushQueuedRequests()}async request(t,n,r){if(!this.isChannelReady||!this.channel)return new Promise((r,i)=>{const s={id:e(),method:t,args:[n],resolve:r,reject:i,timestamp:Date.now()};this.queuedRequests.push(s)});const i={...this.options,...r},s=e();return new Promise((e,r)=>{const o=setTimeout(()=>{this.pendingRequests.delete(s),r(new Error(`Request timeout: ${t}`))},i.timeout);this.pendingRequests.set(s,{resolve:e,reject:r,timeout:o});const a={id:s,type:t,payload:n,timestamp:Date.now()};i.batching?this.queueMessage(a):this.sendMessage(a)})}async flushQueuedRequests(){if(!this.channel||0===this.queuedRequests.length)return;const e=[...this.queuedRequests];this.queuedRequests=[];for(const n of e)try{const e=await this.request(n.method,...n?.args??[]);n.resolve(e)}catch(t){n.reject(t)}}notify(t,n){const r={id:e(),type:t,payload:n,timestamp:Date.now()};this.options.batching?this.queueMessage(r):this.sendMessage(r)}async*stream(e,t){for(const n of t){const t=await this.request(`${e}:chunk`,n);yield t}}queueMessage(e){this.messageQueue.push(e),this.batchTimer||(this.batchTimer=setTimeout(()=>{this.flushBatch()},16))}flushBatch(){if(0===this.messageQueue.length)return;const t={id:e(),type:"batch",payload:this.messageQueue,timestamp:Date.now()};this.sendMessage(t),this.messageQueue=[],this.batchTimer=void 0}async sendMessage(e){try{const t=await(this.channel?.request?.("processMessage",[e]));if(e.replyTo&&this.pendingRequests.has(e.replyTo)){const{resolve:n,timeout:r}=this.pendingRequests.get(e.replyTo);clearTimeout(r),this.pendingRequests.delete(e.replyTo),n(t)}}catch(t){if(this.pendingRequests.has(e.id)){const{reject:n,timeout:r}=this.pendingRequests.get(e.id);clearTimeout(r),this.pendingRequests.delete(e.id),n(t)}}}close(){this.batchTimer&&clearTimeout(this.batchTimer);for(const[e,{reject:t,timeout:n}]of this.pendingRequests)clearTimeout(n),t(new Error("Channel closed"));this.pendingRequests.clear(),this.channel?.close?.()}}const z=new Map;let F=!1;class q{constructor(e){this.channelName=e,F||(F=!0,chrome?.runtime?.onMessage?.addListener?.((e,t,n)=>{const r=e?.channelName??e?.target;if(!r)return;const i=z.get(r);if(!i||0===i.size)return;const s={data:e,origin:t?.url||"chrome-extension",source:t};for(const a of i)try{const e=a(s,t,n);e&&"function"==typeof e?.catch&&e.catch(e=>console.error("[ChromeExtensionBroadcastChannel] Listener error:",e))}catch(o){console.error("[ChromeExtensionBroadcastChannel] Listener error:",o)}return!0}))}listeners=new Set;addEventListener(e,t){if("message"!==e)return;this.listeners.add(t);let n=z.get(this.channelName);n||(n=new Set,z.set(this.channelName,n)),n.add(t)}removeEventListener(e,t){"message"===e&&(this.listeners.delete(t),z.get(this.channelName)?.delete(t))}postMessage(e){const t={...e,channelName:this.channelName,source:"broadcast-channel"};chrome?.runtime?.sendMessage?.(t,()=>{})}close(){for(const e of this.listeners)z.get(this.channelName)?.delete(e);this.listeners.clear()}}const H=e=>new q(e),B=async n=>{const r=n.context;if("service-worker"===r)return(async t=>({request:async(n,r=[])=>new Promise((i,s)=>{const o=new BroadcastChannel(`${t.name}-sw-channel`),a=e(),l=setTimeout(()=>{o.close(),s(new Error(`Service worker request timeout: ${n}`))},1e4);o.onmessage=e=>{const{id:t,result:n,error:r}=e.data;t===a&&(clearTimeout(l),o.close(),r?s(new Error(r)):i(n))},o.postMessage({id:a,type:"request",method:n,args:r})}),close(){}}))(n);let i;if("function"==typeof n.script)i=n.script();else if(n.script instanceof Worker)i=n.script;else if("chrome-extension"===r)try{i=new Worker(chrome.runtime.getURL(n.script),n.options)}catch(s){i=new Worker(new URL(n.script,import.meta.url),n.options)}else i=new Worker(new URL(n.script,import.meta.url),n.options);return await t(n.name,{},i)},V=(e,t,n)=>{const r=new D(null,t,n);return B(e).then(e=>{r.setChannel(e)}).catch(e=>{console.error("[createQueuedOptimizedWorkerChannel] Failed to create base channel:",e),r.close()}),r};[{name:"--screen-width",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--screen-height",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--visual-width",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--visual-height",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--clip-ampl",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--clip-freq",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--avail-width",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--avail-height",syntax:"<length-percentage>",inherits:!0,initialValue:"0px"},{name:"--pixel-ratio",syntax:"<number>",inherits:!0,initialValue:"1"},{name:"--percent",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--percent-x",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--percent-y",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--scroll-left",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--scroll-top",syntax:"<number>",inherits:!0,initialValue:"0"},{name:"--drag-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--drag-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--resize-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--resize-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--shift-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--shift-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-p-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-p-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--os-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--os-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--rv-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--rv-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cell-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cell-y",syntax:"<number>",inherits:!1,initialValue:"0"}].forEach(e=>{if("undefined"!=typeof CSS)try{CSS?.registerProperty?.(e)}catch(t){console.warn(t)}});const U="undefined"!=typeof document?document?.documentElement:null,J=new Map,X=(e,t=1e3,...n)=>{const r={running:!0,cancel:()=>{r.running=!1}};return requestIdleCallback(async()=>{if(e&&"function"==typeof e){for(;r.running;)await(Promise.all([Promise.try(e,...n),new Promise(e=>setTimeout(e,t))]).catch?.(console.warn.bind(console))),await Promise.any([new Promise(e=>requestIdleCallback(e,{timeout:t})),new Promise(e=>setTimeout(e,t))]);r.cancel=()=>{}}},{timeout:t}),r?.cancel};"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame(async()=>{for(;;)J.forEach(e=>e?.()),await new Promise(e=>requestAnimationFrame(e))});const K=Symbol("@border-box-width"),Q=Symbol("@border-box-height"),Z=Symbol("@content-box-width"),G=Symbol("@content-box-height"),Y=new WeakMap,ee=new WeakMap,te=(e,t,n)=>{null!=t&&e.checked!=t&&("checkbox"==e?.type||"radio"==e?.type&&!e?.checked?(e?.click?.(),n?.preventDefault?.()):(e.checked=!!t,e?.dispatchEvent?.(new Event("change",{bubbles:!0,cancelable:!0}))))},ne=e=>null!=e&&e instanceof HTMLElement&&!(e instanceof DocumentFragment||e instanceof HTMLBodyElement)?e:null,re=(e,t)=>null==e||null==t?-1:Array.from(e?.childNodes??[])?.indexOf?.(t)??-1,ie="(-?[_a-zA-Z]+[_a-zA-Z0-9-]*)",se="^(?:"+ie+")|^#"+ie+"|^\\."+ie+"|^\\["+ie+"(?:([*$|~^]?=)([\"'])((?:(?=(\\\\?))\\8.)*?)\\6)?\\]",oe=e=>null!=e&&(e instanceof Node||e instanceof Text||e instanceof Element||e instanceof Comment||e instanceof HTMLElement||e instanceof DocumentFragment)?e:null,ae=(e,t)=>{for(;e;){if(!(e?.element??e))return!1;if((e?.element??e)===(t?.element??t))return!0;e=e.parentElement??(e.parentNode==e?.getRootNode?.({composed:!0})?e?.getRootNode?.({composed:!0})?.host:e?.parentNode)}},le={};function ce(e,t,n,r=le){e?.addEventListener?.(t,n,r);const i="object"==typeof e||"function"==typeof e&&!e?.deref?new WeakRef(e):e;return()=>i?.deref?.()?.removeEventListener?.(t,n,r)}const ue=(e,t)=>(e=e instanceof WeakRef?e.deref():e,[...Object.entries(t)]?.map?.(([t,n])=>Array.isArray(n)?ce(e,t,...n):ce(e,t,n))),fe=(e,t,n)=>{if(null==t||!(t instanceof Node)&&null==t?.element)return!1;if(e==t||(e?.element??e)==(t?.element??t))return!0;if(n?.composedPath&&"function"==typeof n.composedPath){const r=n.composedPath(),i=e?.element??e,s=t?.element??t;if(r.includes(i)&&r.includes(s)){const e=r.indexOf(i),t=r.indexOf(s);if(t>=0&&e>=0&&t<e)return!0}}return!(!e?.contains?.(t?.element??t)&&e?.getRootNode({composed:!0})?.host!=(t?.element??t))},de=(e,t,n)=>{if(n?.composedPath&&"function"==typeof n.composedPath){const e=n.composedPath();for(const n of e)if((n instanceof HTMLElement||n instanceof Element)&&n.matches?.(t))return n}const r=e?.matches?.(t)?e:null,i=(e?.getRootNode({composed:!0})??e?.parentElement?.getRootNode({composed:!0}))?.host,s=i?.matches?.(t)?i:null,o=e?.closest?.(t)??r?.closest?.(t)??s?.closest?.(t)??null;return r??o??s},he=(e,t,n="parent")=>{if(!e)return!1;if(e.checkVisibility&&!e.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}))return!1;if(!e.checkVisibility&&null===e.offsetParent&&"fixed"!==e.style.position)return!1;let r=document.activeElement;for(;r&&r.shadowRoot&&r.shadowRoot.activeElement;)r=r.shadowRoot.activeElement;const i=r===e||ae(r,e);if(e.matches(":hover"),"parent"===n)return!!de(e,t);{const n=i?r:e.querySelector(":hover")||e,s=!!de(n,t);return null!=e?.querySelector?.(t)||e?.matches?.(t)||s}},pe=new WeakMap,me=(e=document.documentElement)=>(null!=e?.currentCSSZoom?1:((e=document.documentElement)=>pe.getOrInsertComputed(e,()=>{const t=(e?.matches?.(".ui-orientbox")?e:null)||e?.closest?.(".ui-orientbox")||document.body;return t?.zoom?t?.zoom||1:e?.currentCSSZoom?e?.currentCSSZoom||1:void 0}))(e))||1,ge=(e=document.documentElement)=>{const t=(e?.matches?.('[orient], [data-mixin="ui-orientbox"]')?e:null)||e?.closest?.('[orient], [data-mixin="ui-orientbox"]')||e;return t?.hasAttribute?.("orient")?parseInt(t?.getAttribute?.("orient")||"0")||0:t?.orient||0},ye=(e,t=null)=>(t??ge(e))%2?e[Q]??e?.clientHeight:e[K]??e?.clientWidth,be=(e,t=null)=>(t??ge(e))%2?e[K]??e?.clientWidth:e[Q]??e?.clientHeight,ve=(e,t=null)=>(t??ge(e))%2?e[G]??e?.clientHeight:e[Z]??e?.clientWidth,we=(e,t=null)=>(t??ge(e))%2?e[Z]??e?.clientWidth:e[G]??e?.clientHeight;(()=>{const e="undefined"!=typeof matchMedia&&matchMedia("(orientation: landscape)")?.matches;if("undefined"!=typeof screen){const t=screen?.availWidth+"px",n=screen?.availHeight+"px";return{"--screen-width":Math.min(screen?.width,screen?.availWidth)+"px","--screen-height":Math.min(screen?.height,screen?.availHeight)+"px","--avail-width":e?n:t,"--avail-height":e?t:n,"--view-height":Math.min(screen?.availHeight,window?.innerHeight)+"px","--pixel-ratio":devicePixelRatio||1}}})();const Se={"portrait-primary":0,"landscape-primary":1,"portrait-secondary":2,"landscape-secondary":3};new OffscreenCanvas(1,1).getContext("2d");const xe=e=>("object"==typeof e?.current&&(e=e?.element??e?.current??("object"==typeof e?.self?e?.self:null)??e),e),ke=(e,t,n)=>{if("string"==typeof e?.selector)return Ee(e,e?.selector,t,n);const r=new Set((t.split(",")||[t]).map(e=>e.trim())),i=new MutationObserver((e,t)=>{for(const i of e)i.attributeName&&r.has(i.attributeName)&&n(i,t)});return(e?.element??e)instanceof Node&&i.observe(e=xe(e),{attributes:!0,attributeOldValue:!0,attributeFilter:[...r]}),r.forEach(t=>n({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},i)),i},Ee=(e,t,n,r)=>{const i=new Set([...n.split(",")||[n]].map(e=>e.trim())),s=new MutationObserver((e,n)=>{for(const s of e)if("childList"==s.type){const e=Array.from(s.addedNodes)||[],o=Array.from(s.removedNodes)||[];e.push(...Array.from(s.addedNodes||[]).flatMap(e=>Array.from(e?.querySelectorAll?.(t)||[]))),o.push(...Array.from(s.removedNodes||[]).flatMap(e=>Array.from(e?.querySelectorAll?.(t)||[]))),[...new Set(e)]?.filter(e=>e?.matches?.(t))?.map?.(e=>{i.forEach(t=>{r({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},n)})})}else s.target?.matches?.(t)&&s.attributeName&&i.has(s.attributeName)&&r(s,n)});return s.observe(e=xe(e),{attributeOldValue:!0,attributes:!0,attributeFilter:[...i],childList:!0,subtree:!0,characterData:!0}),[...e.querySelectorAll(t)].map(e=>i.forEach(t=>r({target:e,type:"attributes",attributeName:t,oldValue:e?.getAttribute?.(t)},s))),s},Pe=(e,t="*",n=(e,t)=>{})=>{const r=e=>{const n=Array.from(e||[])||[];return n.push(...Array.from(e||[]).flatMap(e=>Array.from(e?.querySelectorAll?.(t)||[]))),[...Array.from(new Set(n).values())].filter(e=>e?.matches?.(t))},i=e=>{const t=u?.deref?.(),i=r(e.addedNodes),s=r(e.removedNodes);(i.length>0||s.length>0)&&n?.({type:e.type,target:e.target,attributeName:e.attributeName,attributeNamespace:e.attributeNamespace,nextSibling:e.nextSibling,oldValue:e.oldValue,previousSibling:e.previousSibling,addedNodes:i,removedNodes:s},t)},s=e=>{i({addedNodes:[e?.target].filter(e=>!!e),removedNodes:[e?.relatedTarget].filter(e=>!!e),type:"childList",target:e?.currentTarget})},o=e=>{i({addedNodes:[e?.relatedTarget].filter(e=>!!e),removedNodes:[e?.target].filter(e=>!!e),type:"childList",target:e?.currentTarget})},a=e=>{i({addedNodes:[e?.target].filter(e=>!!e),removedNodes:[e?.relatedTarget||document?.activeElement].filter(e=>!!e),type:"childList",target:e?.currentTarget})},l={passive:!0,capture:!1};if(t?.includes?.(":hover")&&t?.includes?.(":active"))return e.addEventListener("pointerover",s,l),e.addEventListener("pointerout",o,l),e.addEventListener("pointerdown",s,l),e.addEventListener("pointerup",o,l),e.addEventListener("pointercancel",o,l),{disconnect:()=>{e.removeEventListener("pointerover",s,l),e.removeEventListener("pointerout",o,l),e.removeEventListener("pointerdown",s,l),e.removeEventListener("pointerup",o,l),e.removeEventListener("pointercancel",o,l)}};if(t?.includes?.(":hover"))return e.addEventListener("pointerover",s,l),e.addEventListener("pointerout",o,l),{disconnect:()=>{e.removeEventListener("pointerover",s,l),e.removeEventListener("pointerout",o,l)}};if(t?.includes?.(":active"))return e.addEventListener("pointerdown",s,l),e.addEventListener("pointerup",o,l),e.addEventListener("pointercancel",o,l),{disconnect:()=>{e.removeEventListener("pointerdown",s,l),e.removeEventListener("pointerup",o,l),e.removeEventListener("pointercancel",o,l)}};if(t?.includes?.(":focus")&&t?.includes?.(":focus-within")&&t?.includes?.(":focus-visible"))return e.addEventListener("focusin",s,l),e.addEventListener("focusout",o,l),e.addEventListener("click",a,l),{disconnect:()=>{e.removeEventListener("focusin",s,l),e.removeEventListener("focusout",o,l),e.removeEventListener("click",a,l)}};const c=new MutationObserver((e,t)=>{for(const n of e)"childList"==n.type&&i(n)}),u=new WeakRef(c);(e?.element??e)instanceof Node&&c.observe(e=xe(e),{childList:!0,subtree:!0});const f=Array.from(e.querySelectorAll(t));return f.length>0&&n?.({addedNodes:f},c),c},Ae=new WeakMap,Me=(()=>{const e={canceled:!1,rAFs:new Set,last:null,cancel(){return this.canceled=!0,cancelAnimationFrame(this.last),this},shedule(e){return this.rAFs.add(e),this}};return(async()=>{for(;;)await Promise.all((e?.rAFs?.values?.()??[])?.map?.(e=>Promise.try(e)?.catch?.(console.warn.bind(console)))),e.rAFs?.clear?.(),"undefined"!=typeof requestAnimationFrame?await new Promise(t=>{e.last=requestAnimationFrame(t)}):await new Promise(e=>{setTimeout(e,16)})})(),e})(),Ne=e=>e?.naturalWidth||e?.width||1,Oe=e=>e?.naturalHeight||e?.height||1,je=new WeakMap;let _e=null;_e="undefined"!=typeof HTMLCanvasElement?class extends HTMLCanvasElement{static observedAttributes=["data-src","data-orient"];ctx=null;image=null;#e=[1,1];#t="";#n="";get#r(){return parseInt(this.getAttribute("data-orient")||"0")||0}set#r(e){this.setAttribute("data-orient",e.toString())}attributeChangedCallback(e,t,n){"data-src"==e&&this.#i(n),"data-orient"==e&&this.#s(this.#n)}connectedCallback(){const e=this.parentNode;this.style.setProperty("max-inline-size","min(100%, min(100cqi, 100dvi))"),this.style.setProperty("max-block-size","min(100%, min(100cqb, 100dvb))"),this.#e=[Math.min(Math.min(Math.max(this.clientWidth||e?.clientWidth||1,1),e?.clientWidth||1)*(this.currentCSSZoom||1),screen?.width||1)*(devicePixelRatio||1),Math.min(Math.min(Math.max(this.clientHeight||e?.clientHeight||1,1),e?.clientHeight||1)*(this.currentCSSZoom||1),screen?.height||1)*(devicePixelRatio||1)],this.#i(this.#t=this.dataset.src||this.#t)}constructor(){super();const e=this,t=this.parentNode,n=()=>{const e=this.#e;this.#e=[Math.min(Math.min(Math.max(this.clientWidth||t?.clientWidth||1,1),t?.clientWidth||1)*(this.currentCSSZoom||1),screen?.width||1)*(devicePixelRatio||1),Math.min(Math.min(Math.max(this.clientHeight||t?.clientHeight||1,1),t?.clientHeight||1)*(this.currentCSSZoom||1),screen?.height||1)*(devicePixelRatio||1)],e?.[0]==this.#e[0]&&e?.[1]==this.#e[1]||this.#s(this.#n)};Me?.shedule?.(()=>{this.ctx=e.getContext("2d",{alpha:!0,desynchronized:!0,powerPreference:"high-performance",preserveDrawingBuffer:!0}),this.inert=!0,this.style.objectFit="cover",this.style.objectPosition="center",this.classList.add("u-canvas"),this.classList.add("u2-canvas"),this.classList.add("ui-canvas"),this.style.setProperty("max-inline-size","min(100%, min(100cqi, 100dvi))"),this.style.setProperty("max-block-size","min(100%, min(100cqb, 100dvb))"),n(),new ResizeObserver(e=>{for(const t of e){const e=t?.devicePixelContentBoxSize?.[0];if(e){const t=this.#e;this.#e=[Math.max(e.inlineSize||this.width,1),Math.max(e.blockSize||this.height,1)],t?.[0]==this.#e[0]&&t?.[1]==this.#e[1]||this.#s(this.#n)}}}).observe(this,{box:"device-pixel-content-box"}),this.#i(this.#t=this.dataset.src||this.#t)})}async $useImageAsSource(e,t){t||=this.#t;const n=e instanceof ImageBitmap?e:await(e=>(!Ae.has(e)&&(e instanceof Blob||e instanceof File||e instanceof OffscreenCanvas||e instanceof ImageBitmap||e instanceof Image)&&Ae.set(e,createImageBitmap(e)),Ae.get(e)))(e).catch(console.warn.bind(console));return n&&t==this.#t&&(this.image=n,this.#s(t)),e}$renderPass(e){const t=this,n=this.ctx,r=this.image;if(r&&n&&(e==this.#t||!e)){e&&(this.#n=e),this.width!=this.#e[0]&&(this.width=this.#e[0]),this.height!=this.#e[1]&&(this.height=this.#e[1]),this.style.aspectRatio=`${this.width||1} / ${this.height||1}`;const i=this.#r%2||0,s=Ne(r)<=Oe(r)?1:0,o=Math.max(t[["height","width"][i]]/(s?Oe(r):Ne(r)),t[["width","height"][i]]/(s?Ne(r):Oe(r)));n.save(),n.clearRect(0,0,t.width,t.height),((e,t,n=1,r,i=0)=>{const s=e.canvas;e.translate(s.width/2,s.height/2),e.rotate((-i||0)*(.5*Math.PI)),e.rotate((1-r)*(Math.PI/2)),e.translate(-Ne(t)/2*n,-Oe(t)/2*n)})(n,r,o,s,this.#r),n.drawImage(r,0,0,r.width*o,r.height*o),n.restore()}}#i(e){const t=e||this.#t;return this.#t=t,fetch(e,{cache:"force-cache",mode:"same-origin",priority:"high"})?.then?.(async e=>this.$useImageAsSource(await e.blob(),t)?.catch(console.warn.bind(console)))?.catch?.(console.warn.bind(console))}#s(e){const t=this.ctx;!this.image||!t||e!=this.#t&&e||Me?.shedule?.(((e,t)=>je?.getOrInsertComputed?.(e,()=>e?.bind?.(t)))(this.$renderPass,this))}}:class{constructor(){}$renderPass(e){}$useImageAsSource(e,t){return e}#i(e){return Promise.resolve()}#s(e){}#r=0;#t="";#n="";#e=[1,1];ctx=null;image=null};try{customElements.define("ui-canvas",_e,{extends:"canvas"})}catch(ha){}const Ce="DOM",Le="undefined"!=typeof document?document.createElement("style"):null;Le&&("undefined"!=typeof document&&document.querySelector("head")?.appendChild?.(Le),Le.dataset.owner=Ce);const Ie=(e,t,n="")=>{e[0][e[1]]="innerHTML"==e[1]?`@import url("${t}") ${n&&"string"==typeof n?`layer(${n})`:""};`:t},Re="undefined"!=typeof CSSStyleValue&&"undefined"!=typeof CSSUnitValue,We=e=>Re&&e instanceof CSSStyleValue,$e=e=>Re&&e instanceof CSSUnitValue,Te=(e,t,n,r="")=>{if(!e||!t)return;if(null==n)return void(""!==e.getPropertyValue(t)&&e.removeProperty(t));e.getPropertyValue(t)!==n&&e.setProperty(t,n,r)},De=(e,t,n,o="")=>{if(!e||!t)return e;const a=r(t),l=e.style;if(!l)return e;let c=!i(n)||We(n)||$e(n)?n:n?.value;return"string"!=typeof c||We(c)||(c=s(c)??c),null==c?(Te(l,a,null,o),e):(We(c),Te(l,a,String(c),o),e)},ze=(e,t)=>"function"==typeof e?.then?e?.then?.(t):t(e),Fe=new WeakMap,qe=new Map,He=new Map,Be=new WeakMap,Ve=new Map,Ue=new WeakMap,Je=new Map,Xe=new WeakMap,Ke=(e,t,n,o="")=>Re?((e,t,n,o="")=>{if(!e||!t)return e;const a=r(t),l=e.style,c=e.attributeStyleMap??e.styleMap;if(!Re||!c)return De(e,t,n,o);let u=!i(n)||We(n)||$e(n)?n:n?.value;if(null==u)return c.delete?.(a),l&&Te(l,a,null,o),e;if(We(u)){const t=c.get(a);if($e(u)&&$e(t)){if(t.value===u.value&&t.unit===u.unit)return e}else if(t===u)return e;return c.set(a,u),e}if("number"==typeof u){if(CSS?.number&&!a.startsWith("--")){const t=CSS.number(u),n=c.get(a);return $e(n)&&n.value===t.value&&n.unit===t.unit||c.set(a,t),e}return Te(l,a,String(u),o),e}if("string"==typeof u&&!We(u)){const t=s(u);if("number"==typeof t&&CSS?.number&&!a.startsWith("--")){const n=CSS.number(t),r=c.get(a);return $e(r)&&r.value===n.value&&r.unit===n.unit||c.set(a,n),e}return Te(l,a,u,o),e}return Te(l,a,String(u),o),e})(e,t,n,o):De(e,t,n,o),Qe=(e,t,n="",r)=>{const i=(e=>{if(!e)return null;if(qe.has(e))return qe.get(e);if(e instanceof Blob||e instanceof File){if(Fe.has(e))return Fe.get(e);const t=URL.createObjectURL(e);return Fe.set(e,t),qe.set(t,t),t}if(URL.canParse(e)||e?.trim?.()?.startsWith?.("./")){const t=fetch(e?.replace?.("?url","?raw"),{cache:"force-cache",mode:"same-origin",priority:"high"})?.then?.(async t=>{const n=await t.blob(),r=URL.createObjectURL(n);return Fe.set(n,r),qe.set(e,r),qe.set(r,r),r});return qe.set(e,t),t}if("string"==typeof e){const t=new Blob([e],{type:"text/css"}),n=URL.createObjectURL(t);return Fe.set(t,n),qe.set(n,n),n}return e})(e),s="string"==typeof e&&URL.canParse(e)?e:i;return t?.[0]&&(t[0].fetchPriority="high"),t&&s&&"string"==typeof s&&Ie(t,s,n),t?.[0]&&(!URL.canParse(e)||r)&&HTMLLinkElement,ze(i,e=>{t?.[0]&&e&&(Ie(t,e,n),t?.[0].setAttribute("loaded",""))})?.catch?.(e=>{console.warn("Failed to load style sheet:",e)})},Ze=(e,t=("undefined"!=typeof document?document?.head:null),n="")=>{const r=t?.querySelector?.("head")??t;if("undefined"!=typeof HTMLHeadElement&&r instanceof HTMLHeadElement)return(e=>{const t="undefined"!=typeof document?document.createElement("link"):null;return t&&(t.fetchPriority="high"),t?(Object.assign(t,{rel:"stylesheet",type:"text/css",crossOrigin:"same-origin"}),t.dataset.owner=Ce,Qe(e,[t,"href"]),"undefined"!=typeof document&&document.head.append(t),t):null})(e);const i="undefined"!=typeof document?document.createElement("style"):null;return i?(i.dataset.owner=Ce,Qe(e,[i,"innerHTML"],n),r?.prepend?.(i),i):null},Ge=e=>tt(e,""),Ye=new Map,et=new WeakMap,tt=(e,t=null)=>{if("string"==typeof e&&Ye?.has?.(e))return Ye.get(e);if((e instanceof Blob||e instanceof File)&&et?.has?.(e))return et.get(e);if(!e)return null;const n="string"==typeof e?Ye.getOrInsertComputed(e,e=>new CSSStyleSheet):et.getOrInsertComputed(e,e=>new CSSStyleSheet);if("undefined"!=typeof document&&document.adoptedStyleSheets&&!document.adoptedStyleSheets.includes(n)&&document.adoptedStyleSheets.push(n),"string"==typeof e&&!URL.canParse(e)){const r=t?`@layer ${t} { ${e} }`:e;return Ye.set(e,n),r.length>5e4&&"function"==typeof n.replace?n.replace(r).catch?.(()=>{}):n.replaceSync(r),n}return ze((e=>{if(!e)return"";if(He.has(e))return He.get(e)??"";if(e instanceof Blob||e instanceof File){if(Be.has(e))return Be.get(e)??"";const t=e?.text?.()?.then?.(t=>(Be.set(e,t),t));return Be.set(e,t),t}if(URL.canParse(e)||e?.trim?.()?.startsWith?.("./")){const t=fetch(e?.replace?.("?url","?raw"),{cache:"force-cache",mode:"same-origin",priority:"high"})?.then?.(async t=>{const n=await t.text();return He.set(e,n),n});return He.set(e,t),t}return"string"==typeof e?(He.set(e,e),e):e})(e),e=>{if(Ye.set(e,n),e){const r=t?`@layer ${t} { ${e} }`:e;return r.length>5e4&&"function"==typeof n.replace?n.replace(r).catch?.(()=>{}):n.replaceSync(r),n}}),n},nt=e=>{if(!e)return!1;const t="string"==typeof e?Ye.get(e):e;if(!t||"undefined"==typeof document)return!1;const n=document.adoptedStyleSheets,r=n.indexOf(t);return-1!==r&&(n.splice(r,1),!0)},rt=(e,t)=>{if("computedStyleMap"in e){const n=e?.computedStyleMap?.()?.get(t);return n instanceof CSSUnitValue?n?.value||0:n?.toString?.()}if(e instanceof HTMLElement){const n=getComputedStyle?.(e,"");return parseFloat(n?.getPropertyValue?.(t)?.replace?.("px",""))||0}return parseFloat((e?.style??e).getPropertyValue?.(t)?.replace?.("px",""))||0},it=new WeakMap,st=(e,t)=>{if(e){if(t){const n=it.getOrInsert(e,new Set);[...t?.values?.()||[]].map(t=>((e,t,n)=>(new WeakRef(e),t.has(n)||t.add(n),e))(e,n,t))}return e}},ot=new Map,at=(e,t)=>{const n=[...e.entries()||[]];return new Map(n?.map?.(([e,n])=>[e,n?.get?.(t)])?.filter?.(([e,t])=>!!t)||[])},lt=(e,t,n)=>{let r=ot.get(t);return r||(r=new WeakMap,ot.set(t,r)),r.has(e)||r.set(e,n),e},ct=e=>({storeSet:at(ot,e),mixinSet:ft?.get?.(e),behaviorSet:it?.get?.(e)}),ut=(e,t,n)=>{const r=new WeakRef(e);return n||=ft?.get?.(e),n?.has?.(t)||(n?.add?.(t),dt?.get?.(t)?.add?.(e),t.name&&e?.setAttribute?.("data-mixin",[...e?.getAttribute?.("data-mixin")?.split?.(" ")||[],t.name].filter(e=>!!e).join(" ")),t?.connect?.(r,t,ct(e))),e},ft=new WeakMap,dt=new WeakMap,ht=new Map,pt=new WeakMap,mt=(e,t)=>{"string"==typeof t&&(t=ht?.get?.(t));const n=new Set([...e?.getAttribute?.("data-mixin")?.split?.(" ")||[]]),r=new Set([...n].map(e=>ht?.get?.(e)).filter(e=>!!e)),i=ft?.get?.(e)??new WeakSet;dt?.has?.(t)||dt?.set?.(t,new WeakSet),ft?.has?.(e)||ft?.set?.(e,i);const s=new WeakRef(e);i?.has?.(t)||(r.has(t)||t?.disconnect?.(s,t,ct(e)),!r.has(t)&&dt?.get?.(t)?.has?.(e)||(t?.connect?.(s,t,ct(e)),n.add(pt?.get?.(t)),i?.add?.(t),e?.setAttribute?.("data-mixin",[...n].filter(e=>!!e).join(" "))),dt?.get?.(t)?.add?.(e)),i?.has?.(t)&&(r.has(t)||(i?.delete?.(t),t?.disconnect?.(s,t,ct(e))))},gt=new Set,yt=(e=("undefined"!=typeof document?document:null))=>{if(e)return gt?.has?.(e)||(gt?.add?.(e),Ee(e,"*","data-mixin",e=>bt(e.target)),Pe(e,"[data-mixin]",e=>{for(const t of e.addedNodes)t instanceof HTMLElement&&bt(t)})),e},bt=e=>{const t=new Set([...e?.getAttribute?.("data-mixin")?.split?.(" ")||[]]),n=new Set([...t].map(e=>ht?.get?.(e)).filter(e=>!!e));[...n]?.map?.(t=>mt(e,t))},vt=(e,t)=>{e.forEach(e=>t?mt(e,t):bt(e))},wt=new FinalizationRegistry(e=>{ht?.delete?.(e)}),St=(e,t)=>{if(!pt?.has?.(t)){const n=e?.trim?.();n&&(pt?.set?.(t,n),ht?.set?.(n,t),wt?.register?.(t,n),(e=>{for(const t of gt)vt(t?.querySelectorAll?.("[data-mixin]"),e)})(t))}};yt("undefined"!=typeof document?document:null);class xt{constructor(e=null){e&&St(e,this)}connect(e,t,n){return this}disconnect(e,t,n){return this}storeForElement(e){return ot.get(this.name||"")?.get?.(e)}relatedForElement(e){return ct(e)}get elements(){return dt?.get?.(this)}get storage(){return ot?.get?.(this.name||"")}get name(){return pt?.get?.(this)}}const kt=(e,t,n)=>{const r=n;i(n)&&(n=n.value);const s=null!=(n=o(n))&&!1!==n;return a(r,()=>{e instanceof HTMLInputElement?e.hidden=!s:s?e?.removeAttribute?.("data-hidden"):e?.setAttribute?.("data-hidden","")}),e},Et=(e,t,n)=>{if(!(t="string"==typeof t?l(t):t)||!e||-1!=["style","dataset","attributeStyleMap","styleMap","computedStyleMap"].indexOf(t||""))return e;const r=n;return i(n)&&(n=n.value),e?.[t]===n||e?.[t]!==n&&a(r,()=>{null!=n?e[t]=n:delete e[t]}),e},Pt=(e,t,n)=>{const r=e?.dataset;if(!t||!e||!r)return e;const s=n;return i(n)&&(n=n?.value),t=l(t),r?.[t]===(n=o(n))||(null==n||!1===n?delete r[t]:a(s,()=>{"object"!=typeof n&&"function"!=typeof n?r[t]=String(n):delete r[t]})),e},At=(e,t,n)=>{const s=e?.style;if(!t||"string"!=typeof t||!e||!s)return e;return a(n,()=>{c(n)||i(n)||u(n)?Ke(e,t,n):null==n&&((e,t)=>{e.style.removeProperty(r(t))})(e,t)}),e},Mt=(e,t,n)=>{if(!t||!e)return e;const s=n;return i(n)&&(n=n.value),t=r(t),e?.getAttribute?.(t)===(n=o(n))||a(s,()=>{"object"==typeof n||"function"==typeof n||null==n||"boolean"==typeof n&&1!=n?e?.removeAttribute?.(t):e?.setAttribute?.(t,String(n))}),e};Symbol.observable||=Symbol.for("observable"),Symbol.subscribe||=Symbol.for("subscribe"),Symbol.unsubscribe||=Symbol.for("unsubscribe");const Nt=Symbol.for("@value"),Ot=Symbol.for("@extract"),jt=Symbol.for("@origin"),_t=Symbol.for("@registry"),Ct=Symbol.for("@behavior"),Lt=Symbol.for("@promise"),It=Symbol.for("@trigger-less"),Rt=Symbol.for("@trigger-lock"),Wt=Symbol.for("@trigger"),$t=Symbol.for("@subscribe"),Tt=Symbol.for("@isNotEqual"),Dt=new WeakMap,zt=e=>{const t="object"==typeof e||"function"==typeof e?e?.[Ot]??e:e,n=e=>zt(e);return Array.isArray(t)?t?.map?.(n)||Array.from(t||[])?.map?.(n)||[]:t instanceof Map||t instanceof WeakMap?new Map(Array.from(t?.entries?.()||[])?.map?.(([e,t])=>[e,zt(t)])):t instanceof Set||t instanceof WeakSet?new Set(Array.from(t?.values?.()||[])?.map?.(n)):null!=t&&"function"==typeof t||"object"==typeof t?Object.fromEntries(Array.from(Object.entries(t||{})||[])?.filter?.(([e])=>e!=Ot&&e!=jt&&e!=_t)?.map?.(([e,t])=>[e,zt(t)])):t},Ft=e=>e?.[Ot]??e?.["@target"]??e,qt=(e,t=!1)=>{const n=e;if(f(e)||"symbol"==typeof e)return e;if(null!=e&&(e instanceof WeakRef||"deref"in e&&"function"==typeof e?.deref)&&(e=e?.deref?.()),null!=e&&("object"==typeof e||"function"==typeof e)){e=Ft(e);const r=t&&i(e)&&e?.value;if(null==r||"object"!=typeof r&&"function"!=typeof r||(e=r),n!=e)return qt(e,t)}return e},Ht=e=>null!=e&&"function"==typeof e.then,Bt=new WeakMap,Vt=new FinalizationRegistry(e=>{e?.forEach?.(e=>e?.())});function Ut(e,t,n){!n||"function"!=typeof n||"object"!=typeof e&&"function"!=typeof e||(t==Symbol.dispose?Bt?.getOrInsertComputed?.(e,()=>{const t=new Set;return"object"!=typeof e&&"function"!=typeof e||(Vt.register(e,t),Bt.set(e,t),e[Symbol.dispose]??=()=>t.forEach(e=>{e?.()})),t})?.add?.(n):e[t]=function(...r){const i=e?.[t];"function"==typeof i&&i.apply(this,r),n.apply(this,r)})}const Jt=new WeakMap,Xt=new WeakMap,Kt=new WeakMap,Qt=(e,t)=>"symbol"==typeof(e=qt(e?.[Ot]??e))||"object"!=typeof e&&"function"!=typeof e||null==e?e:Kt.getOrInsertComputed(e,()=>new Proxy(e,((e,t)=>{const n=e?.[Ot]??e;return Xt.getOrInsert(n,new Gt),t})(e,t))),Zt=Symbol.for("@allProps");class Gt{compatible;#o;#a=new WeakSet;#l;#c;#u=new Set;#f=new Map;#d=new Map;#h=!1;#p=new WeakMap;#m(){return globalThis.performance?.now?.()??Date.now()}constructor(){this.#o=new Map,this.#a=new WeakSet,this.#c={next:e=>{e&&(Array.isArray(e)?this.#g(...e):this.#g(e))}};const e=new WeakRef(this);this.#l="undefined"!=typeof Observable?new Observable(function(t){const n=t?.next?.bind?.(t);return((e,t,n)=>Jt.getOrInsert(e,()=>{const r=t?.deref?.();r?.affected?.(n);const i=e?.complete?.bind?.(e),s=()=>{const e=i?.();return r?.unaffected?.(n),e};return e.complete=s,{unaffected:s,[Symbol.dispose]:s,[Symbol.asyncDispose]:s}}))(t,e,n)}):null,this.compatible=()=>this.#l}$safeExec(e,...t){if(e&&!this.#a.has(e)&&(this.#a.add(e),this.#p.get(e)!==this.#m())){this.#p.set(e,this.#m());try{const n=e(...t);return n&&"function"==typeof n.then?n.catch(console.warn):n}catch(ha){console.warn(ha)}finally{this.#a.delete(e)}}}#g(e,t=null,n,...r){const i=this.#o;if(!i?.size)return;const s=Array.from(i.entries()).map(([i,s])=>{if(s===e||s===Zt||null===s)return this.$safeExec(i,t,e,n,...r)}).filter(e=>e&&"function"==typeof e.then);return s.length?Promise.allSettled(s):void 0}wrap(e){return Array.isArray(e)?Qt(e,this):e}affected(e,t){if(null!=e&&"function"==typeof e)return this.#o.set(e,t||Zt),()=>this.unaffected(e,t||Zt)}unaffected(e,t){if(null!=e&&"function"==typeof e){const n=this.#o;if(n?.has(e)&&(n.get(e)==t||null==t||t==Zt))return n.delete(e),()=>this.affected(e,t||Zt)}return this.#o.clear()}trigger(e,t,n,r=null,...i){if("symbol"==typeof e)return;void 0===r&&(r=null);const s=r??"__";let o=this.#d.get(e);o||(o=new Map,this.#d.set(e,o)),o.set(s,[e,t,n,r,i]),this.#h||(this.#h=!0,queueMicrotask(()=>{this.#h=!1;const e=this.#d;this.#d=new Map;for(const[t,n]of e)if(null==t||!this.#u.has(t)){null!=t&&this.#u.add(t);try{for(const[,e]of n){const[t,n,r,i,s]=e;try{this.#g(t,n,r,i,...s??[])}catch(ha){console.warn(ha)}}}finally{null!=t&&this.#u.delete(t)}}}))}get iterator(){return this.#c}}const Yt=new Set([Symbol.toStringTag,Symbol.iterator,Symbol.asyncIterator,Symbol.toPrimitive,"toString","valueOf","inspect","constructor","__proto__","prototype","then","catch","finally","next"]),en=(e,t)=>{if(!Yt.has(t))return null;const n=rn(e,t);return"function"==typeof n?p(e,n):n},tn=new WeakMap;const nn=(e,t)=>{if(f(e))return e;const n=rn(e,t);if(null==n&&"value"!=t){const r=rn(e,"value");return null==r||f(r)?n:nn(r,t)}return"value"!=t||null==n||f(n)||"function"==typeof n?n??e:nn(n,t)??n??e},rn=(e,t,n)=>{let r;if(null==e)return e;let i=tn.getOrInsert(e,new Set);if(i?.has?.(t))return null;if(function(e,t){let n=!0;try{tn?.getOrInsert?.(e,new Set)?.add?.(t),tn?.get?.(e)?.has?.(t)&&(n=!0);const r=Reflect.getOwnPropertyDescriptor(e,t);n="function"==typeof r?.get}catch(ha){n=!0}finally{tn?.get?.(e)?.delete?.(t)}return n}(e,t)){i?.add?.(t);try{r=Reflect.get(e,t,null!=n?n:e)}catch(s){r=void 0}finally{i.delete(t),0===i?.size&&tn?.delete?.(e)}}else r??=Reflect.get(e,t,e);return"function"==typeof r?p(e,r):r},sn=(e,t,n)=>{if(null==e||f(e))return e;if(null!=(["deref","bind","@target",jt,Ot,_t]?.indexOf(t)<0?rn(e,t)?.bind?.(e):null))return null;return[Ot,jt].indexOf(t)>=0?rn(e,t)??e:t==Nt?rn(e,t)??rn(e,"value"):t==_t?n:t==Symbol.observable?n?.compatible:t==Symbol.subscribe?(t,n)=>jn(null!=n?[e,n]:e,t):t==Symbol.iterator||t==Symbol.asyncIterator?rn(e,t):t==Symbol.dispose?t=>{rn(e,Symbol.dispose)?.(t),In(null!=t?[e,t]:e)}:t==Symbol.asyncDispose?t=>{rn(e,Symbol.asyncDispose)?.(t),In(null!=t?[e,t]:e)}:t==Symbol.unsubscribe?t=>In(null!=t?[e,t]:e):"symbol"!=typeof t||!(t in e)&&null==rn(e,t)?void 0:rn(e,t)},on=(e,t,n)=>{if("subscribe"==t)return n?.compatible?.[t]??(t=>{if("function"==typeof t)return jn(e,t);if("next"in t&&null!=t?.next){const n=jn(e,t?.next),r=t?.complete;return t.complete=(...e)=>(n?.(),r?.(...e)),t.complete}})};class an{#y;#b;#v;constructor(e,t,n){this.#y=e,this.#b=t,this.#v=n}get(e,t,n){const r=en(e,t);return null!==r?r:Reflect.get(e,t,n)}apply(e,t,n){let r=[],i=[],s=[],o=[...this.#b],a=-1;const l=Reflect.apply(e,t||this.#b,n);if(this.#v?.[Rt])return Array.isArray(l)?hn(l):l;switch(this.#y){case"push":a=o?.length,r=n;break;case"unshift":a=0,r=n;break;case"pop":a=o?.length-1,o.length>0&&(i=[[a-1,o[a-1],null]]);break;case"shift":a=0,o.length>0&&(i=[[a,o[a],null]]);break;case"splice":const[e,t,...l]=n;if(a=e,r=t>0?l.slice(t):[],i=t>0?o?.slice?.(l?.length+e,e+(t-(l?.length||0))):[],a+=(t||0)-(l?.length||1),t>0&&l?.length>0)for(let n=0;n<Math.min(t,l?.length??0);n++)s.push([e+n,l[n],o?.[e+n]??null]);break;case"sort":case"fill":case"reverse":case"copyWithin":a=0;for(let n=0;n<o.length;n++)h(o[n],this.#b[n])&&s.push([a+n,this.#b[n],o[n]]);break;case"set":a=n[1],s.push([a,n[0],o?.[a]??null])}const c=Xt.get(this.#b);return 1==r?.length?c?.trigger?.(a,r[0],null,null==r[0]?"@add":"@set"):r?.length>1&&(c?.trigger?.(a,r,null,"@addAll"),r.forEach((e,t)=>c?.trigger?.(a+t,e,null,null==e?"@add":"@set"))),1==s?.length?c?.trigger?.(s[0]?.[0]??a,s[0]?.[1],s[0]?.[2],null==s[0]?.[2]?"@add":"@set"):s?.length>1&&(c?.trigger?.(a,s,o,"@setAll"),s.forEach((e,t)=>c?.trigger?.(e?.[0]??a+t,e?.[1],e?.[2],null==e?.[2]?"@add":"@set"))),1==i?.length?c?.trigger?.(a,null,i[0],null==i[0]?"@add":"@delete"):i?.length>1&&(c?.trigger?.(a,null,i,"@clear"),i.forEach((e,t)=>c?.trigger?.(a+t,null,e,null==e?"@add":"@delete"))),l==e?new Proxy(l,this.#v):Array.isArray(l)?hn(l):l}}class ln{[Rt];constructor(){}has(e,t){return Reflect.has(e,t)}get(e,t,n){const r=en(e,t);if(null!==r)return r;if([Ot,jt,"@target","deref"].indexOf(t)>=0&&null!=rn(e,t)&&rn(e,t)!=e)return"function"==typeof rn(e,t)?rn(e,t)?.bind?.(e):rn(e,t);const i=Xt?.get?.(e),s=sn(e,t,i);if(null!=s)return s;const o=on(e,t,i);if(null!=o)return o;if(t==It)return d.call(this,this);if(t==Wt)return(t=0)=>{const n=rn(e,t);return Xt.get(e)?.trigger?.(t,n,void 0,"@invalidate")};if("@target"==t||t==Ot)return e;if("x"==t)return()=>e?.x??e?.[0];if("y"==t)return()=>e?.y??e?.[1];if("z"==t)return()=>e?.z??e?.[2];if("w"==t)return()=>e?.w??e?.[3];if("r"==t)return()=>e?.r??e?.[0];if("g"==t)return()=>e?.g??e?.[1];if("b"==t)return()=>e?.b??e?.[2];if("a"==t)return()=>e?.a??e?.[3];const a=rn(e,t)??("value"==t?rn(e,Nt):null);return"function"==typeof a?new Proxy("function"==typeof a?a?.bind?.(e):a,new an(t,e,this)):a}set(e,t,n){if("symbol"!=typeof t&&Number.isInteger(parseInt(t))&&(t=parseInt(t)??t),t==Rt&&n)return this[Rt]=!!n,!0;if(t==Rt&&!n)return delete this[Rt],!0;const r=rn(e,t),i=["x","y","z","w"].indexOf(t),s=["r","g","b","a"].indexOf(t);let o=!1;return o=i>=0?Reflect.set(e,i,n):s>=0?Reflect.set(e,s,n):Reflect.set(e,t,n),"length"==t&&h(r,n)&&((e,t,n,r)=>{const i=Number.isInteger(n)&&Number.isInteger(r)&&r<n?t.slice(r,n):[];if(!e[Rt]&&n!==r){const e=Xt.get(t);1===i.length?e?.trigger?.(r,null,i[0],"@delete"):i.length>1&&(e?.trigger?.(r,null,i,"@clear"),i.forEach((t,n)=>e?.trigger?.(r+n,null,t,"@delete")));const s=Number.isInteger(n)&&Number.isInteger(r)&&r>n?r-n:0;if(1===s)e?.trigger?.(n,void 0,null,"@add");else if(s>1){const t=Array(s).fill(void 0);e?.trigger?.(n,t,null,"@addAll"),t.forEach((t,r)=>e?.trigger?.(n+r,void 0,null,"@add"))}}})(this,e,r,n),!this[Rt]&&"symbol"!=typeof t&&h(r,n)&&Xt?.get?.(e)?.trigger?.(t,n,r,"number"==typeof t?"@set":null),o}deleteProperty(e,t){if("symbol"!=typeof t&&Number.isInteger(parseInt(t))&&(t=parseInt(t)??t),t==Rt)return delete this[Rt],!0;const n=rn(e,t),r=Reflect.deleteProperty(e,t);return this[Rt]||"length"==t||t==Rt||"symbol"==typeof t||null!=n&&Xt.get(e)?.trigger?.(t,t,n,"number"==typeof t?"@delete":null),r}}class cn{[Rt];constructor(){}get(e,t,n){if([Ot,jt,"@target","deref","then","catch","finally"].indexOf(t)>=0&&null!=rn(e,t)&&rn(e,t)!=e)return"function"==typeof rn(e,t)?p(e,rn(e,t)):rn(e,t);const r=Xt.get(e)??Xt.get(rn(e,"value")??e),s=sn(e,t,r);if(null!=s)return s;null!=rn(e,t)||"value"==t||!i(e)||null==rn(e,"value")||"object"!=typeof rn(e,"value")&&"function"!=typeof rn(e,"value")||null==rn(rn(e,"value"),t)||(e=rn(e,"value")??e);const o=on(e,t,r);return null!=o?o:t==It?d.call(this,this):t==Wt?(t="value")=>{const n=rn(e,t),r="value"==t?rn(e,Nt):void 0;return Xt.get(e)?.trigger?.(t,n,r,"@invalidate")}:t==Symbol.toPrimitive?n=>{const r=nn(e,t);return rn(r,t)?rn(r,t)?.(n):f(r)?m(r,n):f(rn(r,"value"))?m(rn(r,"value"),n):m(rn(r,"value")??r,n)}:t==Symbol.toStringTag?()=>{const n=nn(e,t);return rn(n,t)?rn(n,t)?.():f(n)?String(n??"")||"":f(rn(n,"value"))?String(rn(n,"value")??"")||"":String(rn(n,"value")??n??"")||""}:"toString"==t?()=>{const n=nn(e,t);return rn(n,t)?rn(n,t)?.():rn(n,Symbol.toStringTag)?rn(n,Symbol.toStringTag)?.():f(n)?String(n??"")||"":f(rn(n,"value"))?String(rn(n,"value")??"")||"":String(rn(n,"value")??n??"")||""}:"valueOf"==t?()=>{const n=nn(e,t);return rn(n,t)?rn(n,t)?.():rn(n,Symbol.toPrimitive)?rn(n,Symbol.toPrimitive)?.():f(n)?n:f(rn(n,"value"))?rn(n,"value"):rn(n,"value")??n}:"symbol"!=typeof t||!(t in e)&&null==rn(e,t)?nn(e,t):rn(e,t)}apply(e,t,n){return Reflect.apply(e,t,n)}ownKeys(e){return Reflect.ownKeys(e)}construct(e,t,n){return Reflect.construct(e,t,n)}isExtensible(e){return Reflect.isExtensible(e)}getOwnPropertyDescriptor(e,t){let n;try{tn?.getOrInsert?.(e,new Set)?.add?.(t),tn?.get?.(e)?.has?.(t)&&(n=void 0),n=Reflect.getOwnPropertyDescriptor(e,t)}catch(ha){n=void 0}finally{tn?.get?.(e)?.delete?.(t)}return n}has(e,t){return t in e}set(e,t,n){const r=en(e,t);return null!==r?r:g(n,r=>{const s=en(r,t);if(null!==s)return s;if(t==Rt&&n)return this[Rt]=!!n,!0;if(t==Rt&&!n)return delete this[Rt],!0;const o=e;if(null!=rn(e,t)||"value"==t||!i(e)||null==rn(e,"value")||"object"!=typeof rn(e,"value")&&"function"!=typeof rn(e,"value")||null==rn(rn(e,"value"),t)||(e=rn(e,"value")??e),"symbol"==typeof t&&(null==rn(e,t)||!(t in e)))return;const a="value"==t?rn(e,Nt)??rn(e,t):rn(e,t);e[t]=r;const l=rn(e,t)??r;if(!this[Rt]&&"symbol"!=typeof t&&(rn(e,Tt)??h)?.(a,l)){const n=Xt.get(e)??Xt.get(o);n?.trigger?.(t,r,a)}return!0})}deleteProperty(e,t){if(t==Rt)return delete this[Rt],!0;null!=rn(e,t)||"value"==t||!i(e)||null==rn(e,"value")||"object"!=typeof rn(e,"value")&&"function"!=typeof rn(e,"value")||null==rn(rn(e,"value"),t)||(e=rn(e,"value")??e);const n=rn(e,t),r=Reflect.deleteProperty(e,t);return this[Rt]||t==Rt||"symbol"==typeof t||Xt.get(e)?.trigger?.(t,null,n),r}}class un{[Rt];constructor(){}get(e,t,n){if([Ot,jt,"@target","deref"].indexOf(t)>=0&&null!=rn(e,t)&&rn(e,t)!=e)return"function"==typeof rn(e,t)?p(e,rn(e,t)):rn(e,t);const r=Xt.get(e),i=sn(e,t,r);if(null!=i)return i;const s=on(e,t,r);if(null!=s)return s;e=rn(e,Ot)??rn(e,jt)??e;const o=p(e,rn(e,t));return"symbol"!=typeof t||!(t in e)&&null==rn(e,t)?t==It?d.call(this,this):t==Wt?t=>{if(null==t)return;const n=e.get(t);return null!=n?Xt.get(e)?.trigger?.(t,n,void 0,"@set"):void 0}:"clear"==t?()=>{const t=Array.from(e?.entries?.()||[]),n=o();return t.forEach(([t,n])=>{!this[Rt]&&n&&Xt.get(e)?.trigger?.(t,null,n,"@delete")}),n}:"delete"==t?(t,n=null)=>{const r=e.get(t),i=o(t);return!this[Rt]&&r&&Xt.get(e)?.trigger?.(t,null,r,"@delete"),i}:"set"==t?(t,n)=>y(n,r=>{const i=e.get(t),s=o(t,n);return h(i,s)&&(this[Rt]||Xt.get(e)?.trigger?.(t,s,i,null==i?"@add":"@set")),s}):o:o}set(e,t,n){return t==Rt?(this[Rt]=!!n,!0):t!=Rt||n?Reflect.set(e,t,n):(delete this[Rt],!0)}has(e,t){return Reflect.has(e,t)}apply(e,t,n){return Reflect.apply(e,t,n)}construct(e,t,n){return Reflect.construct(e,t,n)}ownKeys(e){return Reflect.ownKeys(e)}isExtensible(e){return Reflect.isExtensible(e)}getOwnPropertyDescriptor(e,t){let n;try{tn?.getOrInsert?.(e,new Set)?.add?.(t),tn?.get?.(e)?.has?.(t)&&(n=void 0),n=Reflect.getOwnPropertyDescriptor(e,t)}catch(ha){n=void 0}finally{tn?.get?.(e)?.delete?.(t)}return n}deleteProperty(e,t){if(t==Rt)return delete this[Rt],!0;return Reflect.deleteProperty(e,t)}}class fn{[Rt]=!1;constructor(){}get(e,t,n){if([Ot,jt,"@target","deref"].indexOf(t)>=0&&null!=rn(e,t)&&rn(e,t)!=e)return"function"==typeof rn(e,t)?p(e,rn(e,t)):rn(e,t);const r=Xt.get(e),i=sn(e,t,r);if(null!=i)return i;const s=on(e,t,r);if(null!=s)return s;e=rn(e,Ot)??rn(e,jt)??e;const o=p(e,rn(e,t));return"symbol"!=typeof t||!(t in e)&&null==rn(e,t)?t==It?d.call(this,this):t==Wt?t=>{if(null==t)return;const n=e.has(t);return Xt.get(e)?.trigger?.(t,n,void 0,"@invalidate")}:"clear"==t?()=>{const t=Array.from(e?.values?.()||[]),n=o();return t.forEach(t=>{!this[Rt]&&t&&Xt.get(e)?.trigger?.(null,null,t,"@delete")}),n}:"delete"==t?t=>{const n=e.has(t)?t:null,r=o(t);return!this[Rt]&&n&&Xt.get(e)?.trigger?.(t,null,n,"@delete"),r}:"add"==t?t=>{const n=e.has(t)?t:null,r=o(t);return h(n,t)&&(this[Rt]||n||Xt.get(e)?.trigger?.(t,t,n,"@add")),r}:o:o}set(e,t,n){return t==Rt&&n?(this[Rt]=!!n,!0):t!=Rt||n?Reflect.set(e,t,n):(delete this[Rt],!0)}has(e,t){return Reflect.has(e,t)}apply(e,t,n){return Reflect.apply(e,t,n)}construct(e,t,n){return Reflect.construct(e,t,n)}ownKeys(e){return Reflect.ownKeys(e)}isExtensible(e){return Reflect.isExtensible(e)}getOwnPropertyDescriptor(e,t){let n;try{tn?.getOrInsert?.(e,new Set)?.add?.(t),tn?.get?.(e)?.has?.(t)&&(n=void 0),n=Reflect.getOwnPropertyDescriptor(e,t)}catch(ha){n=void 0}finally{tn?.get?.(e)?.delete?.(t)}return n}deleteProperty(e,t){if(t==Rt)return delete this[Rt],!0;return Reflect.deleteProperty(e,t)}}const dn=e=>!("object"!=typeof e&&"function"!=typeof e||null==e||!e?.[Ot]&&!e?.[$t]),hn=e=>dn(e)?e:Qt(e,new ln),pn=(e,t)=>{const n=e instanceof Promise||"function"==typeof e?.then,r={[Lt]:n?e:null,[Nt]:n?0:Number(qt(e)||0)||0,[Ct]:t,[Symbol?.toStringTag](){return String(this?.[Nt]??"")||""},[Symbol?.toPrimitive](e){return m(("object"!=typeof this?.[Nt]?this?.[Nt]:this?.[Nt]?.value||0)??0,e)},set value(e){this[Nt]=(null==e||Number.isNaN(e)?this[Nt]:Number(e))||0},get value(){return Number(this[Nt]||0)||0}},i=wn(r);return e?.then?.(e=>i.value=e),i},mn=(e,t)=>{const n=e instanceof Promise||"function"==typeof e?.then,r={[Lt]:n?e:null,[Nt]:(n?"":String(qt("number"==typeof e?String(e):e||"")))??"",[Ct]:t,[Symbol?.toStringTag](){return String(this?.[Nt]??"")??""},[Symbol?.toPrimitive](e){return m(this?.[Nt]??"",e)},set value(e){this[Nt]=String("number"==typeof e?String(e):e||"")??""},get value(){return String(this[Nt]??"")??""}},i=wn(r);return e?.then?.(e=>i.value=e),i},gn=(e,t)=>{const n=e instanceof Promise||"function"==typeof e?.then,r={[Lt]:n?e:null,[Nt]:!(n||null==qt(e)||"string"!=typeof qt(e)&&!qt(e)),[Ct]:t,[Symbol?.toStringTag](){return String(this?.[Nt]??"")||""},[Symbol?.toPrimitive](e){return m(!!this?.[Nt]||!1,e)},set value(e){this[Nt]=(null!=e?"string"==typeof e||!!e:this[Nt])||!1},get value(){return this[Nt]||!1}},i=wn(r);return e?.then?.(e=>i.value=e),i},yn=(e,t)=>{const n=e instanceof Promise||"function"==typeof e?.then,r={[Lt]:n?e:null,[Ct]:t,[Symbol?.toStringTag](){return String(this.value??"")||""},[Symbol?.toPrimitive](e){return m(this.value,e)},value:n?null:qt(e)},i=wn(r);return e?.then?.(e=>i.value=e),jn(e,e=>{i?.[Wt]?.()}),i},bn=(e,t="value",n,r)=>{if(f(e)||!e)return e;if(!Array.isArray(e)||b(e?.[1],e)||!Array.isArray(e?.[0])&&"object"!=typeof e?.[0]&&"function"!=typeof e?.[0]||(e=e?.[0]),null==(t??=Array.isArray(e)?null:"value")||b(t,e))return;if(t&&i(e?.[t])&&Sn(e?.[t]))return xn(e?.[t]);if(t&&"function"==typeof e?.getProperty&&Sn(e?.getProperty?.(t)))return e?.getProperty?.(t);const s=wn({[Nt]:e[t]??=n??e[t],[Ct]:r,[Symbol?.toStringTag](){return String(e?.[t]??this[Nt]??"")||""},[Symbol?.toPrimitive]:n=>m(e?.[t],n),set value(n){s[v]=!0,e[t]=this[Nt]=n??w(e[t]),s[v]=!1},get value(){return this[Nt]=e?.[t]??this[Nt]}}),o=jn(e,e=>{s?.[Wt]?.()});return Ut(s,Symbol.dispose,o),s},vn=(e,t="value",n)=>{const r=Sn(e)?e:((e,t)=>{switch(typeof e){case"boolean":return gn(e,t);case"number":return pn(e,t);case"string":return mn(e,t);case"object":if(null!=e)return yn(wn(e),t);default:return yn(e,t)}})(e,n);return null!=t?bn(r,t,n):r},wn=(e,t)=>{if(null==e||"symbol"==typeof e||"object"!=typeof e&&"function"!=typeof e||dn(e))return e;if(null==(e=qt?.(e))||e instanceof Promise||e instanceof WeakRef||dn(e))return e;const n=e;if(null==n||"symbol"==typeof n||"object"!=typeof n&&"function"!=typeof n||n instanceof Promise||n instanceof WeakRef)return n;let r=n;return Array.isArray(n)?(r=hn(n),r):n instanceof Map?(r=dn(o=n)?o:Qt(o,new un),r):n instanceof Set?(r=dn(s=n)?s:Qt(s,new fn),r):"function"==typeof n||"object"==typeof n?(r=dn(i=n)?i:Qt(i,new cn),r):r;var i,s,o},Sn=e=>"undefined"!=typeof HTMLInputElement&&e instanceof HTMLInputElement||!("object"!=typeof e&&"function"!=typeof e||null==e||!(e?.[Ot]||e?.[$t]||Xt?.has?.(e))),xn=e=>Sn(e)?wn(e):null,kn=new WeakMap,En=e=>{if("symbol"!=typeof e&&null!=e&&("object"==typeof e||"function"==typeof e))return e},Pn=(e,t,n,r=null)=>{if(!e)return;if(!En(e))return;const i=t!=Symbol.iterator?t:null;let s=e?.[_t]??Xt.get(e);e=e?.[Ot]??e,queueMicrotask(()=>{null!=i&&i!=Symbol.iterator?S(e,i,n):x(e,n)});let o=s?.affected?.(n,i);return e?.[Symbol.dispose]||(Ut(o,Symbol.dispose,o),Ut(o,Symbol.asyncDispose,o),Ut(e,Symbol.dispose,o),Ut(e,Symbol.asyncDispose,o)),o},An=(e,t,n,r=null)=>{const i={};let s=e?.value;const o=e=>{n?.(e?.target?.value,"value",s),s=e?.target?.value};return e?.addEventListener?.("change",o,i),()=>e?.removeEventListener?.("change",o,i)},Mn=e=>Array.isArray(e)&&2==e?.length&&En(e?.[0])&&(k(e?.[1])||e?.[1]==Symbol.iterator),Nn=(e,t,n,r=null)=>{const i=k(e?.[1])?e?.[1]:null;return jn(e?.[0],i,n,r)},On=(e,t,n,r=null)=>e?.then?.(e=>jn?.(e,t,n,r))?.catch?.(e=>(console.warn(e),null)),jn=(e,t,n=()=>{},r)=>{if("function"==typeof t&&(n=t,t=null),f(e)||"symbol"==typeof e)return queueMicrotask(()=>n?.(e,null,null,null));if("function"==typeof e?.[$t])return e?.[$t]?.(n,t,r);if(En(e)){const i=e;return e=e?.[Ot]??e,kn?.has?.(e)?kn?.get?.(e)?.(i,t,n,r):Sn(i)||Mn(e)&&Sn(e?.[0])?Ht(e)?kn?.getOrInsert?.(e,On)?.(e,t,n,r):Mn(e)?kn?.getOrInsert?.(e,Nn)?.(e,t,n,r):"undefined"!=typeof HTMLInputElement&&e instanceof HTMLInputElement?kn?.getOrInsert?.(e,An)?.(e,t,n,r):kn?.getOrInsert?.(e,Pn)?.(i,t,n,r):queueMicrotask(()=>Mn(e)?S?.(e?.[0],e?.[1],n):null!=t&&t!=Symbol.iterator?S?.(e,t,n):x?.(e,n))}};class _n{#w=new WeakMap;#S(e){let t=this.#w.get(e);return t||(t=new WeakMap,this.#w.set(e,t)),t}#x(e){return Array.isArray(e)&&2===e.length?e:[null,null]}hasL1(e){return this.#w.has(e)}set(e,t){const[n,r]=this.#x(e);return this.#S(n).set(r,t),this}get(e){const[t,n]=this.#x(e);return this.#w.get(t)?.get(n)}has(e){const[t,n]=this.#x(e);return this.#w.get(t)?.has(n)??!1}delete(e){const[t,n]=this.#x(e),r=this.#w.get(t);return!!r&&r.delete(n)}deleteTop(e){return this.#w.delete(e)}getOrCreate(e,t){const[n,r]=this.#x(e),i=this.#S(n);if(i.has(r))return i.get(r);const s=t();return i.set(r,s),s}getOrInsert(e,t){const[n,r]=this.#x(e),i=this.#S(n);return i.has(r)?i.get(r):(i.set(r,t),t)}getOrInsertComputed(e,t){const[n,r]=this.#x(e),i=this.#S(n);if(i.has(r))return i.get(r);const s=t([n,r]);return i.set(r,s),s}}const Cn=new _n,Ln=(e,t,n=null)=>{if(!e)return;if(Cn.has([e,t]))return Cn.get([e,t]);const r=(n,r,i)=>{if("value"==r){const r=(i?.value??i)?.entries?.(),s=e?.value??n?.value??n;if(r)for(const[e,n]of r){const r=n??(i?.value??i)?.[e]??null,o=s?.[e];null==r&&null!=o?t(o,e,null,"@add"):null!=r&&null==o?t(null,e,r,"@delete"):h(r,o)&&t(o,e,r,"@set")}return Ln(n??e?.value,(e,n,r,i)=>{t(e,n,r,i)})}return e[r]};return Cn.getOrInsertComputed([e,t],()=>e instanceof Set?jn([Wn(e),Symbol.iterator],t,n):e instanceof Map?jn(e,t,n):i(e)?jn(e,r,n):!Array.isArray(e)||2==e?.length&&k(e?.[1])&&Sn(e?.[0])?jn(e,t,n):jn([e,Symbol.iterator],t,n))},In=(e,t,n=null)=>((e,t)=>f(e)||"function"==typeof e?t?.(e):Ht(e)?e.then(t):e?.promise&&Ht(e.promise)?e.promise.then(t):t?.(e))(e,e=>{const n=Array.isArray(e)&&2==e?.length&&["object","function"].indexOf(typeof e?.[0])>=0&&k(e?.[1]),r=n?e?.[1]:null,i="object"==typeof(e=n&&null!=r?e?.[0]??e:e)||"function"==typeof e?e?.[Ot]??e:e;let s=e?.[_t]??Xt.get(i);s?.unaffected?.(t,r)}),Rn=(e,t,n,r)=>{if(f(e))return e?t:n;const s=r=>{null!=r&&(e.value=i(r)?r?.value:r);return(i(e)?e?.value:e)?t:n},o=wn({[Nt]:s(),[Ct]:r,[Symbol?.toStringTag](){return String(s()??this[Nt]??"")||""},[Symbol?.toPrimitive](e){return m(s()??this[Nt],e)},set value(e){this[Nt]=s(e)},get value(){return this[Nt]=s()??this[Nt]}}),a=jn([e,"value"],e=>{o?.[Wt]?.()});return Ut(o,Symbol.dispose,a),o},Wn=e=>{const t=wn([]);return t.push(...Array.from(e?.values?.()||[])),Ut(t,Symbol.dispose,jn(e,(e,n,r)=>{if(h(e,r))if(null==r&&null!=e)t.push(e);else if(null!=r&&null==e){const e=t.indexOf(r);e>=0&&t.splice(e,1)}else{const n=t.indexOf(r);n>=0&&h(t[n],e)&&(t[n]=e)}})),t},$n=e=>{const t=wn([]),n=Array.from(e.entries());return t.push(...n),Ut(t,Symbol.dispose,jn(e,(e,n,r)=>{if(h(e,r)||null==r&&null!=e||null!=r&&null==e)if(null!=r&&null==e){let e=t.findIndex(([e,t])=>e==n);e<0&&(e=t.findLastIndex(([e,t])=>r===t)),e>=0&&t.splice(e,1)}else{let r=t.findIndex(([e,t])=>e==n);r>=0&&r<t.length?h(t[r]?.[1],e)&&(t[r]=[n,e]):t.push([n,e])}})),t},Tn=new WeakMap,Dn=(e,t,n="value")=>{const r="function"==typeof e?.[1]&&2==e?.length,i="function"==typeof t?.[1]&&2==t?.length,s=i?t?.[1]:null,o=(k(e?.[1])||e?.[1]==Symbol.iterator)&&2==e?.length;let l=o&&!r?e?.[1]:Array.isArray(e)?null:n;o||r||(e=[e,l]),r&&(e[1]=l);const c=(k(t?.[1])||t?.[1]==Symbol.iterator)&&2==t?.length;let u=c&&!i?t?.[1]:Array.isArray(t)?null:n;if(c||i||(t=[t,u]),i&&(t[1]=u),null==l||null==u||b(l,e?.[0])||b(u,t?.[0]))return;if(("object"!=typeof t?.[0]&&"function"!=typeof t?.[0]||null==t?.[0])&&!Array.isArray(e[0]))return a(t,()=>{e[0][l]=t?.[0]}),()=>{};const f=(e,t)=>{const n=m?.deref?.(),r=p?.deref?.();if(Tn?.get?.(n)?.get?.(l)?.bound==r){let i=null;const s=Tn?.get?.(n)?.get?.(l)?.cmpfx;a(r,()=>{i="function"==typeof s?s?.(E(r)??e,t,null):r?.[t]??e});const o=E(i);h(n[l],o)&&a(r,()=>{n[l]=o})}else{const e=Tn?.get?.(n),t=e?.get?.(l);t?.dispose?.()}},d=()=>{const e=m?.deref?.(),t=Tn?.get?.(e),n=t?.get?.(l);t?.delete?.(l),n?.unsub?.()},p=null==t?.[0]||"object"!=typeof t?.[0]&&"function"!=typeof t?.[0]||t?.[0]instanceof WeakRef||"function"==typeof t?.[0]?.deref?t?.[0]:new WeakRef(t?.[0]),m=null==e?.[0]||"object"!=typeof e?.[0]&&"function"!=typeof e?.[0]||e?.[0]instanceof WeakRef||"function"==typeof e?.[0]?.deref?e?.[0]:new WeakRef(e?.[0]);let g={dispose:d,cmpfx:s};const y=m?.deref?.(),v=p?.deref?.();if(m instanceof WeakRef){Tn?.get?.(y)?.get?.(l)?.bound!=v&&Tn?.get?.(y)?.delete?.(l);const e=Tn?.getOrInsert?.(y,new Map);g=e?.getOrInsertComputed?.(l,()=>({bound:v,cmpfx:s,unsub:null,compute:f,dispose:d})),g.unsub=jn(t,f),g.cmpfx=s,Ut(y,Symbol.dispose,g?.dispose),Ut(v,Symbol.dispose,g?.dispose)}return v&&!Array.isArray(v)&&a(y,()=>{v[u]??=y?.[l]??v[u]}),g?.dispose},zn=(e,t,n,r="value")=>{const i="function"==typeof e?.[1]&&2==e?.length,s=(k(e?.[1])||e?.[1]==Symbol.iterator)&&2==e?.length;let o=s&&!i?e?.[1]:Array.isArray(e)?null:r;if(s||i||(e=[s?e?.[0]:e,o]),i&&(e[1]=o),null==o||b(o,e?.[0]))return;const a=n=>{let r;return null!=n&&(r=e[0][o],e[0][o]=n),t?.(e?.[0]?.[o],o,r)},l=a(),c=wn({[Lt]:void 0,[Nt]:l,[Ct]:n,[Symbol?.toStringTag](){return String(a()??this[Nt]??"")||""},[Symbol?.toPrimitive](e){return m(a()??this[Nt],e)},set value(e){this[Nt]=a(e)},get value(){return this[Nt]=a()??this[Nt]}}),u=jn([e?.[0]??e,o??"value"],()=>c?.[Wt]?.());return Ut(c,Symbol.dispose,u),c};class Fn{static width=pn("undefined"!=typeof window?window?.innerWidth:0);static height=pn("undefined"!=typeof window?window?.innerHeight:0);static init(){const e=()=>{this.width.value=window?.innerWidth,this.height.value=window?.innerHeight};"undefined"!=typeof window&&window?.addEventListener?.("resize",e)}static center(){return{x:ho.divide(this.width,pn(2)),y:ho.divide(this.height,pn(2))}}}Fn.init();class qn{element;size;observer;constructor(e){this.element=e,this.size={width:pn(e.offsetWidth),height:pn(e.offsetHeight)},this.observer=new ResizeObserver(t=>{for(const n of t)n.target===e&&(this.size.width.value=n.contentRect.width,this.size.height.value=n.contentRect.height)}),this.observer.observe(e)}get width(){return this.size.width}get height(){return this.size.height}center(){return{x:ho.divide(this.size.width,pn(2)),y:ho.divide(this.size.height,pn(2))}}destroy(){this.observer.disconnect()}}class Hn{animations=new Map;transitions=new Map;setAnimation(e,t){this.animations.set(e,t)}getAnimation(e){return this.animations.get(e)}cancelAnimation(e){const t=this.animations.get(e);t&&(t.cancel(),this.animations.delete(e))}setTransition(e,t,n){const r=`${t} ${n.duration||200}ms ${n.easing||"ease"} ${n.delay||0}ms`;this.transitions.get(t)!==r&&(this.transitions.set(t,r),this.updateElementTransitions(e))}updateElementTransitions(e){const t=Array.from(this.transitions.values()).join(", ");e.style.transition=t}clearTransitions(e){this.transitions.clear(),e.style.transition=""}cancelAll(e){const t=Array.from(this.animations.values());for(const n of t)n.cancel();this.animations.clear(),this.clearTransitions(e)}getAnimations(){return this.animations}}const Bn=new WeakMap;function Vn(e){let t=Bn.get(e);return t||(t=new Hn,Bn.set(e,t)),t}function Un(e,t,n,r={}){if(!e||!t)return;const i=Vn(e),s=e.style.getPropertyValue(t)||getComputedStyle(e)[t],o=E(n);if(s===o)return;i.cancelAnimation(t);const a=[{[t]:s},{[t]:o}],l={duration:r.duration||200,easing:r.easing||"ease",delay:r.delay||0,direction:r.direction||"normal",iterations:r.iterations||1,fill:r.fill||"forwards"},c=e.animate(a,l);i.setAnimation(t,c),c.addEventListener("finish",()=>{i.cancelAnimation(t),e.style.setProperty(t,o)})}function Jn(e,t,n,r={}){if(!e||!t)return;const i=Vn(e),s=E(n);i.setTransition(e,t,r),e.style.setProperty(t,s)}function Xn(e,t,n,r={}){if(!e||!t)return;const i=Vn(e),s=E(n),o=parseFloat(e.style.getPropertyValue(t))||parseFloat(getComputedStyle(e)[t])||0;if(Math.abs(o-s)<.01)return;i.cancelAnimation(t);const a=r.stiffness||100,l=r.damping||10,c=r.mass||1,u=r.velocity||0;let f,d=o,h=u;const p=()=>{h+=.016*((-a*(d-s)+-l*h)/c),d+=.016*h;const n=t.includes("scale")||t.includes("opacity")?d.toString():`${d}px`;e.style.setProperty(t,n),Math.abs(d-s)>.01||Math.abs(h)>.01?f=requestAnimationFrame(p):(e.style.setProperty(t,t.includes("scale")||t.includes("opacity")?s.toString():`${s}px`),i.cancelAnimation(t))},m={cancel:()=>cancelAnimationFrame(f)};i.setAnimation(t,m),f=requestAnimationFrame(p)}function Kn(e,t,n={}){if(!e||!t)return;const r=Vn(e),i=[{},{}];for(const[a,l]of Object.entries(t)){const t=e.style.getPropertyValue(a)||getComputedStyle(e)[a],n=E(l);i[0][a]=t,i[1][a]=n}for(const a of Object.keys(t))r.cancelAnimation(a);const s={duration:n.duration||300,easing:n.easing||"ease-out",delay:n.delay||0,direction:n.direction||"normal",iterations:n.iterations||1,fill:n.fill||"forwards"},o=e.animate(i,s);for(const a of Object.keys(t))r.setAnimation(a,o);o.addEventListener("finish",()=>{for(const n of Object.keys(t)){r.cancelAnimation(n);const i=E(t[n]);e.style.setProperty(n,i)}})}function Qn(e,t,n,r="animate",i={}){const s=P(e),o=P(n);if("morph"===r){const e=t;return Kn(A(s),e,i),jn(n,t=>{Kn(A(s),e,i)}),unsubscribe}{const e=t,a="animate"===r?Un:"transition"===r?Jn:Xn;return a(A(s),e,E(A(o)),i),jn(n,t=>{a(A(s),e,t,i)}),unsubscribe}}const Zn=new _n,Gn=new FinalizationRegistry(e=>e?.()),Yn=Symbol.for("@mapped"),er=Symbol.for("@virtual"),tr=Symbol.for("@behavior"),nr=(e,t)=>{const n={click:t,input:t,change:t};t?.({target:e});const r=M?.(e,"addEventListener",n);return Ut(e,Symbol.dispose,r),r},rr=(e,t,n,i,s,o)=>{const a=P(e);if(!(e=A(a))||!(e instanceof Node||e?.element instanceof Node))return;let l=null;l?.abort?.(),l=new AbortController;const c=P(t);i?.(e,n,t);const u=jn?.([t,"value"],(e,t,r)=>{const o=A(c),u=A(s),f=A(a),d=E(o)??E(e);u&&u?.[n]!=o||("function"==typeof o?.[tr]?o?.[tr]?.((t=e)=>i(f,n,d),[e,n,r],[l?.signal,n,a]):i(f,n,d))});let f=null;"boolean"==typeof o&&o&&(i==Mt&&(f=((e,t,n="")=>{P(e);const i=P(t),s=r(n);return ke(e,s,e=>{if("attributes"==e.type&&e.attributeName==s){const t=e?.target?.getAttribute?.(e.attributeName),n=A(i),r=E(n);!h(e.oldValue,t)||null==n||"object"!=typeof n&&"function"!=typeof n||(h(r,t)||null==r)&&N(n,"value",t)}})})(e,t,n)),i==Et&&(f=((e,t,n="value")=>{const r=P(e),i=P(t),s=e=>{N(i,"value",A(r)?.[n??"value"]??E(A(i)))},o={click:s,input:s,change:s};return s?.(),M?.(e,"addEventListener",o),N(i,"value",e?.[n??"value"]??E(A(t))),()=>M?.(e,"removeEventListener",o)})(e,t,n))),"function"==typeof o&&(f=o(e,n,t));const d=()=>{f?.disconnect?.(),null!=f&&"function"==typeof f&&f?.(),u?.(),l?.abort?.(),((e,t,n)=>{const r=Zn.get([e,t]);if(r){const e=r[n]?.[1];delete r[n],e?.()}})?.(e,i,n)};Ut(t,Symbol.dispose,d),Gn.register(e,d),((e,t,n,r)=>{const i=Zn.getOrInsertComputed([e,t],()=>({}));i?.[n]?.[1]?.(),i[n]=r})(e,i,n,[t,d])},ir=(e,t,n,r,i,s)=>(r(e,t,n),rr(e,n,t,r,i,s)),sr=(e,t,n,r={})=>Qn(e,t,n,"animate",r),or=(e,t,n,r={})=>Qn(e,t,n,"transition",r),ar=(e,t,n,r={})=>Qn(e,t,n,"spring",r),lr=new WeakMap,cr=new WeakMap,ur={logAll:e=>()=>console.log("attributes:",[...e?.attributes].map(e=>({name:e.name,value:e.value}))),append:e=>(...t)=>e?.append?.(...[...t||[]]?.map?.(e=>e?.element??e)||t),current:e=>e};class fr{direction="children";selector;index=0;_eventMap=new WeakMap;constructor(e,t=0,n="children"){this.index=t,this.selector=e,this.direction=n}_observeDOMChange(e,t,n){return"string"==typeof t?Pe(e,t,n):null}_observeAttributes(e,t,n){return"string"==typeof this.selector?Ee(e,this.selector,t,n):ke(e??this.selector,t,n)}_getArray(e){if("function"==typeof e&&(e=this.selector||e?.(this.selector)),!this.selector)return[e];if("string"==typeof this.selector){const t="function"==typeof e?.matches&&null!=e?.element&&e?.matches?.(this.selector)?[e]:[];if("children"==this.direction){const n="function"==typeof e?.querySelectorAll&&null!=e?.element?[...e?.querySelectorAll?.(this.selector)]:[];return n?.length>=1?[...n]:t}if("parent"==this.direction){const n=e?.closest?.(this.selector);return n?[n]:t}return t}return Array.isArray(this.selector)?this.selector:[this.selector]}_getSelected(e){const t=e?.self??e,n=this._selector(e);if("string"==typeof n){if("children"==this.direction)return t?.matches?.(n)?t:t?.querySelector?.(n);if("parent"==this.direction)return t?.matches?.(n)?t:t?.closest?.(n)}return t==(n?.element??n)?n?.element??n:null}_redirectToBubble(e){return"string"==typeof this._selector()&&{pointerenter:"pointerover",pointerleave:"pointerout",mouseenter:"mouseover",mouseleave:"mouseout",focus:"focusin",blur:"focusout"}?.[e]||e}_addEventListener(e,t,n,r){const i=this._selector(e);if("string"!=typeof i)return i?.addEventListener?.(t,n,r),n;const s=this._redirectToBubble(t),o=e?.self??e,a=t=>{const r=this._selector(e),i=t?.currentTarget??o;let s=null;if(t?.composedPath&&"function"==typeof t.composedPath){const e=t.composedPath();for(const n of e)if(n instanceof HTMLElement||n instanceof Element){const e=n?.element??n;if("string"==typeof r){if(de(e,r,t)){s=e;break}}else if(fe(r,e,t)){s=e;break}}}s||(s=t?.target??this._getSelected(e)??i,s=s?.element??s),"string"==typeof r?fe(i,de(s,r,t),t)&&n?.call?.(s,t):fe(i,r,t)&&fe(r,s,t)&&n?.call?.(s,t)};o?.addEventListener?.(s,a,r);return this._eventMap.getOrInsert(o,new Map).getOrInsert(s,new WeakMap).set(n,{wrap:a,option:r}),a}_removeEventListener(e,t,n,r){const i=this._selector(e);if("string"!=typeof i)return i?.removeEventListener?.(t,n,r),n;const s=e?.self??e,o=this._redirectToBubble(t),a=this._eventMap.get(s);if(!a)return;const l=a.get(o),c=l?.get?.(n);s?.removeEventListener?.(o,c?.wrap??n,r??c?.option??{}),l?.delete?.(n),0==l?.size&&a?.delete?.(o),0==a.size&&this._eventMap.delete(s)}_selector(e){return"string"==typeof this.selector&&"string"==typeof e?.selector?((e?.selector||"")+" "+this.selector)?.trim?.():this.selector}get(e,t,n){const r=this._getArray(e),i=r.length>0?r[this.index]:this._getSelected(e);if(t in ur)return ur?.[t]?.(i);if("length"==t&&null!=r?.length)return r?.length;if("_updateSelector"==t)return e=>this.selector=e||this.selector;if(["style","attributeStyleMap"].indexOf(t)>=0){const n=e?.self??e,r=this._selector(e),s="string"==typeof r?((e,t="ux-query",n=null)=>{if(!e)return null;const r=n instanceof ShadowRoot?n:n?.getRootNode?n.getRootNode({composed:!0}):null,i=r instanceof ShadowRoot,s=i?r.adoptedStyleSheets:"undefined"!=typeof document?document.adoptedStyleSheets:null;if(!s)return null;const o=`${t||""}:${e}`;let a;if(i){let e=Ue.get(r);e||(e=new Map,Ue.set(r,e)),a=e.get(o),a||(a=new CSSStyleSheet,e.set(o,a),s.includes(a)||s.push(a))}else a=Ve.get(o),a||(a=new CSSStyleSheet,Ve.set(o,a),s.includes(a)||s.push(a));if(t){let n;if(i){let e=Xe.get(r);e||(e=new Map,Xe.set(r,e)),n=e.get(t)}else n=Je.get(t);if(!n){const e=Array.from(a.cssRules||[]),s=e.findIndex(e=>e instanceof CSSLayerBlockRule&&e.name===t);if(-1===s)try{a.insertRule(`@layer ${t} {}`,a.cssRules.length);const e=a.cssRules[a.cssRules.length-1];e instanceof CSSLayerBlockRule&&(n=e)}catch(ha){n=void 0}else n=e[s];if(n)if(i){let e=Xe.get(r);e||(e=new Map,Xe.set(r,e)),e.set(t,n)}else Je.set(t,n)}if(n){let t=Array.from(n.cssRules||[]).findIndex(t=>t instanceof CSSStyleRule&&t.selectorText?.trim?.()===e?.trim?.());if(-1===t)try{t=n.insertRule(`${e} {}`,n.cssRules.length)}catch(ha){return null}return n.cssRules[t]}}let l=Array.from(a.cssRules||[]).findIndex(t=>t instanceof CSSStyleRule&&t.selectorText?.trim?.()===e?.trim?.());if(-1===l)try{l=a.insertRule(`${e} {}`,a.cssRules.length)}catch(ha){return null}const c=a.cssRules[l];return c instanceof CSSStyleRule?c:null})(r,"ux-query",n):i;return"attributeStyleMap"==t?s?.styleMap??s?.attributeStyleMap:s?.[t]}if("self"==t)return e?.self??e;if("selector"==t)return this._selector(e);if("observeAttr"==t)return(t,n)=>this._observeAttributes(e,t,n);if("DOMChange"==t)return t=>this._observeDOMChange(e,this.selector,t);if("addEventListener"==t)return(t,n,r)=>this._addEventListener(e,t,n,r);if("removeEventListener"==t)return(t,n,r)=>this._removeEventListener(e,t,n,r);if("getAttribute"==t)return t=>{const n=this._getArray(e),r=n.length>0?n[this.index]:this._getSelected(e),i=lr?.get?.(e)?.get?.(this.selector)??r;return Zn?.get?.(i)?.get?.(Mt)?.has?.(t)?Zn?.get?.(i)?.get?.(Mt)?.get?.(t)?.[0]:r?.getAttribute?.(t)};if("setAttribute"==t)return(t,n)=>{const r=this._getArray(e),i=r.length>0?r[this.index]:this._getSelected(e);return"object"!=typeof n||null==n?.value&&!("value"in n)?i?.setAttribute?.(t,n):ir(i,t,n,Mt,null,!0)};if("removeAttribute"==t)return t=>{const n=this._getArray(e),r=n.length>0?n[this.index]:this._getSelected(e),i=lr?.get?.(e)?.get?.(this.selector)??r;return Zn?.get?.(i)?.get?.(Mt)?.has?.(t)?Zn?.get?.(i)?.get?.(Mt)?.get?.(t)?.[1]?.():r?.removeAttribute?.(t)};if("hasAttribute"==t)return t=>{const n=this._getArray(e),r=n.length>0?n[this.index]:this._getSelected(e),i=lr?.get?.(e)?.get?.(this.selector)??r;return!!Zn?.get?.(i)?.get?.(Mt)?.has?.(t)||r?.hasAttribute?.(t)};if("element"==t){if(r?.length<=1)return i?.element??i;const e=document.createDocumentFragment();return e.append(...r),e}if(t==Symbol.toPrimitive&&(this.selector?.includes?.("input")||this.selector?.matches?.("input")))return e=>"number"==e?(i?.element??i)?.valueAsNumber??parseFloat((i?.element??i)?.value):"string"==e?String((i?.element??i)?.value??i?.element??i):"boolean"==e?(i?.element??i)?.checked:(i?.element??i)?.checked??(i?.element??i)?.value??i?.element??i;if("checked"==t&&(this.selector?.includes?.("input")||this.selector?.matches?.("input")))return(i?.element??i)?.checked;if("value"==t&&(this.selector?.includes?.("input")||this.selector?.matches?.("input")))return(i?.element??i)?.valueAsNumber??(i?.element??i)?.valueAsDate??(i?.element??i)?.value??(i?.element??i)?.checked;if(t==$t&&(this.selector?.includes?.("input")||this.selector?.matches?.("input")))return t=>{let n=i?.value;const r=[e=>{const r=this._getSelected(e?.target);t?.(r?.value,"value",n),n=r?.value},{passive:!0}];return this._addEventListener(e,"change",...r),()=>this._removeEventListener(e,"change",...r)};if("deref"==t&&("object"==typeof i||"function"==typeof i)&&null!=i){const e=new WeakRef(i);return()=>e?.deref?.()?.element??e?.deref?.()}if("string"==typeof t&&/^\d+$/.test(t))return r[parseInt(t)];const s=i;return null!=s?.[t]?"function"==typeof s[t]?s[t].bind(s):s[t]:null!=r?.[t]?"function"==typeof r[t]?r[t].bind(r):r[t]:"function"==typeof e?.[t]?e?.[t].bind(s):e?.[t]}set(e,t,n){const r=this._getArray(e),i=r.length>0?r[this.index]:this._getSelected(e);return("string"!=typeof t||!/^\d+$/.test(t))&&(null==r[t]&&(!i||(i[t]=n,!0)))}has(e,t){const n=this._getArray(e),r=n.length>0?n[this.index]:this._getSelected(e);return"string"==typeof t&&/^\d+$/.test(t)&&null!=n[parseInt(t)]||null!=n[t]||r&&t in r}deleteProperty(e,t){const n=this._getArray(e),r=n.length>0?n[this.index]:this._getSelected(e);return!(!r||!(t in r))&&(delete r[t],!0)}ownKeys(e){const t=this._getArray(e),n=t.length>0?t[this.index]:this._getSelected(e),r=new Set;return t.forEach((e,t)=>r.add(t.toString())),Object.getOwnPropertyNames(t).forEach(e=>r.add(e)),n&&Object.getOwnPropertyNames(n).forEach(e=>r.add(e)),Array.from(r)}defineProperty(e,t,n){const r=this._getArray(e),i=r.length>0?r[this.index]:this._getSelected(e);return!!i&&(Object.defineProperty(i,t,n),!0)}apply(e,t,n){n[0]||=this.selector;const r=e?.apply?.(t,n);return this.selector=r||this.selector,new Proxy(e,this)}}const dr=(e,t=document.documentElement,n=0,r="children")=>{if((e?.element??e)instanceof HTMLElement){const t=e?.element??e;return cr.getOrInsert(t,new Proxy(t,new fr("",n,r)))}if("function"==typeof e){const t=e;return cr.getOrInsert(t,new Proxy(t,new fr("",n,r)))}return null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t||"symbol"==typeof t||void 0===t?null:lr?.get?.(t)?.has?.(e)?lr?.get?.(t)?.get?.(e):lr?.getOrInsert?.(t,new Map)?.getOrInsertComputed?.(e,()=>new Proxy(t,new fr(e,n,r)))},hr=e=>f(e)?[]:Array.isArray(e)?e.map((e,t)=>[t,e]):e instanceof Map?Array.from(e.entries()):e instanceof Set?Array.from(e.values()):Array.from(Object.entries(e)),pr=(e,t)=>{if(!t)return e;if("string"==typeof t)e.style.cssText=t;else if("string"==typeof t?.value)jn([t,"value"],t=>{e.style.cssText=t});else if("object"==typeof t||"function"==typeof t){const n=new WeakRef(t),r=new WeakRef(e);hr(t).forEach(([e,t])=>{At(r?.deref?.(),e,t)});const i=jn(t,(e,t)=>{At(r?.deref?.(),t,e),rr(r?.deref?.(),e,t,At,n?.deref?.())});Ut(t,Symbol.dispose,i),Ut(e,Symbol.dispose,i)}else console.warn("Invalid styles object:",t);return e},mr=(e=null,t,n=!0)=>{const r=[];return(i,s,o,a,l=null)=>{const c=ne(l)??ne(e),u=_r(i,t,s,c),f=_r(o,t,s,c);let d=ne(u?.parentElement??f?.parentElement)??c;if(!d)return;e!=d&&(e=d);const h=re(d,f);(["@add","@set","@delete"].indexOf(a||"")>=0||!a)&&(null==u&&null!=f||"@delete"==a?r?.push?.([Dr,[d,f,null,h>=0?h:s]]):null!=u&&null==f||"@add"==a?r?.push?.([Rr,[d,u,null,s]]):(null!=u&&null!=f||"@set"==a)&&r?.push?.([Tr,[d,u,null,h>=0?h:s,f]])),(a&&"@get"!=a&&["@add","@set","@delete"].indexOf(a)>=0||!a&&!n)&&(r?.forEach?.(([e,t])=>e?.(...t)),r?.splice?.(0,r?.length))}},gr=(e,t=[],n)=>{if(!t||!e)return e;n=(t?.[Yn]?t?.mapper:n)??n,t=(t?.[Yn]?t?.children:t)??t;const r=Array.from(t?.keys?.()||[]),i=(e=>((e instanceof Map||e instanceof Set)&&(e=Array.from(e?.values?.())),e))(t)?.map?.((t,i)=>_r(t,n,r?.[i]??i,e));return zr(e,i),i?.forEach?.(t=>Rr(e,t)),e};class yr{#k=document.createComment("");#E;#P;#A=null;#M=null;#N=!1;#O={};#j;#_=null;#C=null;makeUpdater(e=null){e&&(this.#M?.(),this.#M=null,this.#A=null,this.#A??=mr(e,null,!1),this.#M??=jn?.([this.#E,"value"],this._onUpdate.bind(this)))}get boundParent(){return this.#C}set boundParent(e){e instanceof HTMLElement&&ne(e)&&e!=this.#C&&(this.#C=e,this.makeUpdater(e),this.#j&&(null!=this.#j?.parentNode&&this.#j?.remove?.(),this.#j=null),this.element)}constructor(e,t=e=>e,n=null){this.#k=document.createComment(""),!i(t)||"function"!=typeof e&&"object"!=typeof e||i(e)||([e,t]=[t,e]),n||null==t||"object"!=typeof t||i(t)||(n=t),this.#_=(null!=t?"function"==typeof t?t:"object"==typeof t?t?.mapper:null:null)??(e=>e),this.#j=null,this.#E=(i(e)?e:t?.(e,-1))??e,this.#P=document.createDocumentFragment();const r=(ne(n)?null:n)||{};this.#O=Object.assign({removeNotExistsWhenHasPrimitives:!0,uniquePrimitives:!0,preMap:!0},r),this.boundParent=ne(this.#O?.boundParent)??ne(n)??null}$getNodeBy(e,t){return f(i(t)?t?.value:t)?Fr(t):_r(t,t==e?null:this.#_,-1,e)}$getNode(e,t=!0){const n=f(this.#E?.value)?Fr(this.#E):_r(this.#E?.value,e==this.#E?.value?null:this.#_,-1,e);return null!=n&&t&&(this.#j=n),n}get[Yn](){return!0}elementForPotentialParent(e){return Promise.try(()=>{const t=this.$getNode(e);if(t&&e&&!t?.contains?.(e)&&e!=t&&e instanceof HTMLElement&&ne(e))if(Array.from(e?.children).find(e=>e===t))this.boundParent=e;else{const n=new MutationObserver(r=>{for(const i of r)if("childList"===i.type&&i.addedNodes.length>0){Array.from(i.addedNodes||[]).find(e=>e===t)&&(this.boundParent=e,n.disconnect())}});n.observe(e,{childList:!0})}})?.catch?.(console.warn.bind(console)),this.element}get self(){const e=this.$getNode(this.boundParent)??this.#k,t=ne(e?.parentElement)?e?.parentElement:this.boundParent;return this.boundParent??=ne(t)??this.boundParent,queueMicrotask(()=>{const t=ne(e?.parentElement)?e?.parentElement:this.boundParent;this.boundParent??=ne(t)??this.boundParent}),t??this.boundParent??e}get element(){const e=this.$getNode(this.boundParent)??this.#k,t=ne(e?.parentElement)?e?.parentElement:this.boundParent;return this.boundParent??=ne(t)??this.boundParent,queueMicrotask(()=>{const t=ne(e?.parentElement)?e?.parentElement:this.boundParent;this.boundParent??=ne(t)??this.boundParent}),e}_onUpdate(e,t,n,r){if(f(n)&&f(e))return;let i=f(n)?this.#j:this.$getNodeBy(this.boundParent,n),s=this.$getNode(this.boundParent,!1)??this.#k;(i&&!i?.parentNode||this.#j?.parentNode)&&(i=this.#j??i);let o=this.#A?.(s,re(this.boundParent,i),i,r,this.boundParent);return null!=s&&s!=this.#j?this.#j=s:null==s&&i!=this.#j&&(this.#j=i),o}}const br=(e,t,n=null)=>{if(e instanceof HTMLElement)return dr(e);if(null==e)return document.createComment(":NULL:");const r=("function"==typeof t?t(e,-1):e)??e;if(f(r))return Fr(r);if(null!=r&&i(r)){if(f(r?.value))return null!=r?.value?Fr(r):document.createComment(":NULL:");if("object"==typeof r||"function"==typeof r)return Sr.getOrInsertComputed("object"!=typeof(s=e)&&"function"!=typeof s&&"symbol"!=typeof s||null==s?r:e,()=>new yr(e,t,n))}var s;return _r(r,null,-1,n)},vr=(e,t)=>(t&&t!=e&&!e?.contains?.(t)&&ne(t)?e?.elementForPotentialParent?.(t):null)??e?.element,wr=(e,t)=>vr(e,t)??(i(e)&&oe(e?.value)?e?.value:e),Sr=new WeakMap,xr=new WeakMap,kr=e=>f(e)?e:i(e)&&f(e?.value)?xr?.get(e):Sr?.get?.(e),Er=new WeakMap,Pr=(e,t)=>{if(Er?.has?.(e))return Er?.get?.(e);const n=document.createComment(":PROMISE:");return e?.then?.(r=>{const i="function"==typeof t?t(r):r;Er?.set?.(e,i),queueMicrotask(()=>{try{if("function"==typeof n?.replaceWith){if(!n?.isConnected)return;oe(i)&&n?.replaceWith?.(i)}else n?.isConnected&&oe(i)&&n?.parentNode?.replaceChild?.(n,i)}catch(e){if(!n?.isConnected)return;n?.remove?.()}})}),n},Ar=(e,t,n=-1,r)=>null!=t?Ar(t?.(e,n),null,-1):((e instanceof WeakRef||"function"==typeof e?.deref)&&(e=e.deref()),e instanceof Promise||"function"==typeof e?.then?Pr(e,e=>Ar(e,t,n)):oe(e)&&!e?.element||oe(e?.element)?e:i(e)?(e instanceof HTMLElement?dr:br)(e):"object"==typeof e&&null!=e?kr(e):"function"==typeof e?Ar(e?.(),t,n):f(e)&&null!=e?Fr(e):document.createComment(":NULL:")),Mr=(e,t)=>wr(e,t)??oe(e),Nr=e=>("object"==typeof e||"function"==typeof e||"symbol"==typeof e)&&null!=e,Or=new WeakSet,jr=(e,t,n=-1,r)=>{if((e instanceof WeakRef||"function"==typeof e?.deref)&&(e=e.deref()),e instanceof Promise||"function"==typeof e?.then)return Pr(e,e=>jr(e,t,n,r));if(Nr(e)&&!oe(e)){if(Sr.has(e)){const i=kr(e)??Ar(e,t,n);return Mr(i instanceof WeakRef?i?.deref?.():i,r)}const i=Ar(e,t,n);return t||null==i||i==e||!Nr(e)||oe(e)||Sr.set(e,i),Mr(i,r)}return((e,t,n=-1,r)=>null!=t?_r(t?.(e,n),null,-1,r):((e instanceof WeakRef||"function"==typeof e?.deref)&&(e=e.deref()),e instanceof Promise||"function"==typeof e?.then?Pr(e,e=>_r(e,t,n,r)):oe(e)&&!e?.element?e:oe(e?.element)?wr(e,r):i(e)?(e instanceof HTMLElement?dr:br)(e)?.element:"object"==typeof e&&null!=e?kr(e):"function"==typeof e?_r(e?.(),t,n,r):f(e)&&null!=e?Fr(e):document.createComment(":NULL:")))(e,t,n,r)},_r=(e,t,n=-1,r)=>{if(Nr(e)&&Or.has(e))return kr(e)??oe(e);Nr(e)&&Or.add(e);const i=jr(e,t,n,r);return Nr(e)&&Or.delete(e),i},Cr=(e,t,n=-1)=>{oe(t)&&null!=t&&t?.parentNode!=e&&(Number.isInteger(n)&&n>=0&&n<e?.childNodes?.length?e?.insertBefore?.(t,e?.childNodes?.[n]):e?.append?.(t))},Lr=(e,t,n=-1)=>{oe(t)&&e!=t&&t?.parentNode!=e&&(t=t?._onUpdate?vr(t,e):t,t?.parentNode||!oe(t)?e?.parentNode!=t?.parentNode&&oe(t)&&Cr(e,t,n):Cr(e,t,n))},Ir=(e,t,n,r=-1)=>{const i=t?.length??0;if(Array.isArray(Ft(t))||t instanceof Map||t instanceof Set){const i=(e=>((e instanceof Map||e instanceof Set)&&(e=Array.from(e?.values?.())),e))(t)?.map?.((t,r)=>_r(t,n,r,e))?.filter?.(e=>null!=e),s=document.createDocumentFragment();i?.forEach?.(e=>Lr(s,e)),Lr(e,s,r)}else{const s=_r(t,n,i,e);null!=s&&Lr(e,s,r)}},Rr=(e,t,n,r=-1)=>{null!=n&&(t=n?.(t,r)),t?.children&&Array.isArray(Ft(t?.children))&&(t?.[er]||t?.[Yn])?Ir(e,t?.children,null,r):Ir(e,t,null,r)},Wr=(e,t,n=-1)=>e?t?.parentNode==e&&null!=t?.parentNode?t:t?.parentNode!=e&&!ne(t?.parentNode)&&Number.isInteger(n)&&n>=0&&Array.from(e?.childNodes||[])?.length>n?e.childNodes?.[n]:t:t,$r=(e,t,n)=>{if(t?.parentNode)if(t?.parentNode==n?.parentNode)if(e=t?.parentNode??e,t.nextSibling===n)e.insertBefore(n,t);else if(n.nextSibling===t)e.insertBefore(t,n);else{const r=t.nextSibling;e.replaceChild(n,t),e.insertBefore(t,r)}else t?.replaceWith?.(n)},Tr=(e,t,n,r=-1,i)=>{null!=n&&(t=n?.(t,r)),e||(e=i?.parentNode);const s=Wr(e,_r(i,n,r),r);if(s instanceof Text&&"string"==typeof t)s.textContent=t;else if(null!=t){const n=_r(t);s?.parentNode==e&&s!=n&&s instanceof Text&&n instanceof Text?s?.textContent!=n?.textContent&&(s.textContent=n?.textContent?.trim?.()??""):s?.parentNode==e&&s!=n&&null!=s&&null!=s?.parentNode?$r(e,s,n):s?.parentNode==e&&null!=s?.parentNode||Rr(e,n,null,r)}},Dr=(e,t,n,r=-1)=>{const i=_r(t,n);if(e||(e=i?.parentNode),Array.from(e?.childNodes??[])?.length<1)return;const s=Wr(e,i,r);return s?.parentNode==e&&s?.remove?.(),e},zr=(e,t,n)=>{const r=Array.from(Ft(t)||[])?.map?.((e,t)=>_r(e,n,t));return Array.from(e.childNodes).forEach(e=>{r?.find?.(t=>!h?.(t,e))||e?.remove?.()}),e},Fr=e=>f(e)&&null!=e?document.createTextNode(e):null==e?document.createComment(":NULL:"):xr.getOrInsertComputed(e,()=>{const t=document.createTextNode(((i(e)?e?.value:e)??"")?.trim?.()??"");return jn([e,"value"],e=>{const n=""+(e?.innerText??e?.textContent??e?.value??e??"");t.textContent=n?.trim?.()??""}),t});class qr{#L;#P;#_;#I;#R;#A=null;#M=null;#O={};#k=document.createComment("");#W=new Map;#C=null;makeUpdater(e=null){e&&(this.#M?.(),this.#M=null,this.#A=null,this.#A??=mr(e,this.mapper.bind(this),Array.isArray(this.#L)),this.#M??=Ln?.(this.#L,this._onUpdate.bind(this)))}get boundParent(){return this.#C}set boundParent(e){e instanceof HTMLElement&&ne(e)&&e!=this.#C&&(this.#C=e,this.makeUpdater(e),this.element)}constructor(e,t=e=>e,n=null){!O(t)||"function"!=typeof e&&"object"!=typeof e||O(e)||([e,t]=[t,e]),n||null==t||"object"!=typeof t||O(t)||(n=t),this.#k=document.createComment(""),this.#I=new WeakMap,this.#R=new Map,this.#_=(null!=t?"function"==typeof t?t:"object"==typeof t?t?.mapper:null:null)??(e=>e),this.#L=(O(e)?e:e?.iterator??t?.iterator??e)??[],this.#P=document.createDocumentFragment();const r=(ne(n)?null:n)||{};this.#O=Object.assign({removeNotExistsWhenHasPrimitives:!0,uniquePrimitives:!0,preMap:!0},r),this.boundParent=ne(this.#O?.boundParent)??ne(n)??null,this.boundParent||this.#O.preMap&&(gr(this.#P,this.#L,this.mapper.bind(this)),0===this.#P.childNodes.length&&this.#P.appendChild(this.#k))}get[Yn](){return!0}elementForPotentialParent(e){return Promise.try(()=>{const t=_r(this.#L?.[0],this.mapper.bind(this),0);if(t&&e&&!t?.contains?.(e)&&e!=t&&e instanceof HTMLElement&&ne(e))if(Array.from(e?.children).find(e=>e===t))this.boundParent=e;else{const n=new MutationObserver(r=>{for(const i of r)if("childList"===i.type&&i.addedNodes.length>0){Array.from(i.addedNodes||[]).find(e=>e===t)&&(this.boundParent=e,n.disconnect())}});n.observe(e,{childList:!0})}})?.catch?.(console.warn.bind(console)),this.element}get children(){return((e=this.#L)instanceof Map||e instanceof Set)&&(e=Array.from(e?.values?.())),e;var e}get self(){const e=_r(this.#L?.[0],this.mapper.bind(this),0),t=ne(e?.parentElement)?e?.parentElement:this.boundParent;return this.boundParent??=ne(t)??this.boundParent,queueMicrotask(()=>{const t=ne(e?.parentElement)?e?.parentElement:this.boundParent;this.boundParent??=ne(t)??this.boundParent}),t??this.boundParent??gr(this.#P,this.#L,this.mapper.bind(this))}get element(){const e=this.#P?.childNodes?.length>0?this.#P:_r(this.#L?.[0],this.mapper.bind(this),0),t=ne(e?.parentElement)?e?.parentElement:this.boundParent;return this.boundParent??=ne(t)??this.boundParent,queueMicrotask(()=>{const t=ne(e?.parentElement)?e?.parentElement:this.boundParent;this.boundParent??=ne(t)??this.boundParent}),e}get mapper(){return(...e)=>null==e?.[0]?null:e?.[0]instanceof Node?e?.[0]:e?.[0]instanceof Promise||"function"==typeof e?.[0]?.then?null:(null==e?.[1]||e?.[1]<0||"number"!=typeof e?.[1]||!j(e?.[1]))&&(Array.isArray(this.#L)||this.#L instanceof Set)?void 0:null==e?.[0]||"object"!=typeof e?.[0]&&"function"!=typeof e?.[0]&&"symbol"!=typeof e?.[0]?null!=e?.[0]&&this.#L instanceof Set?this.#R.getOrInsert(e?.[0],this.#_(...e)):null!=e?.[0]&&this.#L instanceof Map?"object"==typeof e?.[0]||"function"==typeof e?.[0]||"symbol"==typeof e?.[0]?this.#I.getOrInsert(e?.[0],this.#_(...e)):"object"==typeof e?.[1]||"function"==typeof e?.[1]||"symbol"==typeof e?.[1]?this.#I.getOrInsert(e?.[1],this.#_(...e)):this.#R.getOrInsert(e?.[1],this.#_(...e)):null!=e?.[0]?this.#O?.uniquePrimitives&&f(e?.[0])?this.#R.getOrInsert(e?.[0],this.#_(...e)):this.#_(...e):void 0:this.#I.getOrInsert(e?.[0],this.#_(...e))}_onUpdate(e,t,n,r=""){if("@add"==r||null!=e&&null==n){if(this.#W.has(t))return;const e=vn(this.#L,t),n=br(e,(...e)=>((null==e?.[1]||e?.[1]<0)&&(e[1]=t??e?.[1]),this.mapper(...e)));this.#W.set(t,n),Rr(this.boundParent,n,null,t)}if("@delete"==r||null==e&&null!=n){const e=this.#W.get(t);e&&Dr(this.boundParent,e,null,t),this.#W.delete(t)}}*[Symbol.iterator](){let e=0;if(this.#L)for(let t of this.#L)yield this.mapper(t,e++)}}const Hr=(e,t,n=null)=>new qr(e,t,n),Br=e=>{if("string"==typeof e){const t=((e,t=document.documentElement)=>{if(null==e?.value)return dr(e,t);const n=dr(e?.value,t);return jn(e,(e,t)=>n?._updateSelector(e)),n})((e=>{if(":fragment:"==e)return document.createDocumentFragment();const t=document.createElement.bind(document);for(var n,r=t("div"),i="";e&&(n=e.match(se));)n[1]&&(r=t(n[1])),n[2]&&(r.id=n[2]),n[3]&&(i+=" "+n[3]),n[4]&&r.setAttribute(n[4],n[7]||""),e=e.slice(n[0].length);return i&&(r.className=i.slice(1)),r})(e));return t?.element??t}return e instanceof HTMLElement||e instanceof Element||e instanceof DocumentFragment||e instanceof Document||e instanceof Node?e:null},Vr=(e,t={},r)=>{const i=_r("string"==typeof e?Br(e):e,null,-1);return i&&r&&Hr(r,e=>e,i),i&&t&&(null!=t.ctrls&&((e,t)=>{if(t)for(let n of t)nr(e,n)})(i,t.ctrls),null!=t.attributes&&((e,t)=>{if(!t)return e;const n=new WeakRef(t),r=new WeakRef(e);if("object"==typeof t||"function"==typeof t){hr(t).forEach(([e,t])=>{Mt(r?.deref?.(),e,t)});const i=jn(t,(e,t)=>{Mt(r?.deref?.(),t,e),rr(r?.deref?.(),e,t,Mt,n,!0)});Ut(t,Symbol.dispose,i),Ut(e,Symbol.dispose,i)}else console.warn("Invalid attributes object:",t)})(i,t.attributes),null!=t.properties&&((e,t)=>{if(!t)return e;const n=new WeakRef(t),r=new WeakRef(e);hr(t).forEach(([e,t])=>{Et(r?.deref?.(),e,t)});const i=jn(t,(e,t)=>{const i=r.deref();i&&("checked"==t?te(i,e):ir(i,t,e,Et,n?.deref?.(),!0))});Ut(t,Symbol.dispose,i),Ut(e,Symbol.dispose,i),e.addEventListener("change",e=>{const n=dr("input",e?.target);null!=n?.value&&h(n?.value,t?.value)&&(t.value=n?.value),null!=n?.valueAsNumber&&h(n?.valueAsNumber,t?.valueAsNumber)&&(t.valueAsNumber=n?.valueAsNumber),null!=n?.checked&&h(n?.checked,t?.checked)&&(t.checked=n?.checked)})})(i,t.properties),null!=t.classList&&((e,t)=>{if(!t)return e;const n=new WeakRef(e);hr(t).forEach(([t,n])=>{const r=e;void 0===n||null==n?r.classList.contains(n)&&r.classList.remove(n):r.classList.contains(n)||r.classList.add(n)});const r=Ln(t,e=>{const t=n?.deref?.();t&&(void 0===e||null==e?t.classList.contains(e)&&t.classList.remove(e):t.classList.contains(e)||t.classList.add(e))});Ut(t,Symbol.dispose,r),Ut(e,Symbol.dispose,r)})(i,t.classList),null!=t.behaviors&&st(i,t.behaviors),null!=t.dataset&&((e,t)=>{if(!t)return e;const n=new WeakRef(t),r=new WeakRef(e);if("object"==typeof t||"function"==typeof t){hr(t).forEach(([e,t])=>{Pt(r?.deref?.(),e,t)});const i=jn(t,(e,t)=>{Pt(r?.deref?.(),t,e),rr(r?.deref?.(),e,t,Pt,n)});Ut(t,Symbol.dispose,i),Ut(e,Symbol.dispose,i)}else console.warn("Invalid dataset object:",t)})(i,t.dataset),null!=t.stores&&((e,t)=>{if(e&&t){for(const[n,r]of t.entries())lt(e,n,r)}})(i,t.stores),null!=t.mixins&&((e,t)=>{if(e){if(t){const n=ft?.get?.(e)??new WeakSet;ft?.has?.(e)||ft?.set?.(e,n),[...t?.values?.()||[]].map(t=>ut(e,t,n))}}})(i,t.mixins),null!=t.style&&pr(i,t.style),null!=t.aria&&((e,t)=>{if(!t)return e;const n=new WeakRef(t),r=new WeakRef(e);if("object"==typeof t||"function"==typeof t){hr(t).forEach(([e,t])=>{Mt(r?.deref?.(),"aria-"+(e?.toString?.()||e||""),t)});const i=jn(t,(e,t)=>{Mt(r?.deref?.(),"aria-"+(t?.toString?.()||t||""),e),rr(r,e,t,Mt,n,!0)});Ut(t,Symbol.dispose,i),Ut(e,Symbol.dispose,i)}else console.warn("Invalid ARIA object:",t)})(i,t.aria),null!=t.is&&ir(i,"is",t.is,Mt,t,!0),null!=t.role&&ir(i,"role",t.role,Et,t),null!=t.slot&&ir(i,"slot",t.slot,Et,t),null!=t.part&&ir(i,"part",t.part,Mt,t,!0),null!=t.name&&ir(i,"name",t.name,Mt,t,!0),null!=t.type&&ir(i,"type",t.type,Mt,t,!0),null!=t.icon&&ir(i,"icon",t.icon,Mt,t,!0),null!=t.inert&&ir(i,"inert",t.inert,Mt,t,!0),null!=t.hidden&&ir(i,"hidden",t.visible??t.hidden,kt,t),null!=t.on&&((e,t)=>{if(t){let r=t;r=t instanceof Map?[...t.entries()]:[...Object.entries(t)],r.map(([t,r])=>((n(r)?[...r]:r)??[])?.map?.(n=>ce(e,t,n)))}})(i,t.on),null!=t.rules&&t.rules.forEach?.(e=>(async(e,t)=>{const n=await(t?.(e));return pr(e,n)})(i,e))),dr(i)};function Ur(e,t=4){let n=0;for(let r=0;r<e.length;r++){const i=e[r];if(" "===i)n+=1;else{if("\t"!==i)break;n+=t-n%t}}return n}function Jr(e,t,n=4){let r=0,i=0;for(;i<e.length&&r<t;){const t=e[i];if(" "===t)r+=1,i++;else{if("\t"!==t)break;r+=n-r%n,i++}}return e.slice(i)}function Xr(e,t){for(e=Math.abs(e),t=Math.abs(t);t;)[e,t]=[t,e%t];return e}function Kr(e,t,n="floor",r=4){if(!t||t<=1)return e;const i=Ur(e,r);if(0===i)return e;let s;s="nearest"===n?Math.round(i/t)*t:"ceil"===n?Math.ceil(i/t)*t:Math.floor(i/t)*t;const o=i-s;return o>0?Jr(e,o,r):o<0?" ".repeat(-o)+e:e}function Qr(e,{normalizeIndent:t=!0,ignoreFirstLine:n=!0,tabWidth:r=4,alignStep:i="auto",quantize:s="none"}={}){if(!e||"string"!=typeof e||-1===e.indexOf("<"))return e;e=e?.trim?.();const o=[],a=e.replace(/<(pre|textarea|script|style)\b[\s\S]*?<\/\1>/gi,e=>`\0${o.push(e)-1}\0`),l=(c=a).includes("\r\n")?"\r\n":c.includes("\r")?"\r":"\n";var c;const u=a.split(/\r\n|\n|\r/),f=n?1:0,{min:d,step:h}=function(e,{ignoreFirstLine:t=!0,tabWidth:n=4}={}){const r=e.split(/\r\n|\n|\r/),i=[];for(let u=t?1:0;u<r.length;u++){const e=r[u];""!==e.trim()&&i.push(Ur(e,n))}if(0===i.length)return{min:0,step:0,allEven:!0,allDiv4:!0};const s=Math.min(...i),o=i.map(e=>e-s).filter(e=>e>0);let a=0;for(const u of o)a=a?Xr(a,u):u;const l=i.every(e=>e%2==0),c=i.every(e=>e%4==0);return a=0===a?c?4:l?2:1:a%4==0?4:a%2==0?2:1,{min:s,step:a,allEven:l,allDiv4:c}}(a,{ignoreFirstLine:n,tabWidth:r});if(t&&d>0)for(let y=f;y<u.length;y++){const e=u[y];""!==e.trim()&&(u[y]=Jr(e,d,r))}let p="auto"===i?h:i;if("none"!==s&&p>1)for(let y=f;y<u.length;y++){const e=u[y];""!==e.trim()&&(u[y]=Kr(e,p,s,r))}let m=u.join(l);m=function(e,{scope:t="void-only"}={}){if(!e||"string"!=typeof e)return e;const n=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]);let r="",i=0;const s=e.length;for(;i<s;){const o=e[i];if("<"!==o){r+=o,i++;continue}if(e.startsWith("\x3c!--",i)){const t=e.indexOf("--\x3e",i+4);if(-1===t){r+=e.slice(i);break}r+=e.slice(i,t+3),i=t+3;continue}if("!"===e[i+1]||"?"===e[i+1]){const t=e.indexOf(">",i+2);if(-1===t){r+=e.slice(i);break}r+=e.slice(i,t+1),i=t+1;continue}if("/"===e[i+1]){const t=e.indexOf(">",i+2);if(-1===t){r+=e.slice(i);break}r+=e.slice(i,t+1),i=t+1;continue}let a=i+1;for(;a<s&&/\s/.test(e[a]);)a++;const l=a;for(;a<s&&/[A-Za-z0-9:-]/.test(e[a]);)a++;const c=e.slice(l,a).toLowerCase();let u=a,f=null;for(;u<s;){const t=e[u];if(f)t===f&&(f=null),u++;else if('"'===t||"'"===t)f=t,u++;else{if(">"===t)break;u++}}if(u>=s){r+=e.slice(i);break}const d=e.slice(i,u+1);if(!("all"===t||"input-only"===t&&"input"===c||"void-only"===t&&n.has(c))){r+=d,i=u+1;continue}let h="",p=null,m=!1;for(let e=0;e<d.length;e++){const t=d[e];p?(h+=t,t===p&&(p=null)):'"'!==t&&"'"!==t?"\n"!==t&&"\r"!==t&&"\t"!==t&&" "!==t?(h+=t,m=!1):m||(h+=" ",m=!0):(p=t,h+=t,m=!1)}h=h.replace(/\s*(\/?)\s*>$/,"$1>"),r+=h,i=u+1}return r}(m,{scope:"void-only"}),m=function(e,{preserveCommentGaps:t=!0}={}){if(!e||"string"!=typeof e)return e;if(!t)return e.replace(/>\s+</g,"><");const n="";let r=e;return r=r.replace(/-->([^\S\r\n]+)<!--/g,`--\x3e${n}\x3c!--`).replace(/-->([^\S\r\n]+)</g,`--\x3e${n}<`).replace(/>([^\S\r\n]+)<!--/g,`>${n}\x3c!--`),r=r.replace(/>\s+</g,"><"),r=r.replace(new RegExp(n,"g")," "),r}(m);const g=m.replace(/\u0000(\d+)\u0000/g,(e,t)=>o[+t]);return g?.trim?.()}function Zr(e,...t){const n=t?.[0]??"",r=e.indexOf(n);if(r<0){const e=t?.join?.("")??"";return/<([A-Za-z\/!?])[\w\W]*$/.test(e)&&!/>[\w\W]*$/.test(e)}const i=e.slice(0,r+1).join("");let s=!1,o=!1,a=!1;for(let l=0;l<i.length;l++){const e=i[l],t=i[l+1]??"";if(s)if(o||a){if(a){if('"'===e){a=!1;continue}}else if(o&&"'"===e){o=!1;continue}}else{if('"'===e){a=!0;continue}if("'"===e){o=!0;continue}if(">"===e){s=!1;continue}}else"<"===e&&/[A-Za-z\/!?]/.test(t)&&(s=!0,o=!1,a=!1)}return s}const Gr=new WeakMap,Yr=e=>{const t=e.match(/^([a-zA-Z0-9\-]+)?(?:#([a-zA-Z0-9\-_]+))?((?:\.[a-zA-Z0-9\-_]+)*)$/);if(!t)return{tag:e,id:null,className:null};const[,n="div",r,i]=t;return{tag:n,id:r,className:i?i.replace(/\./g," ").trim():null}},ei=e=>{if("string"!=typeof e||!e?.trim?.())return-1;const t=e.match(/^#{(\d+)}$/);return t?parseInt(t?.[1]??"-1"):-1};function ti(e,...t){return e?.at?.(0)?.trim?.()?.startsWith?.("<")&&e?.at?.(-1)?.trim?.()?.endsWith?.(">")?function({createElement:e=null}={}){return function(e,...t){let n=[];const r=[],i=[];for(let h=0;h<e.length;h++)if(n.push(e?.[h]||""),h<t.length)if(e[h]?.trim()?.endsWith?.("<")){const e=Yr(t?.[h]);n.push(e.tag||"div"),e.id&&n.push(` id="${e.id}"`),e.className&&n.push(` class="${e.className}"`)}else{const s=Zr(e,e?.[h]||"",e?.[h+1]||""),o=/[\w:\-\.\]]\s*=\s*$/.test(e[h]?.trim?.()??"")||e[h]?.trim?.()?.endsWith?.("="),a=e[h]?.trim?.()?.match?.(/['"]$/),l=e[h+1]?.trim?.()?.match?.(/^['"]/)??a,c=a&&l;if((o||c)&&s){const e=o&&!c,r=i.length;n.push(("string"==typeof t?.[h]?""!=t?.[h]?.trim?.():null!=t?.[h])?e?`"#{${r}}"`:`#{${r}}`:""),i.push(t?.[h])}else if(!s){const e=r.length;n.push(("string"==typeof t?.[h]?""!=t?.[h]?.trim?.():null!=t?.[h])?f(t?.[h])?String(t?.[h])?.trim?.():`\x3c!--o:${e}--\x3e`:""),r.push(t?.[h])}}const s=Qr(n.join("").trim()),o=(new DOMParser).parseFromString(s,"text/html"),a=o instanceof HTMLTemplateElement||o?.matches?.("template"),l=(a?o:o.querySelector("template"))?.content??o.body??o,c=document.createDocumentFragment(),u=Array.from(l.childNodes)?.filter(e=>e instanceof Node).map(e=>(ni(e?.parentNode)||e?.parentNode==c||(e?.remove?.(),null!=e&&c?.append?.(e)),e));let d=[];return u.forEach(e=>{const t=e?document.createTreeWalker(e,NodeFilter.SHOW_ALL,null):null;do{const e=t?.currentNode;d.push(e)}while(t?.nextNode?.())}),d?.filter?.(e=>e?.nodeType==Node.COMMENT_NODE)?.forEach?.(e=>{if(e?.nodeValue?.trim?.()?.includes?.("o:")&&Number.isInteger(parseInt(e?.nodeValue?.trim?.()?.slice?.(2)??"-1"))){let t=r?.[parseInt(e?.nodeValue?.trim?.()?.slice?.(2)??"-1")??-1];if(null==t||void 0===t||""==("string"==typeof t?t:null)?.trim?.())e?.remove?.();else{const n=e?.parentNode;Array.isArray(t)||t instanceof Map||t instanceof Set?ri?.(n,e,t=Hr(t,null,n)):null!=t&&ri?.(n,e,t)}}e?.isConnected&&e?.remove?.()}),d?.filter(e=>e.nodeType==Node.ELEMENT_NODE)?.map?.(e=>{((e,t)=>{if(!e)return e;if(null!=e){const n=[],r=t=>{const r=Array.from(e?.attributes||[]).find(e=>e.name==t&&e.value?.includes?.("#{"));if(r){const e=[t,ei(r?.value)??-1];return n.push(e),e}return[t,-1]};["dataset","style","classList","visible","aria","value","ref"].forEach(e=>r(e));const i=(t,n)=>{const r=[];for(const i of Array.from(e?.attributes||[])){const e=Array.isArray(t)?t?.some?.(e=>""==e):""==t,s=(Array.isArray(t)?t.find(e=>i.name?.startsWith?.(e)):t=i.name?.startsWith?.(t)?t:"")??"",o=i.name.trim()?.replace?.(s,""),a=i.value?.includes?.("#{")&&i.value?.includes?.("}"),l=ei(i?.value),c=Array.isArray(n)?n?.some?.(e=>o?.startsWith?.(e)):n==o;a&&(""==s&&e||""!=s)&&l>=0&&!c&&r.push([o,l])}return r},s=(t,n,r="")=>{const i=new Map;for(const s of Array.from(e?.attributes||[])){const e=Array.isArray(t)?t?.some?.(e=>""==e):""==t,o=(Array.isArray(t)?t.find(e=>s.name?.startsWith?.(e)):t=s.name?.startsWith?.(t)?t:"")??"",a=s.name.trim()?.replace?.(o,""),l=s.value?.includes?.("#{")&&s.value?.includes?.("}"),c=ei(s?.value)??-1,u=Array.isArray(n)?n?.some?.(e=>a?.startsWith?.(e)):n==a,f=(Array.isArray(r)?r?.some?.(e=>s.name===e):s.name===r)&&""!==r;if(l&&(""==o&&e||""!=o||f)&&c>=0&&!u){const e=f?s.name:a;i.has(e)||i.set(e,[]),i.get(e)?.push(c)}}return Array.from(i.entries())};let o=i(["attr:",""],["ref"]),a=i(["prop:"],[]),l=s(["on:","@"],[],""),c=s(["ref:"],[],["ref"]);const u=Object.fromEntries(n?.filter?.(e=>e[1]>=0)?.map?.(e=>[e[0],t?.[e[1]]??null])??[]);u.attributes=Object.fromEntries(o?.filter?.(e=>e[1]>=0)?.map?.(e=>[e[0],t?.[e[1]]??null])??[]),u.properties=Object.fromEntries(a?.filter?.(e=>e[1]>=0)?.map?.(e=>[e[0],t?.[e[1]]??null])??[]),u.on=Object.fromEntries(l?.filter?.(e=>e[1]?.some?.(e=>e>=0))?.map?.(e=>[e[0],e[1]?.map?.(e=>t?.[e]).filter(e=>null!=e)])??[]);const f=n?.find?.(e=>"ref"==e[0]&&e[1]>=0)?.[1];if(null!=f&&f>=0){const n=t?.[f];"function"==typeof n?n?.(e):null!=n&&"object"==typeof n&&(n.value=e)}c?.forEach?.(n=>{const r=n?.[1]?.filter?.(e=>null!=e&&e>=0)?.map?.(e=>t?.[e])?.filter?.(e=>null!=e);r?.forEach?.(t=>{"function"==typeof t?t?.(e):null!=t&&"object"==typeof t&&(t.value=e)})}),(e=>{if(null==e)return;const t=e=>o?.some?.(t=>t[0]==e)||e?.startsWith?.("ref:")||"ref"==e;for(const n of Array.from(e?.attributes||[]))(n.value?.includes?.("#{")&&n.value?.includes?.("}")&&t(n.name)||n.value?.startsWith?.("#{")&&n.value?.endsWith?.("}")||n.name?.includes?.(":")||n.name?.includes?.("ref:")||"ref"==n.name)&&e?.removeAttribute?.(n.name)})(e),Gr?.has?.(e)||Gr?.set?.(e,Vr(e,u))}Gr?.get?.(e)})(e,i)}),Array.from(c?.childNodes)?.length>1?c:c?.childNodes?.[0]}}({createElement:null})(e,...t):((e,...t)=>{const n=[];for(let i=0;i<e?.length;i++){const r=e?.[i],s=t?.[i];n.push(ii(r)),n.push(s)}if(n?.length<=1)return _r(n?.[0],null,0);const r=document.createDocumentFragment();return r.append(...n?.filter?.(e=>null!=e)?.map?.((e,t)=>_r(e,null,t))?.filter?.(e=>null!=e)),r})(e,...t)}const ni=e=>null!=e&&e instanceof HTMLElement&&!(e instanceof DocumentFragment||e instanceof HTMLBodyElement&&e!=document.body),ri=(e,t,n)=>{null!=n&&(n.boundParent=e);let r=_r(n,null,-1,e);oe(r)?r?.parentNode==e||r?.contains?.(e)||null==r||t?.replaceWith?.(i(r)&&("object"==typeof r?.value||"function"==typeof r?.value)&&oe(r?.value)?r?.value:r):t?.remove?.()};const ii=(e,...t)=>{if("string"==typeof e){if(e?.trim?.()?.startsWith?.("<")&&e?.trim?.()?.endsWith?.(">")){const t=(new DOMParser).parseFromString(Qr(e?.trim?.()),"text/html"),n=t.querySelector("template")?.content??t.body;if(n instanceof HTMLBodyElement){const e=document.createDocumentFragment();return e.append(...Array.from(n.childNodes??[])),Array.from(e.childNodes)?.length>1?e:e?.childNodes?.[0]}if(n instanceof DocumentFragment)return n;if(n?.childNodes?.length>1){const e=document.createDocumentFragment();return e.append(...Array.from(n?.childNodes??[])),e}return n?.childNodes?.[0]??new Text(e)}return new Text(e)}return"function"==typeof e?ii(e?.()):Array.isArray(e)&&t?ti(e,...t):e instanceof Node?e:_r(e)};wn({index:0,length:0,action:"MANUAL",view:"",canBack:!1,canForward:!1,entries:[]}),"undefined"!=typeof history&&history.pushState.bind(history),"undefined"!=typeof history&&history.replaceState.bind(history),"undefined"!=typeof history&&history.go.bind(history),"undefined"!=typeof history&&history.forward.bind(history),"undefined"!=typeof history&&history.back.bind(history);const si=new Map;let oi={};const ai=()=>`closeable-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,li=e=>{const t=e.id||ai(),n=Object.assign(e,{id:t});return null==n?.hashId&&(n.hashId=t),si.set(t,n),oi.debug&&console.log("[BackNav] Registered:",t,"priority:",e.priority),()=>ci(t)},ci=e=>{const t=si.delete(e);return oi.debug&&t&&console.log("[BackNav] Unregistered:",e),t},ui=(e,t,n)=>li({id:`sidebar-${e.id||ai()}`,priority:60,element:new WeakRef(e),group:"sidebar",isActive:()=>{const e=t.value;return!!e&&"false"!==String(e)},close:()=>(t.value=!1,n?.(),!1)}),fi=new Map,di=(e,t,n,r)=>{if(null!=n)return fi.has(n)&&(fi.get(n)?.[0]?.(),fi.delete(n)),fi.getOrInsertComputed?.(n,()=>{const i=(e??localStorage).getItem(n)??r?.value??r,s=L(t)?t:mn(i);s.value??=i;const o=new WeakRef(s),l=jn([s,"value"],t=>{a(o?.deref?.(),()=>{(e??localStorage).setItem(n,t)})}),c=t=>{t.storageArea==(e??localStorage)&&t.key==n&&h(s.value,t.newValue)&&(s.value=t.newValue)};return addEventListener("storage",c),[()=>{l?.(),removeEventListener("storage",c)},s]})},hi=(e,t,n)=>{if(null==n)return;const r=e??matchMedia(n),i=r?.matches||!1,s=L(t)?t:gn(i);s.value??=i;const o=e=>s.value=e.matches;return r?.addEventListener?.("change",o),()=>{r?.removeEventListener?.("change",o)}},pi=(e,t,n)=>{if(null==e)return;const r=n?.value??("object"!=typeof n?n:null)??null==e?.getAttribute?.("data-hidden"),i=L(t)?t:gn(!!r),s=ir(e,"data-hidden",i,kt),o=[e=>{i.value="u2-hidden"!=e?.type},{passive:!0}],a=new WeakRef(e);return e?.addEventListener?.("u2-hidden",...o),e?.addEventListener?.("u2-appear",...o),()=>{const e=a?.deref?.();s?.(),e?.removeEventListener?.("u2-hidden",...o),e?.removeEventListener?.("u2-appear",...o)}},mi=(e,t,n,r)=>{const i=e?.getAttribute?.(n)??("boolean"==typeof r?r?"":null:C(r));if(!e)return;const s=L(t)?t:mn(i);return I(s)&&!o(s.value)&&(s.value=o(i)??s.value??""),ir(e,n,s,Mt,null,!0)},gi=(e,t,n,r)=>{const i="border-box"==r?e?.["inline"==n?"offsetWidth":"offsetHeight"]:e?.["inline"==n?"clientWidth":"clientHeight"]-((e,t)=>"inline"==t?rt(e,"padding-inline-start")+rt(e,"padding-inline-end"):rt(e,"padding-block-start")+rt(e,"padding-block-end"))(e,n),s=L(t)?t:pn(i);I(s)&&(s.value||=(i??s.value)||1);const o=new ResizeObserver(e=>{I(s)&&("border-box"==r&&(s.value="inline"==n?e[0].borderBoxSize[0].inlineSize:e[0].borderBoxSize[0].blockSize),"content-box"==r&&(s.value="inline"==n?e[0].contentBoxSize[0].inlineSize:e[0].contentBoxSize[0].blockSize),"device-pixel-content-box"==r&&(s.value="inline"==n?e[0].devicePixelContentBoxSize[0].inlineSize:e[0].devicePixelContentBoxSize[0].blockSize))});return(e?.element??e?.self??e)instanceof HTMLElement&&o?.observe?.(e?.element??e?.self??e,{box:r}),()=>o?.disconnect?.()},yi=(e,t,n,r)=>{const i=e instanceof WeakRef?e:new WeakRef(e);null!=r&&"number"==typeof(r?.value??r)&&e?.scrollTo?.({["block"==n?"top":"left"]:r?.value??r});const s=e?.["block"==n?"scrollTop":"scrollLeft"],o=L(t)?t:pn(s||0);I(o)&&(o.value||=(s??o.value)||1),o.value||=(s??o.value)||0;const a=jn([o,"value"],t=>{Math.abs(("block"==n?e?.scrollTop:e?.scrollLeft)-(o?.value??o))>.001&&e?.scrollTo?.({["block"==n?"top":"left"]:o?.value??o})}),l=[e=>{o.value=("block"==n?i?.deref?.()?.scrollTop:i?.deref?.()?.scrollLeft)||0},{passive:!0}];return e?.addEventListener?.("scroll",...l),()=>{i?.deref?.()?.removeEventListener?.("scroll",...l),a?.()}},bi=(e,t)=>{const n=!!e?.checked||!1,r=L(t)?t:gn(n);I(r)&&(r.value??=n);const i=nr(e,(e=>(e=P(e),t=>{const n=_(e);null!=n&&(n.value=dr('input[type="radio"], input[type="checkbox"], input:checked',t?.target)?.checked??n?.value)}))(r)),s=jn([r,"value"],t=>{e&&e?.checked!=t&&te(e,t)});return()=>{s?.(),i?.()}},vi=(e,t)=>{if(f(e))return;if(!e||!(e instanceof Node||e?.element instanceof Node))return;const n=e?.value??"",r=L(t)?t:mn(n);I(r)&&(r.value??=n);const i=nr(e,(e=>(e=P(e),t=>{const n=_(e);null!=n&&h(t?.target?.value,n?.value)&&(n.value=(dr("input",t?.target)?.value??n?.value)||"")}))(r)),s=new WeakRef(r),o=jn([r,"value"],t=>{e&&h(e?.value,t?.value??t)&&a(A(s),()=>{e.value=E(A(s))??E(t),e?.dispatchEvent?.(new Event("change",{bubbles:!0}))})});return()=>{o?.(),i?.()}},wi=(e,t)=>{if(f(e))return;if(!e||!(e instanceof Node||e?.element instanceof Node))return;const n=Number(e?.valueAsNumber)||0,r=L(t)?t:pn(n);I(r)&&(r.value??=n);const i=nr(e,(e=>(e=P(e),t=>{const n=_(e);null!=n&&h(n?.value,t?.target?.valueAsNumber)&&(n.value=Number(dr("input",t?.target)?.valueAsNumber||0)??0)}))(r)),s=jn([r,"value"],t=>{e&&("range"==e.type||"number"==e.type)&&"number"==typeof e?.valueAsNumber&&h(e?.valueAsNumber,t)&&(e.valueAsNumber=Number(t),e?.dispatchEvent?.(new Event("change",{bubbles:!0})))});return()=>{s?.(),i?.()}},Si=(e,t,n,...r)=>{if(n==mi||n==Mt){const t=Zn?.get?.(e)?.get?.(Mt)?.get?.(r[0])?.[0];if(t)return t}const i=(t??vn)?.(null),s=n?.(e,i,...r);return s&&i&&Ut(i,Symbol.dispose,s),i},xi=(e,...t)=>Si(e,mn,mi,...t),ki=(e,...t)=>Si(e,mn,vi,...t),Ei=(e,...t)=>Si(e,pn,wi,...t),Pi=(...e)=>{if(fi.has(e[0]))return fi.get(e[0])?.[1];const t=di,n=mn,r=(n??vn)?.(null),i=t?.(null,r,...e),[s,o]=i;return s&&r&&Ut(r,Symbol.dispose,s),r},Ai=(e,...t)=>Si(e,pn,gi,...t),Mi=(e,...t)=>Si(e,gn,bi,...t),Ni=(e,...t)=>Si(e,pn,yi,...t),Oi=(...e)=>Si(null,gn,hi,...e),ji=new Map,_i=new WeakMap,Ci=new WeakMap,Li=new WeakMap,Ii=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ri=e=>{const t=Ii(e);return["border-box","content-box","device-pixel-content-box"].indexOf(t)>=0?t:null},Wi=e=>{const t=Ii(e);return t?.startsWith?.("inline")?"inline":t?.startsWith?.("block")?"block":null},$i=Symbol.for("@render@"),Ti=Symbol.for("@defKeys@"),Di="undefined"!=typeof document?document?.createElement?.("style"):null,zi=(e,t,n)=>"attr"==e?xi.bind(null,t,n||""):"media"==e?Oi:"query"==e?e=>dr?.(n||e||"",t):"query-shadow"==e?e=>dr?.(n||e||"",t?.shadowRoot??t):"localStorage"==e?Pi:"inline-size"==e?Ai.bind(null,t,"inline",Ri(n)||"border-box"):"content-box"==e?Ai.bind(null,t,Wi(n)||"inline","content-box"):"block-size"==e?Ai.bind(null,t,"block",Ri(n)||"border-box"):"border-box"==e?Ai.bind(null,t,Wi(n)||"inline","border-box"):"scroll"==e?Ni.bind(null,t,Wi(n)||"inline"):"device-pixel-content-box"==e?Ai.bind(null,t,Wi(n)||"inline","device-pixel-content-box"):"checked"==e?Mi.bind(null,t):"value"==e?ki.bind(null,t):"value-as-number"==e?Ei.bind(null,t):vn;Di&&"undefined"!=typeof document&&document.querySelector?.("head")?.appendChild?.(Di);const Fi=e=>"query"==e||"query-shadow"==e?"input":"media"!=e&&("localStorage"==e||"attr"==e?null:"inline-size"==e||"block-size"==e||"border-box"==e||"content-box"==e||"scroll"==e||"device-pixel-content-box"==e?0:"checked"!=e&&("value"==e?"":"value-as-number"==e?0:null));function qi(e,t){return function(n,r){try{if("undefined"==typeof customElements||!e)return n;const r=customElements.get(e);if(r)return r;customElements.define(e,n,t)}catch(ha){if("NotSupportedError"===ha?.name||/has already been used|already been defined/i.test(ha?.message||""))return customElements?.get?.(e)??n;throw ha}return n}}function Hi(e={}){const{attribute:t,source:n,name:r,from:i}=e;return function(e,s){const o="string"==typeof t?t:r??s;if(!1!==t&&null!=o){const t=e.constructor;t.observedAttributes||(t.observedAttributes=[]),t.observedAttributes.indexOf(o)<0&&t.observedAttributes.push(o)}Object.hasOwn(e,Ti)||(e[Ti]={}),e[Ti][s]={get(){const e=this,t=e[$i],o=i?i instanceof HTMLElement?i:"string"==typeof i?dr?.(i,e):e:e;let a=Ci.get(e),l=a?.get?.(s);return null==l&&null!=n&&(a||Ci.set(e,a=new Map),a?.has?.(s)||a?.set?.(s,l=zi(n,o,r||s)?.(Fi(n)))),t?l:l?.element instanceof HTMLElement?l?.element:"object"!=typeof l&&"function"!=typeof l||null==l?.value&&!("value"in l)?l:l?.value},set(e){const t=this,o=i?i instanceof HTMLElement?i:"string"==typeof i?dr?.(i,t):t:t;let a=Ci.get(t),l=a?.get?.(s);if(null==l&&null!=n){if(a||Ci.set(t,a=new Map),!a?.has?.(s)){const t=("object"==typeof e||"function"==typeof e?e?.value:null)??e??Fi(n);a?.set?.(s,l=zi(n,o,r||s)?.(t))}}else if("object"==typeof l||"function"==typeof l)try{"object"!=typeof e||null==e||(null!=e?.value||"value"in e)&&"object"!=typeof e?.value&&"function"!=typeof e?.value?l.value=("object"==typeof e||"function"==typeof e?e?.value:null)??e:Object.assign(l,e?.value??e)}catch(ha){console.warn("Error setting property value:",ha)}},enumerable:!0,configurable:!0}}}Di&&(Di.innerHTML="@layer ux-preload {\n        :host { display: none; }\n    }");const Bi=new WeakMap,Vi=(e,t)=>{let n=Bi.get(e);n||Bi.set(e,n=[]),t&&n.indexOf(t)<0&&n.push(t),e.shadowRoot&&(e.shadowRoot.adoptedStyleSheets=[...e.shadowRoot.adoptedStyleSheets||[],...n.filter(t=>!e.shadowRoot.adoptedStyleSheets?.includes(t))])},Ui=(e,t)=>{if(!t)return null;let n=t;if("function"==typeof t)try{const r=new WeakRef(e);n=t.call(e,r)}catch(ha){return console.warn("Error calling styles function:",ha),null}if(n&&"undefined"!=typeof CSSStyleSheet&&n instanceof CSSStyleSheet)return Vi(e,n),null;if(n instanceof Promise)return n.then(t=>{t instanceof CSSStyleSheet?Vi(e,t):null!=t&&Ui(e,t)}).catch(e=>{console.warn("Error loading adopted stylesheet:",e)}),null;if("string"==typeof n||n instanceof Blob||n instanceof File){const t=tt(n,"");if(t){let n=Bi.get(e);n||Bi.set(e,n=[]);const r=t=>{t&&n.indexOf(t)<0&&n.push(t),e.shadowRoot&&(e.shadowRoot.adoptedStyleSheets=[...e.shadowRoot.adoptedStyleSheets||[],...n.filter(t=>!e.shadowRoot.adoptedStyleSheets?.includes(t))])};return t instanceof Promise?(t.then(r).catch(e=>{console.warn("Error loading adopted stylesheet:",e)}),null):(r(t),null)}}const r="function"==typeof t||"object"==typeof t?_i:ji,i=r.get(t);let s=i?.styleElement,o=i?.vars;if(!i){let i="",a=[];"string"==typeof n?i=n||"":"object"==typeof n&&null!=n&&(n instanceof HTMLStyleElement?s=n:(i="string"==typeof n.css?n.css:"string"==typeof n?n:String(n),a=n?.props??a,o=n?.vars??o)),!s&&i&&(s=Ze(i,e,"ux-layer")),r.set(t,{css:i,props:a,vars:o,styleElement:s})}return s},Ji=e=>!(e instanceof HTMLDivElement||e instanceof HTMLImageElement||e instanceof HTMLVideoElement||e instanceof HTMLCanvasElement||e?.hasAttribute?.("is")||null!=e?.getAttribute?.("is"));function Xi(e){const t=HTMLElement,n=Li.get(t);if(n)return n;const r=function(e){const t=e.prototype??Object.getPrototypeOf(e)??e,n=t?.$init??e?.$init;return t.$init=function(...e){n?.call?.(this,...e);const t={};let r=Object.getPrototypeOf(this)??this;for(;r;){if(Object.hasOwn(r,Ti)){const e=Object.assign({},Object.getOwnPropertyDescriptors(r),r[Ti]??{});for(const n of Object.keys(e))n in t||(t[n]=e[n])}r=Object.getPrototypeOf(r)}for(const[n,i]of Object.entries(t)){const e=this[n];null!=i&&Object.defineProperty(this,n,i);try{this[n]=e||this[n]}catch(ha){}}return this},e}(class extends t{#$;#T;#D;#z=!1;styleLibs=[];adoptedStyleSheets=[];get styles(){}get initialAttributes(){}styleLayers(){return[]}render(e){return document.createElement("slot")}constructor(...e){if(super(...e),Ji(this)){const e=yt(this.shadowRoot??this.createShadowRoot?.()??this.attachShadow({mode:"open"})),t=this.#D??=Di?.cloneNode?.(!0),n=e.querySelector('style[data-type="ux-layer"]');n?n.after(t):e.prepend(t)}this.styleLibs??=[]}$makeLayers(){return`@layer ${["ux-preload","ux-layer",...this.styleLayers?.()??[]].join?.(",")??""};`}onInitialize(e){return this}onRender(e){return this}getProperty(e){const t=this[$i];this[$i]=!0;const n=this[e];return this[$i]=t,t||delete this[$i],n}loadStyleLibrary(e){const t=this.shadowRoot,n="function"==typeof e?e?.(t):e;if(n instanceof HTMLStyleElement)this.styleLibs?.push?.(n),this.#T?.isConnected?this.#T?.before?.(n):this.shadowRoot?.prepend?.(n);else if(n instanceof CSSStyleSheet){let e=Bi.get(this);e||Bi.set(this,e=[]),e.indexOf(n)<0&&e.push(n),t&&(t.adoptedStyleSheets=[...t.adoptedStyleSheets||[],...e.filter(e=>!t.adoptedStyleSheets?.includes(e))])}else{const e=tt(n,"ux-layer");let r=Bi.get(this);r||Bi.set(this,r=[]);const i=e=>{e&&r.indexOf(e)<0&&r.push(e),t&&(t.adoptedStyleSheets=[...t.adoptedStyleSheets||[],...r.filter(e=>!t.adoptedStyleSheets?.includes(e))])};e instanceof Promise?e.then(i).catch(()=>{}):e&&i(e)}return this}createShadowRoot(){return yt(this.shadowRoot??this.attachShadow({mode:"open"}))}connectedCallback(){super.connectedCallback&&super.connectedCallback();const e=new WeakRef(this);if(!this.#z){this.#z=!0;const t=Ji(this)?this.createShadowRoot?.()??this.shadowRoot??this.attachShadow({mode:"open"}):this.shadowRoot,n=this.constructor,r=this.$init??n.prototype?.$init;"function"==typeof r&&r.call(this);if(((e,t={})=>{if(t&&"object"==typeof t&&e)Array.from(Object.entries(t)).map(([t,n])=>{const r=e.getAttribute(t);null==n?e.removeAttribute(t):n!=r&&e.setAttribute(t,""==r?n??r:r??n)})})(this,"function"==typeof this.initialAttributes?this.initialAttributes():this.initialAttributes),this.onInitialize?.call(this,e),this[$i]=!0,Ji(this)&&t){const n=this.render?.call?.(this,e)??document.createElement("slot"),r=Ui(this,this.styles);r instanceof HTMLStyleElement&&(this.#T=r);const i=[ii`<style data-type="ux-layer" prop:innerHTML=${this.$makeLayers()}></style>`,this.#D,...this.styleLibs.map(e=>e.cloneNode?.(!0))||[],r,n].filter(e=>null!=e&&oe(e));t.append(...i);const s=Bi.get(this)||[];s.length>0&&(t.adoptedStyleSheets=[...s.filter(e=>!t.adoptedStyleSheets?.includes(e)),...new Set([...t.adoptedStyleSheets||[]])])}this.onRender?.call?.(this,e),delete this[$i]}}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}adoptedCallback(){super.adoptedCallback&&super.adoptedCallback()}attributeChangedCallback(e,t,n){super.attributeChangedCallback&&super.attributeChangedCallback(e,t,n)}});return Li.set(t,r),console.log("result",r),r}const Ki=new WeakMap,Qi=(e,t,n,r={})=>{if(!e||"function"!=typeof e.addEventListener)return()=>{};const i={capture:Boolean(r.capture),passive:Boolean(r.passive)},s=((e,t)=>`${e}|c:${t?.capture?"1":"0"}|p:${t?.passive?"1":"0"}`)(t,i);let o=Ki.get(e);o||(o=new Map,Ki.set(e,o));let a=o.get(s);if(!a){const n=new Set,r=e=>{for(const t of Array.from(n))try{t(e)}catch(ha){console.warn(ha)}};o.set(s,a={handlers:n,listener:r,options:i}),e.addEventListener(t,r,i)}return a.handlers.add(n),()=>{const r=Ki.get(e),i=r?.get(s);i&&(i.handlers.delete(n),i.handlers.size>0||(e.removeEventListener(t,i.listener,i.options),r?.delete(s),r&&0===r.size&&Ki.delete(e)))}},Zi=new WeakMap,Gi=e=>{const t=e?.element??e;return t instanceof HTMLElement?t:null},Yi=(e,t,n)=>!!e&&("handled"===e?n:t),es="undefined"!=typeof document?document?.documentElement:null,ts=(e,t,n)=>{if(null!=e?.deref?.())return e.deref()[t]=n};const ns=(e,t)=>{if(!e)throw Error("Element is null...");t&&((e,t=()=>{})=>{if(e instanceof HTMLElement&&!ee.has(e)){e[Z]=e.clientWidth,e[G]=e.clientHeight;const n=new ResizeObserver(n=>{for(const r of n)if(r.contentBoxSize){const n=r.contentBoxSize[0];n&&(e[Z]=Math.min(n.inlineSize,e.clientWidth),e[G]=Math.min(n.blockSize,e.clientHeight),t?.(e))}});ee.set(e,n),n.observe(e?.element??e,{box:"content-box"})}})(t),((e,t=()=>{})=>{if(e instanceof HTMLElement&&!Y.has(e)){e[K]=e.offsetWidth,e[Q]=e.offsetHeight;const n=new ResizeObserver(n=>{for(const r of n)if(r.borderBoxSize){const n=r.borderBoxSize[0];n&&(e[K]=Math.min(n.inlineSize,e.offsetWidth),e[Q]=Math.min(n.blockSize,e.offsetHeight),t?.(e))}});Y.set(e,n),n.observe(e?.element??e,{box:"border-box"})}})(e)},rs=(e,t)=>n=>{const r=n;if(t??=r?.target??t,!t.dataset.dragging){const n=[r.clientX,r.clientY];r?.pointerId>=0&&t?.setPointerCapture?.(r?.pointerId);const i=i=>{const s=i;if(s?.preventDefault?.(),s?.pointerId==r?.pointerId){const a=[i.clientX,i.clientY],l=[a[0]-n[0],a[1]-n[1]];Math.hypot(...l)>2&&(t?.style?.setProperty?.("will-change","inset, transform, translate, z-index"),o?.(s),e?.(r))}},s=e=>{const n=e;n?.pointerId==r?.pointerId&&(t?.releasePointerCapture?.(r?.pointerId),o?.(n))},o=e=>{const t=e;t?.pointerId==r?.pointerId&&a?.forEach(e=>e?.())},a=ue(es,{pointermove:i,pointercancel:s,pointerup:s})}};function is(e,t){if("composedPath"in e&&"function"==typeof e.composedPath)return e.composedPath().includes(t);const n=e.target?e.target:e;return!!n&&function(e,t){let n=t;for(;n;){if(n===e)return!0;const t=n;if(t.assignedSlot){n=t.assignedSlot;continue}if(n.parentNode){n=n.parentNode;continue}const r=n.getRootNode?.();n=r&&r.host?r.host:null}return!1}(t,n)}function ss(e,t=null,n,r={}){const{root:i=("undefined"!=typeof document?document?.documentElement:null),closeEvents:s=["scroll","click","pointerdown"],mouseLeaveDelay:o=100}=r,a=new WeakRef(e);function l(e){is(e,n?.element??n)||is(e,t?.element??t)||ts(a,"value",!1)}const c=[...ue(i,Object.fromEntries(s.map(e=>[e,l]))),ce(i,"pointerdown",function(e){const r=e;is(r,n?.element??n)||is(r,t?.element??t)||ts(a,"value",!1)})];return Ut(e,Symbol.dispose,function(){c.forEach(e=>e?.())}),e}const os=new WeakMap,as=new Map,ls=(e,t=0)=>{if(as.has(t))return;const n=()=>{as.delete(t),o?.forEach?.(e=>e?.()),a?.forEach?.(e=>e?.())},r=e=>{e?.pointerId==t||null==e?.pointerId||null==t||t<0?(e.preventDefault(),as.set(t,!0),n()):as.delete(t)},i=[r,{once:!0}],s=[r,{once:!0,capture:!0}],o=ue(document.documentElement,{click:s,pointerdown:s,contextmenu:s}),a=ue(e,{click:i,pointerdown:i,contextmenu:i});setTimeout(n,10)};let cs=null;cs="undefined"!=typeof PointerEvent?class extends PointerEvent{#F;constructor(e,t){super(e,t),this.#F=t?.holding}get holding(){return this.#F}get event(){return this.#F?.event}get result(){return this.#F?.result}get shifting(){return this.#F?.shifting}get modified(){return this.#F?.modified}get canceled(){return this.#F?.canceled}get duration(){return this.#F?.duration}get element(){return this.#F?.element?.deref?.()??null}get propertyName(){return this.#F?.propertyName??"drag"}}:class{#F;constructor(e,t){this.#F=t?.holding}get holding(){return this.#F}};const us=(e,t={pointerId:0,pointerType:"mouse"},{shifting:n=[0,0],result:r=[{value:0},{value:0}]}={})=>{let i,s=.01,o=performance.now();const a={result:r,movement:[...t?.movement||[0,0]],shifting:[...n],modified:[...n],canceled:!1,duration:s,element:new WeakRef(e),client:null},l=[n=>{if(t?.pointerId==n?.pointerId&&(n?.preventDefault?.(),ae(n?.target,e))){const t=[...n?.client||[n?.clientX||0,n?.clientY||0]];a.duration=(r=(i=performance.now())-o,s+=(r-s)/100,o=i,s),a.movement=[...a.client?[t?.[0]-(a.client?.[0]||0),t?.[1]-(a.client?.[1]||0)]:[0,0]],a.client=t,a.shifting[0]+=a.movement[0]||0,a.shifting[1]+=a.movement[1]||0,a.modified[0]=(a.shifting[0]??a.modified[0])||0,a.modified[1]=0|(a.shifting[1]??a.modified[1]),e?.dispatchEvent?.(new cs("m-dragging",{...n,bubbles:!0,holding:a,event:n})),null!=a?.result?.[0]&&(a.result[0].value=a.modified[0]||0),null!=a?.result?.[1]&&(a.result[1].value=a.modified[1]||0),null!=a?.result?.[2]&&(a.result[2].value=0)}var r},{capture:!0}],c=Promise.withResolvers(),u=[n=>{if(t?.pointerId==n?.pointerId){const s=e?.element||e;if(ae(n?.target,s)||n?.currentTarget?.contains?.(s)||n?.target==s){"pointerup"==n?.type&&ls(s,n?.pointerId),queueMicrotask(()=>c?.resolve?.(r)),f?.forEach?.(e=>e?.()),s?.releaseCapturePointer?.(n?.pointerId),s?.dispatchEvent?.(new cs("m-dragend",{...n,bubbles:!0,holding:a,event:n})),a.canceled=!0;try{t.pointerId=-1}catch(i){}}}},{capture:!0}];let f=null;return ls(e,t?.pointerId),queueMicrotask(()=>{e?.dispatchEvent?.(new cs("m-dragstart",{...t,bubbles:!0,holding:a,event:t}))?(e?.setPointerCapture?.(t?.pointerId),f=ue(e,{pointermove:l,pointercancel:u,pointerup:u}),f?.push?.(...ue(document.documentElement,{pointercancel:u,pointerup:u}))):a.canceled=!0}),c?.promise??r},fs=(e,t=()=>{},n=[{value:0},{value:0}],r=[0,0])=>{if(!n)return;const i=(i,s)=>us(s??e,i,{result:n,shifting:"function"==typeof r?r?.(n):r})?.then?.(t);if("function"==typeof e?.addEventListener)ce(e,"pointerdown",i);else{if("function"!=typeof e)throw new Error("bindDraggable: elementOrEventListener is not a function or an object with addEventListener");e(i)}return{draggable:n,dispose:()=>{"function"==typeof e?.removeEventListener&&function(e,t,n,r=le){e?.removeEventListener?.(t,n,r)}(e,"pointerdown",i)},process:i}},ds=new WeakMap,hs="undefined"!=typeof document&&document?.documentElement?((e,t,n={capture:!0,passive:!1},r={})=>{const i=e;if(!i||"function"!=typeof i.addEventListener)return(e,t)=>()=>{};const s={capture:Boolean(n.capture),passive:Boolean(n.passive)},o=r.strategy??"closest",a=`${t}|c:${s.capture?"1":"0"}|p:${s.passive?"1":"0"}|s:${o}|pd:${String(r.preventDefault??"")}|sp:${String(r.stopPropagation??"")}|sip:${String(r.stopImmediatePropagation??"")}`;let l=Zi.get(i);l||(l=new Map,Zi.set(i,l));let c=l.get(a);if(!c){const e=new Map,t=t=>{let n=!1,i=!1;const s=e=>{if(e&&0!==e.size){n=!0;for(const n of Array.from(e)){n(t)&&(i=!0)}}},a=t?.composedPath?.();if(Array.isArray(a))if("closest"===o)for(const r of a){const t=Gi(r);if(!t)continue;const n=e.get(t);if(n){s(n);break}}else for(const r of a){const t=Gi(r);t&&s(e.get(t))}else{let n=Gi(t?.target);for(;n;){const t=e.get(n);if(t&&(s(t),"closest"===o))break;const r=n.getRootNode?.();n=n.parentElement||(r instanceof ShadowRoot?r.host:null)}}Yi(r.preventDefault,n,i)&&t?.preventDefault?.(),Yi(r.stopImmediatePropagation,n,i)&&t?.stopImmediatePropagation?.(),Yi(r.stopPropagation,n,i)&&t?.stopPropagation?.()};c={targets:e,unbindGlobal:null,options:s,strategy:o,config:r,dispatch:t},l.set(a,c)}return(e,n)=>{const r=Gi(e);if(!r)return()=>{};0!==c.targets.size||c.unbindGlobal||(c.unbindGlobal=Qi(i,t,c.dispatch,c.options));let s=c.targets.get(r);return s||(s=new Set,c.targets.set(r,s)),s.add(n),()=>{const t=Zi.get(i),r=t?.get(a);if(!r)return;const s=Gi(e);if(!s)return;const o=r.targets.get(s);o&&(o.delete(n),0===o.size&&r.targets.delete(s),0===r.targets.size&&(r.unbindGlobal?.(),r.unbindGlobal=null,t?.delete(a),t&&0===t.size&&Zi.delete(i)))}}})(document.documentElement,"contextmenu",{capture:!0,passive:!1},{strategy:"closest",preventDefault:"handled",stopImmediatePropagation:"handled"}):(e,t)=>()=>{},ps=e=>null==e?null:ds?.getOrInsertComputed?.(e,()=>((e,...t)=>Si(e,gn,pi,...t))(e,!1)),ms=(e,t)=>{const n=ce(e,"click",e=>{((e,t)=>{const n=dr("[data-id]",e?.target,0,"parent")?.getAttribute?.("data-id"),r=t?.items?.find?.(e=>e?.some?.(e=>e?.id==n))?.find?.(e=>e?.id==n);(r?.action??t?.defaultAction)?.(t?.openedWith?.initiator,r,t?.openedWith?.event??e),t?.openedWith?.close?.();const i=ps(t?.openedWith?.element);null!=i&&(i.value=!1)})(e,t)},{composed:!0});return()=>n?.()},gs=(e,t,n,r)=>i=>{let s=!1;const o=r||((e=document)=>{let t=dr('ui-modal[type="contextmenu"]',e);return t||(t=ii`<ui-modal type="contextmenu"></ui-modal>`,(e instanceof Document?e.body:e).append(t)),t})(),a=ps(o),l=i?.target??e??document.elementFromPoint(i?.clientX||0,i?.clientY||0),c={event:i,initiator:l,trigger:e,menu:o,ctxMenuDesc:n};if(n.context=c,!1===n?.onBeforeOpen?.(c))return s;const u=n?.buildItems?.(c);if(Array.isArray(u)&&u.length&&(n.items=u),a?.value&&"contextmenu"!==i?.type)return a.value=!1,n?.openedWith?.close?.(),s;if(l&&a){s=!0,o.innerHTML="",a.value=!0,o?.append?.(...n?.items?.map?.((e,t)=>{const r=e?.map?.(e=>ii`<li data-id=${e?.id||""}><ui-icon icon=${e?.icon||""}></ui-icon><span>${e?.label||""}</span></li>`);return[...r,e?.length>1&&t!==(n?.items?.length||0)-1?ii`<li class="ctx-menu-separator"></li>`:null]})?.flat?.()?.filter?.(e=>!!e)||[]);const e=((e,t)=>{if(!e)return()=>{};const n=[ir(e,"--client-x",t?.[0],At),ir(e,"--client-y",t?.[1],At)];return t?.[2]&&n.push(ir(e,"--anchor-width",t?.[2],At)),t?.[3]&&n.push(ir(e,"--anchor-height",t?.[3],At)),()=>n?.forEach?.(e=>e?.())})?.(o,t?.(i,l)),r=ms(o,n),c=function(e=null,t=gn(!1),n=["pointerdown","click","contextmenu","scroll"],r=document?.documentElement){if(!r)return()=>{};const i=new WeakRef(t),s="function"==typeof t?t:t=>{(!e?.contains?.(t?.target)&&t?.target!=(e?.element??e)||!e)&&ts(i,"value",!1)},o=n.map(e=>Qi(r,e,s,{capture:!1,passive:!1})),a=()=>o.forEach(e=>e?.());return Ut(t,Symbol.dispose,a),a}?.(o,e=>{const t=o;if(!o?.contains?.(e?.target??null)&&e?.target!=(t?.element??t)||!e?.target){n?.openedWith?.close?.();const e=ps(o);null!=e&&(e.value=!1)}},["click","pointerdown","scroll"]),u=hs(o,()=>!0);n.openedWith={initiator:l,element:o,event:i,context:n?.context,close(){a.value=!1,n.openedWith=null,r?.(),e?.(),c?.(),u?.(),n._backUnreg&&(n._backUnreg(),n._backUnreg=null)}},!n._backUnreg&&a&&(n._backUnreg=((e,t,n)=>li({id:`ctx-menu-${e.id||ai()}`,priority:100,element:new WeakRef(e),group:"context-menu",isActive:()=>!0===t.value,close:()=>(t.value=!1,n?.(),!1)}))(o,a,()=>{n?.openedWith?.close?.()}))}return s},ys=(e,t,n)=>{const r=gs(e,e=>[e?.clientX,e?.clientY,200],t,n),i=((e,t)=>{if(!e)return()=>{};let n=null,r=!1;const i=()=>{if(!r)if(e.isConnected){if(!n){const e=t();n="function"==typeof e?e:null}}else n&&(n(),n=null)},s="undefined"!=typeof document?document.documentElement:null,o=e?.element??e,a="undefined"!=typeof MutationObserver&&s?new MutationObserver(e=>{for(const t of e){if(t.target===o||t.target?.contains?.(o))return void i();const e=[...Array.from(t?.addedNodes||[]),...Array.from(t?.removedNodes||[])];for(const t of e)if(t===o||t.contains?.(o))return void i()}}):null;return a&&s&&a.observe(s,{childList:!0,subtree:!0}),queueMicrotask(()=>i()),()=>{r=!0,a?.disconnect?.(),n?.(),n=null}})(e,()=>hs(e,r));return()=>{i?.()}};function bs(e){return new Worker(""+new URL("../assets/OPFS.uniform.worker-B0-uLGf6.js",import.meta.url).href,{type:"module",name:e?.name})}let vs=null;const ws="undefined"!=typeof ServiceWorkerGlobalScope&&self instanceof ServiceWorkerGlobalScope,Ss=new Map;let xs=null;const ks={readDirectory:async({rootId:e,path:t,create:n})=>{try{const e=await navigator.storage.getDirectory(),r=(t||"").trim().replace(/\/+/g,"/").split("/").filter(e=>e);let i=e;for(const t of r)i=await i.getDirectoryHandle(t,{create:n});const s=[];for await(const[t,n]of i.entries())s.push([t,n]);return s}catch(ha){return console.warn("Direct readDirectory error:",ha),[]}},readFile:async({rootId:e,path:t,type:n})=>{try{const e=await navigator.storage.getDirectory(),r=(t||"").trim().replace(/\/+/g,"/").split("/").filter(e=>e),i=r.pop();let s=e;for(const t of r)s=await s.getDirectoryHandle(t,{create:!1});const o=await s.getFileHandle(i,{create:!1}),a=await o.getFile();return"text"===n?await a.text():"arrayBuffer"===n?await a.arrayBuffer():a}catch(ha){return console.warn("Direct readFile error:",ha),null}},writeFile:async({rootId:e,path:t,data:n})=>{try{const e=await navigator.storage.getDirectory(),r=(t||"").trim().replace(/\/+/g,"/").split("/").filter(e=>e),i=r.pop();let s=e;for(const t of r)s=await s.getDirectoryHandle(t,{create:!0});const o=await s.getFileHandle(i,{create:!0}),a=await o.createWritable();return await a.write(n),await a.close(),!0}catch(ha){return console.warn("Direct writeFile error:",ha),!1}},remove:async({rootId:e,path:t,recursive:n})=>{try{const e=await navigator.storage.getDirectory(),r=(t||"").trim().replace(/\/+/g,"/").split("/").filter(e=>e),i=r.pop();let s=e;for(const t of r)s=await s.getDirectoryHandle(t,{create:!1});return await s.removeEntry(i,{recursive:n}),!0}catch{return!1}},copy:async({from:e,to:t})=>{try{const n=async(e,t)=>{if("directory"===e.kind)for await(const[r,i]of e.entries())if("directory"===i.kind){const e=await t.getDirectoryHandle(r,{create:!0});await n(i,e)}else{const e=await i.getFile(),n=await t.getFileHandle(r,{create:!0}),s=await n.createWritable();await s.write(e),await s.close()}else{const n=await e.getFile(),r=await t.createWritable();await r.write(n),await r.close()}};return await n(e,t),!0}catch(ha){return console.warn("Direct copy error:",ha),!1}},observe:async()=>!1,unobserve:async()=>!0,mount:async()=>!0,unmount:async()=>!0},Es=(e,t={},n=[])=>ws&&ks[e]?ks[e](t):new Promise(async(n,r)=>{try{const i=await(xs||(xs=new Promise(async e=>{if("undefined"==typeof Worker||ws)vs=null,e(null);else try{const t=await B({name:"opfs-worker",script:bs});vs=new T("opfs-worker",async()=>t,{timeout:3e4,retries:3,batching:!0,compression:!1}),e(vs)}catch(ha){console.warn("OPFSUniformWorker instantiation failed, falling back to main thread...",ha),vs=null,e(null)}}),xs));if(!i)return ks[e]?n(ks[e](t)):r(new Error("No worker channel available"));n(await i.request(e,t))}catch(i){r(i)}}),Ps=e=>{if("string"!=typeof e)return e;e=e?.trim?.()||e,e?.endsWith?.("/")||(e=e?.trim?.()?.split?.("/")?.slice(0,-1)?.join?.("/")?.trim?.()||e);const t=e?.trim()?.endsWith("/")?e:e+"/";return t?.startsWith("/")?t:"/"+t},As={startIn:"documents",multiple:!1,types:[{description:"files",accept:{"application/*":[".txt",".md",".html",".htm",".css",".js",".json",".csv",".xml",".jpg",".jpeg",".png",".gif",".webp",".svg",".ico",".mp3",".wav",".mp4",".webm",".pdf",".zip",".rar",".7z"]}}]},Ms=new Map([["/",async()=>await(navigator?.storage?.getDirectory?.())],["/user/",async()=>await(navigator?.storage?.getDirectory?.())],["/assets/",async()=>(console.warn("Backend related API not implemented!"),null)]]),Ns=new Map;async function Os(e,t=""){null!=e&&null!=e&&0!=e?.trim?.()?.length||(e="/user/");const n="string"==typeof e?e?.trim?.()?.replace?.(/^\//,"")?.trim?.()?.split?.("/")?.filter?.(e=>!!e?.trim?.())?.at?.(0):null;if(n&&("undefined"!=typeof localStorage&&JSON.parse(localStorage?.getItem?.("opfs.mounted")||"[]").includes(n)&&(e=Ns?.get(n)),e||(e=await(Ms?.get?.(`/${n}/`)?.())??await navigator.storage.getDirectory())),e instanceof FileSystemDirectoryHandle)return e;const r=t?.trim?.()||"/",i=r.startsWith("/")?r:"/"+r;let s=null,o=0;for(const[l,c]of Ms.entries())i.startsWith(l)&&l.length>o&&(s=c,o=l.length);try{return(s?await s():null)||await(navigator?.storage?.getDirectory?.())}catch(a){return console.warn("Failed to resolve root handle, falling back to OPFS root:",a),await(navigator?.storage?.getDirectory?.())}}async function js(e,t,n=""){const r=function(e="",t){if(!t?.trim())return e;const n=t.trim();if(n.startsWith("/"))return n;const r=e.split("/").filter(e=>e?.trim()),i=n.split("/").filter(e=>e?.trim());for(const s of i)"."!==s&&(".."===s?r.length>0&&r.pop():r.push(s));return"/"+r.join("/")}(n,t);return{rootHandle:await Os(e,r),resolvedPath:r}}function _s(e,t,n){return e?.(t,n),null}function Cs(e,t){console.trace(`[${e}] ${t}`)}function Ls(e){const t=e?.split?.(".")?.pop?.()?.toLowerCase?.();return{txt:"text/plain",md:"text/markdown",html:"text/html",htm:"text/html",css:"text/css",js:"application/javascript",json:"application/json",csv:"text/csv",xml:"application/xml",jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",gif:"image/gif",webp:"image/webp",svg:"image/svg+xml",ico:"image/x-icon",mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",pdf:"application/pdf",zip:"application/zip",rar:"application/vnd.rar","7z":"application/x-7z-compressed"}[t]||"application/octet-stream"}async function Is(e,t,{create:n=!1,basePath:r=""}={},i=Cs){try{const{rootHandle:i,resolvedPath:o}=await js(e,t,r),a=(o?.trim?.()?.startsWith?.("/user/")?o?.trim?.()?.replace?.(/^\/user/g,"")?.trim?.():o).split("/").filter(e=>!!e?.trim?.());a.length>0&&(s=a[a.length-1]?.trim?.(),s?.trim?.()?.split?.(".")?.[1]?.trim?.()?.length>0)&&a?.pop?.();let l=i;if(a?.length>0)for(const e of a)if(l=await(l?.getDirectoryHandle?.(e,{create:n})),!l)break;return l}catch(ha){return _s(i,"error",`getDirectoryHandle: ${ha.message}`)}var s}async function Rs(e,t,{create:n=!1,basePath:r=""}={},i=Cs){try{const{rootHandle:s,resolvedPath:o}=await js(e,t,r),a=o?.trim?.()?.startsWith?.("/user/")?o?.trim?.()?.replace?.(/^\/user/g,"")?.trim?.():o,l=a.split("/").filter(e=>!!e?.trim?.());if(0==l?.length)return null;const c=l.length>0?l[l.length-1]?.trim?.()?.replace?.(/\s+/g,"-"):"",u=l.length>1?l?.slice(0,-1)?.join?.("/")?.trim?.()?.replace?.(/\s+/g,"-"):"";if(a?.trim?.()?.endsWith?.("/"))return null;const f=await Is(s,u,{create:n,basePath:r},i);return f?.getFileHandle?.(c,{create:n})}catch(ha){return _s(i,"error",`getFileHandle: ${ha.message}`)}}async function Ws(e,t,n={},r=Cs){try{const{rootHandle:i,resolvedPath:s}=await js(e,t,n?.basePath||""),o=function(e){return e?.trim()?.endsWith?.("/")?"directory":"file"}(s);if("directory"==o){const e=await Is(i,s?.trim?.()?.replace?.(/\/$/,""),n,r);if(e)return{type:"directory",handle:e}}else{const e=await Rs(i,s,n,r);if(e)return{type:"file",handle:e}}return null}catch(ha){return _s(r,"error",`getHandler: ${ha.message}`)}}const $s=new Map;function Ts(t,n,r={create:!1},i=Cs){let s="",o=wn(new Map);const a=(async()=>{try{const{rootHandle:e,resolvedPath:i}=await js(t,n,r?.basePath||"");return s=`${e?.name||"root"}:${i}`,{rootHandle:e,resolvedPath:i}}catch{return{rootHandle:null,resolvedPath:""}}})().then(async({rootHandle:t,resolvedPath:n})=>{if(!n)return null;const a=$s.get(s);if(a)return a.refCount++,o=a.mapCache,a;const l=wn(new Map);o=l;const c=e(),u=Is(t,n,r,i),f=async()=>{const e=n?.trim?.()?.startsWith?.("/user/")?n?.trim?.()?.replace?.(/^\/user/g,"")?.trim?.():n,i=await Es("readDirectory",{rootId:"",path:e,create:r.create},t?[t]:[]);if(!i)return l;const s=new Map(i);for(const t of l.keys())s.has(t)||l.delete(t);for(const[t,n]of s)l.has(t)||l.set(t,n);return l};Ss.set(c,e=>{for(const t of e)t?.name&&("modified"===t.type||"created"===t.type||"appeared"===t.type?l.set(t.name,t.handle):"deleted"!==t.type&&"disappeared"!==t.type||l.delete(t.name))});const d=n?.trim?.()?.startsWith?.("/user/")?n?.trim?.()?.replace?.(/^\/user/g,"")?.trim?.():n;Es("observe",{rootId:"",path:d,id:c},t?[t]:[]),f();const h={mapCache:l,dirHandle:u,resolvePath:n,observationId:c,refCount:1,cleanup:()=>{Es("unobserve",{id:c}),Ss.delete(c),$s.delete(s)},updateCache:f};$s.set(s,h);const p=await Promise.all(await Array.fromAsync((await u)?.entries?.()??[]));for(const[e,r]of p)l.has(e)||l.set(e,r);return{...h,mapCache:l}});let l=!1;const c=()=>{l||(l=!0,a.then(e=>{e&&(e.refCount--,e.refCount<=0&&e.cleanup())}).catch(console.warn))},u=new Proxy(function(){},{get(e,t){if(t!==Symbol.toStringTag&&t!==Symbol.iterator&&"toString"!==t&&"valueOf"!==t&&"inspect"!==t&&"constructor"!==t&&"__proto__"!==t&&"prototype"!==t){if("dispose"===t)return c;if("getMap"===t)return()=>o;if("entries"===t)return()=>o.entries();if("keys"===t)return()=>o.keys();if("values"===t)return()=>o.values();if(t===Symbol.iterator)return()=>o[Symbol.iterator]();if("size"===t)return o.size;if("has"===t)return e=>o.has(e);if("get"===t)return e=>o.get(e);if("entries"===t)return()=>o.entries();if("keys"===t)return()=>o.keys();if("values"===t)return()=>o.values();if("refresh"===t)return()=>a.then(e=>e?.updateCache?.()).then(()=>u);if("then"===t||"catch"===t||"finally"===t){const e=a.then(()=>!0);return e[t].bind(e)}return(...e)=>a.then(async n=>{if(!n)return;const r=await n.dirHandle,i=r?.[t];return"function"==typeof i?i.apply(r,e):i})}},ownKeys:()=>Array.from(o.keys()),getOwnPropertyDescriptor:()=>({enumerable:!0,configurable:!0})});return u}async function Ds(e,t,n={},r=Cs){try{const{rootHandle:r,resolvedPath:i}=await js(e,t,n?.basePath||""),s=i?.trim?.()?.startsWith?.("/user/")?i?.trim?.()?.replace?.(/^\/user/g,"")?.trim?.():i;return await Es("readFile",{rootId:"",path:s,type:"blob"},r?[r]:[])}catch(ha){return _s(r,"error",`readFile: ${ha.message}`)}}async function zs(e,t,n,r=Cs){if(n instanceof FileSystemFileHandle&&(n=await n.getFile()),n instanceof FileSystemDirectoryHandle){const r=await Is(await Os(e),t+(t?.trim?.()?.endsWith?.("/")?"":"/")+(n?.name||"")?.trim?.()?.replace?.(/\s+/g,"-"),{create:!0});return await(Js(n,r,{})?.catch?.(console.warn.bind(console)))}try{const{rootHandle:r,resolvedPath:i}=await js(e,t,""),s=i?.trim?.()?.startsWith?.("/user/")?i?.trim?.()?.replace?.(/^\/user/g,"")?.trim?.():i;return await Es("writeFile",{rootId:"",path:s,data:n},r?[r]:[]),!0}catch(ha){return _s(r,"error",`writeFile: ${ha.message}`)}}async function Fs(e,t,n={},r=Cs){try{return async function(e,t,n={recursive:!0},r=Cs){try{const{rootHandle:r,resolvedPath:i}=await js(e,t,n?.basePath||""),s=i?.trim?.()?.startsWith?.("/user/")?i?.trim?.()?.replace?.(/^\/user/g,"")?.trim?.():i;return await Es("remove",{rootId:"",path:s,recursive:n.recursive},r?[r]:[]),!0}catch(ha){return _s(r,"error",`removeFile: ${ha.message}`)}}(e,t,{recursive:!0,...n},r)}catch(ha){return _s(r,"error",`remove: ${ha.message}`)}}const qs=async e=>{e instanceof FileSystemFileHandle&&(e=await e.getFile()),"string"==typeof e&&(e=await Hs(e));const t=e?.name;if(!t)return;if("msSaveOrOpenBlob"in self.navigator&&self.navigator.msSaveOrOpenBlob(e,t),e instanceof FileSystemDirectoryHandle){let t=await(showDirectoryPicker?.({mode:"readwrite"})?.catch?.(console.warn.bind(console)));return e&&t?(t=await(Is(t,e?.name||"",{create:!0})?.catch?.(console.warn.bind(console)))||t,await(Js(e,t,{})?.catch?.(console.warn.bind(console)))):void 0}const n=await(self?.showOpenFilePicker?new Promise(e=>e({showOpenFilePicker:self?.showOpenFilePicker?.bind?.(window),showSaveFilePicker:self?.showSaveFilePicker?.bind?.(window)})):$(()=>import("./showOpenFilePicker.js"),[],import.meta.url));if(window?.showSaveFilePicker){const r=await(n?.showSaveFilePicker?.({suggestedName:t})?.catch?.(console.warn.bind(console))),i=await(r?.createWritable?.({keepExistingData:!0})?.catch?.(console.warn.bind(console)));await(i?.write?.(e)?.catch?.(console.warn.bind(console))),await(i?.close?.()?.catch?.(console.warn.bind(console)))}else{const n=document.createElement("a");try{n.href=URL.createObjectURL(e)}catch(ha){console.warn(ha)}n.download=t,document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),globalThis.URL.revokeObjectURL(n.href)},0)}},Hs=async(e="",t=!1)=>{const n=e?.url??e,r=n?.replace?.(location.origin,"")?.trim?.();if(r?.startsWith?.("/user")){const e=r?.replace?.(/^\/user/g,"")?.trim?.(),n=await(navigator?.storage?.getDirectory?.()),i=await Rs(n,e,{create:!!t});return t?i?.createWritable?.():i?.getFile?.()}try{if(!e)return null;const t=await fetch(e),r=await(t?.blob()?.catch?.(console.warn.bind(console))),i=t?.headers?.get?.("Last-Modified"),s=i?Date.parse(i):0;if(r)return new File([r],n?.substring(n?.lastIndexOf("/")+1),{type:r?.type,lastModified:isNaN(s)?0:s})}catch(ha){return _s(Cs,"error",`provide: ${ha.message}`)}},Bs=async(t,n="/user/"?.trim?.()?.replace?.(/\s+/g,"-"),r)=>{const i=await Os(null),s=Ps(n?.trim?.()?.startsWith?.("/user/")?n?.replace?.(/^\/user/g,"")?.trim?.():n),o=s?.replace?.("/user","")?.trim?.();t=t instanceof File?t:new File([t],e()+"."+(t?.type?.split?.("/")?.[1]||"tmp"));const a=o+(t?.name||"wallpaper")?.trim?.()?.replace?.(/\s+/g,"-");return await zs(i,a,t),"/user"+a?.trim?.()},Vs=async(e="/user/"?.trim?.()?.replace?.(/\s+/g,"-"),t)=>{const n="showOpenFilePicker";e=e?.trim?.()?.startsWith?.("/user/")?e?.trim?.()?.replace?.(/^\/user/g,"")?.trim?.():e;const r=window?.[n]?.bind?.(window)??(await $(()=>import("./showOpenFilePicker.js"),[],import.meta.url))?.[n];return r({...As,multiple:!0})?.then?.(async(t=[])=>{for(const n of t){const t=n instanceof File?n:await(n?.getFile?.());await Bs(t,e)}})},Us="undefined"!=typeof Image?new Image:null;if(Us){Us.decoding="async",Us.width=24,Us.height=24;try{Us.src=URL.createObjectURL(new Blob(['<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 384 512">\x3c!--!Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2025 Fonticons, Inc.--\x3e<path d="M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 288c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128z"/></svg>'],{type:"image/svg+xml"}))}catch(ha){}}const Js=async(e,t,n={},r=Cs)=>Es("copy",{from:e,to:t},[e,t]),Xs=(e,t="/user/",n=null,r)=>{const i=[],s=Array.from(e?.items??[]),o=Array.from(e?.files??[]),a=Array.isArray(e)?e:[...e?.[Symbol.iterator]?e:[e]];return Promise.try(async()=>{const l=await Os(n),c=async e=>{let n;if("file"===e.kind||"directory"===e.kind)try{n=await(e.getAsFileSystemHandle?.())}catch{}if(n)if("directory"===n.kind){const e=await Is(l,t+(n.name||"").trim().replace(/\s+/g,"-"),{create:!0});e&&i.push(Js(n,e,{}))}else{const e=await n.getFile(),s=t+(e.name||n.name).trim().replace(/\s+/g,"-");i.push(zs(l,s,e).then(()=>r?.(e,s)))}else if("file"===e.kind||e instanceof File){const n=e instanceof File?e:e.getAsFile();if(n){const e=t+n.name.trim().replace(/\s+/g,"-");i.push(zs(l,e,n).then(()=>r?.(n,e)))}return}};if(s?.length>0)for(const e of s)await c(e);if(o?.length>0)for(const e of o)await c(e);if(a?.length>0)for(const e of a)await c(e);const u=e?.getData?.("text/uri-list")||e?.getData?.("text/plain");if(u&&"string"==typeof u){const e=u.split(/\r?\n/).filter(Boolean);for(const n of e)if(!n.startsWith("file://"))if(n.startsWith("/user/")){const e=n.trim();i.push(Promise.try(async()=>{const n=await Ws(l,e);if(n?.handle){const r=e.split("/").filter(Boolean).pop();if("directory"===n.type){const e=await Is(l,t+r,{create:!0});await Js(n.handle,e,{})}else{const e=await n.handle.getFile(),i=t+r;await zs(l,i,e)}}}))}else i.push(Promise.try(async()=>{const e=await Hs(n);if(e){const n=t+e.name;await zs(l,n,e)}}))}if(a?.[0]instanceof ClipboardItem)for(const e of a)for(const n of e.types)if(n.startsWith("image/")||n.startsWith("text/")){const s=await e.getType(n),o=n.split("/")[1].split("+")[0]||"txt",a=new File([s],`clipboard-${Date.now()}.${o}`,{type:n}),c=t+a.name;i.push(zs(l,c,a).then(()=>r?.(a,c)))}await Promise.allSettled(i).catch(console.warn.bind(console))})},Ks=new Set;[{name:"--drag-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--drag-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--resize-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--resize-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--shift-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--shift-y",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-transition-r",syntax:"<length-percentage>",inherits:!1,initialValue:"0px"},{name:"--cs-transition-c",syntax:"<length-percentage>",inherits:!1,initialValue:"0px"},{name:"--cs-p-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cs-p-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--os-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--os-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--rv-grid-r",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--rv-grid-c",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cell-x",syntax:"<number>",inherits:!1,initialValue:"0"},{name:"--cell-y",syntax:"<number>",inherits:!1,initialValue:"0"}].forEach(e=>{if("undefined"!=typeof CSS&&!Ks.has(e.name))try{CSS?.registerProperty?.(e),Ks.add(e.name)}catch(ha){}});new class extends xt{constructor(e){super(e)}connect(e){const t=e?.deref?.();Vr(t,{classList:new Set(["ui-gridlayout"])});const n=[t.clientWidth,t.clientHeight],r=new ResizeObserver(e=>{for(const t of e)if(t?.contentBoxSize){const e=t?.contentBoxSize?.[0];n[0]=e?.inlineSize||n[0]||0,n[1]=e?.blockSize||n[1]||0}});Object.defineProperty(t,"size",{get:()=>n}),r.observe(t,{box:"content-box"}),os.set(t,{pointerMap:new Map,pointerCache:new Map})}}("ui-gridbox");new class extends xt{constructor(e){super(e)}connect(e){const t=e?.deref?.()??e;t.classList.add("ui-orientbox");const n=pn(1),r=pn(Se?.[(()=>{let e=screen.orientation.type;return globalThis.matchMedia("((display-mode: fullscreen) or (display-mode: standalone) or (display-mode: window-controls-overlay))").matches||(matchMedia("(orientation: portrait)").matches?e=e.replace("landscape","portrait"):matchMedia("(orientation: landscape)").matches&&(e=e.replace("portrait","landscape"))),e})()]||0);t.style.setProperty("--zoom",n.value),t.style.setProperty("--orient",r.value),Object.defineProperty(t,"size",{get:()=>i}),Object.defineProperty(t,"zoom",{get:()=>parseFloat(n.value)||1,set:e=>{n.value=e,t.style.setProperty("--zoom",e)}}),Object.defineProperty(t,"orient",{get:()=>parseInt(r.value)||0,set:e=>{r.value=e,t.style.setProperty("--orient",e)}});const i=io(t.clientWidth,t.clientHeight);return new ResizeObserver(e=>{for(const t of e)if(t?.contentBoxSize){const e=t?.contentBoxSize?.[0];i.x.value=e?.inlineSize||i.x.value||0,i.y.value=e?.blockSize||i.y.value||0}}).observe(t,{box:"content-box"}),os.set(t,{pointerMap:new Map,pointerCache:new Map}),this}}("ui-orientbox");function Qs(e){if(!e)return null;if(e.endsWith("%")){const t=parseFloat(e);return Number.isNaN(t)?null:t/100}const t=parseFloat(e);return Number.isNaN(t)?null:t}function Zs(e,t,n){return Math.min(n,Math.max(t,e))}const Gs=e=>e&&null!=e?(function(e){if("string"!=typeof e)return null;let t=e.trim().toLowerCase();if("transparent"===t)return 0;if(t.startsWith("#")){const e=t;if(4===e.length)return 1;if(7===e.length)return 1;if(5===e.length){const t=e[4];return Zs(parseInt(t+t,16)/255,0,1)}if(9===e.length){const t=e.slice(7,9);return Zs(parseInt(t,16)/255,0,1)}return null}const n=t.match(/^([a-z-]+)\((.*)\)$/i);if(!n)return null;n[1];const r=n[2].trim();{const e=r.lastIndexOf("/");if(-1!==e){const t=Qs(r.slice(e+1).trim());return null!=t?Zs(t,0,1):null}}if(r.includes(",")){const e=r.split(",").map(e=>e.trim());if(e.length>=4){const t=Qs(e[3]);return null!=t?Zs(t,0,1):null}return 1}return 1}?.(e)||0)>.1:0,Ys=(e,t,n=null)=>{const r=Array.from(document.elementsFromPoint(e,t))?.filter?.(e=>e instanceof HTMLElement&&e!=n&&(null==e?.dataset?.alpha||parseFloat(e?.dataset?.alpha)>.01)&&e?.checkVisibility?.({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0})&&e?.matches?.(":not([data-hidden])")&&"none"!=e?.style?.getPropertyValue("display")).map(e=>{const t=getComputedStyle?.(e);return{element:e,zIndex:parseInt(t?.zIndex||"0",10)||0,color:t?.backgroundColor||"transparent"}}).sort((e,t)=>Math.sign(t.zIndex-e.zIndex)).filter(({color:e})=>Gs(e));return r?.[0]?.element instanceof HTMLElement&&r?.[0]?.color||"transparent"},eo=(e=document.documentElement)=>{let t=e?.querySelector?.("meta[data-theme-color]")??e?.querySelector?.('meta[name="theme-color"]');t||e!=document.documentElement||(t=document.createElement("meta"),t.setAttribute("name","theme-color"),t.setAttribute("data-theme-color",""),t.setAttribute("content","transparent"),document.head.appendChild(t));const n=Ys(globalThis.innerWidth-64,10);(t||window?.electronBridge)&&e==document.documentElement&&t?.setAttribute?.("content",n)},to=(e=document.documentElement)=>{e.querySelectorAll("body, body > *, body > * > *").forEach(e=>{e&&(e=>{const t=e?.getBoundingClientRect();if(t){const n=.5*me?.(),r=[(t.left+t.right)*n,(t.top+t.bottom)*n];Ys(...r,e)}})(e)})},no=(e=document.documentElement)=>{matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({})=>to(e));const t=()=>{eo(e),to(e)};ce(e,"u2-appear",()=>requestIdleCallback(t,{timeout:100})),ce(e,"u2-hidden",()=>requestIdleCallback(t,{timeout:100})),ce(e,"u2-theme-change",()=>requestIdleCallback(t,{timeout:100})),ce(window,"load",()=>requestIdleCallback(t,{timeout:100})),ce(document,"visibilitychange",()=>requestIdleCallback(t,{timeout:100})),((e,t=1e3,...n)=>{requestIdleCallback(async()=>{if(e&&"function"==typeof e)for(;;)await Promise.try(e,...n),await new Promise(e=>setTimeout(e,t)),await new Promise(e=>requestIdleCallback(e,{timeout:100})),await new Promise(e=>requestAnimationFrame(e))},{timeout:1e3})})(t,500)};"undefined"!=typeof document&&(requestAnimationFrame(()=>(async()=>{eo(),to()})?.()),no?.());class ro{_x;_y;constructor(e=0,t=0){this._x="number"==typeof e?pn(e):e,this._y="number"==typeof t?pn(t):t}get x(){return this._x}set x(e){"number"==typeof e?this._x.value=e:this._x=e}get y(){return this._y}set y(e){"number"==typeof e?this._y.value=e:this._y=e}get 0(){return this._x}get 1(){return this._y}toArray(){return[this._x,this._y]}clone(){return new ro(this._x.value,this._y.value)}set(e,t){return this._x.value=e,this._y.value=t,this}copy(e){return this._x.value=e.x.value,this._y.value=e.y.value,this}add(e){return new ro(this._x.value+e.x.value,this._y.value+e.y.value)}subtract(e){return new ro(this._x.value-e.x.value,this._y.value-e.y.value)}multiply(e){return new ro(this._x.value*e,this._y.value*e)}divide(e){if(0===e)throw new Error("Division by zero");return new ro(this._x.value/e,this._y.value/e)}dot(e){return this._x.value*e.x.value+this._y.value*e.y.value}cross(e){return this._x.value*e.y.value-this._y.value*e.x.value}magnitude(){return Math.sqrt(this._x.value*this._x.value+this._y.value*this._y.value)}magnitudeSquared(){return this._x.value*this._x.value+this._y.value*this._y.value}distanceTo(e){const t=this._x.value-e.x.value,n=this._y.value-e.y.value;return Math.sqrt(t*t+n*n)}distanceToSquared(e){const t=this._x.value-e.x.value,n=this._y.value-e.y.value;return t*t+n*n}normalize(){const e=this.magnitude();return 0===e?new ro(0,0):new ro(this._x.value/e,this._y.value/e)}equals(e,t=1e-6){return Math.abs(this._x.value-e.x.value)<t&&Math.abs(this._y.value-e.y.value)<t}lerp(e,t){const n=Math.max(0,Math.min(1,t));return new ro(this._x.value+(e.x.value-this._x.value)*n,this._y.value+(e.y.value-this._y.value)*n)}angleTo(e){const t=this.dot(e),n=this.cross(e);return Math.atan2(n,t)}rotate(e){const t=Math.cos(e),n=Math.sin(e);return new ro(this._x.value*t-this._y.value*n,this._x.value*n+this._y.value*t)}projectOnto(e){const t=this.dot(e)/e.magnitudeSquared();return e.multiply(t)}reflect(e){const t=e.normalize(),n=this.dot(t);return this.subtract(t.multiply(2*n))}clamp(e,t){return new ro(Math.max(e.x.value,Math.min(t.x.value,this._x.value)),Math.max(e.y.value,Math.min(t.y.value,this._y.value)))}min(){return Math.min(this._x.value,this._y.value)}max(){return Math.max(this._x.value,this._y.value)}static zero(){return new ro(0,0)}static one(){return new ro(1,1)}static unitX(){return new ro(1,0)}static unitY(){return new ro(0,1)}static fromAngle(e,t=1){return new ro(Math.cos(e)*t,Math.sin(e)*t)}static fromPolar(e,t){return ro.fromAngle(e,t)}}const io=(e=0,t=0)=>new ro(e,t),so=(e=0,t=0,n=0,r=0)=>({position:io(e,t),size:io(n,r)}),oo=(e,t)=>new ro(lo([e.x,t.position.x,t.size.x],()=>Math.max(t.position.x.value,Math.min(e.x.value,t.position.x.value+t.size.x.value))),lo([e.y,t.position.y,t.size.y],()=>Math.max(t.position.y.value,Math.min(e.y.value,t.position.y.value+t.size.y.value)))),ao=e=>{const t=[],n=e=>{e&&"object"==typeof e&&"value"in e?t.push(e):Array.isArray(e)?e.forEach(n):e&&"object"==typeof e&&Object.values(e).forEach(n)};return n(e),t},lo=(e,t)=>{const n=()=>e.map(e=>e&&"object"==typeof e&&"value"in e?e.value:e),r=t(...n());if("number"==typeof r){const i=pn(r),s=()=>{i.value=t(...n())};return ao(e).forEach(e=>jn(e,s)),i}let i=r;const s=()=>{i=t(...n())};return ao(e).forEach(e=>jn(e,s)),i};class co{static translate2D(e){return lo([e.x,e.y],()=>`translate(${e.x.value}px, ${e.y.value}px)`)}static translate3D(e,t=pn(0)){return lo([e.x,e.y,t],()=>`translate3d(${e.x.value}px, ${e.y.value}px, ${t.value}px)`)}static scale2D(e){return lo([e.x,e.y],()=>`scale(${e.x.value}, ${e.y.value})`)}static rotate(e){return lo([e],()=>`rotate(${e.value}deg)`)}static combine(e){return lo(e,()=>e.map(e=>e.value).join(" "))}static matrix2D(e){return lo(e.elements,()=>`matrix(${e.elements.map(e=>e.value).join(", ")})`)}static matrix3D(e){return lo(e.elements,()=>`matrix3d(${e.elements.map(e=>e.value).join(", ")})`)}}class uo{static leftTop(e){return{left:lo([e.x],()=>`${e.x.value}px`),top:lo([e.y],()=>`${e.y.value}px`)}}static inset(e){return{inset:lo([e.x,e.y],()=>`${e.y.value}px ${e.x.value}px`)}}static size(e){return{width:lo([e.x],()=>`${e.x.value}px`),height:lo([e.y],()=>`${e.y.value}px`)}}}class fo{static bindTransform(e,t,n="instant",r){const i=co.translate2D(t);return("instant"===n?ir:"animate"===n?sr:"transition"===n?or:ar)(e,"transform",i,r)??(()=>{})}static bindPosition(e,t,n="instant",r){const i=uo.leftTop(t),s="instant"===n?ir:"animate"===n?sr:"transition"===n?or:ar,o=s(e,"left",i.left,r)??(()=>{}),a=s(e,"top",i.top,r)??(()=>{});return()=>{o?.(),a?.()}}static bindSize(e,t,n="instant",r){const i=uo.size(t),s="instant"===n?ir:"animate"===n?sr:"transition"===n?or:ar,o=s(e,"width",i.width,r)??(()=>{}),a=s(e,"height",i.height,r)??(()=>{});return()=>{o?.(),a?.()}}static bindWithUnit(e,t,n,r="px",i="instant",s){const o=lo([n],()=>`${n.value}${r}`);return("instant"===i?ir:"animate"===i?sr:"transition"===i?or:ar)(e,t,o,s)??(()=>{})}static bindVectorWithUnit(e,t,n="px",r="instant",i){const s=lo([t.x,t.y],()=>`${t.x.value}${n} ${t.y.value}${n}`);return("instant"===r?ir:"animate"===r?sr:"transition"===r?or:ar)(e,"transform",s,{...i,handler:"instant"===r?void 0:(e,t)=>{e.style.setProperty("transform",`translate(${t})`)}})??(()=>{})}static bindTransformMorph(e,t,n={}){const r={};if(t.translate&&(r.transform=lo([t.translate.x,t.translate.y],()=>`translate(${t.translate.x.value}px, ${t.translate.y.value}px)`)),t.scale){const e=t.scale instanceof ro?lo([t.scale.x,t.scale.y],()=>`scale(${t.scale.x.value}, ${t.scale.y.value})`):lo([t.scale],()=>`scale(${t.scale.value})`);r.transform=r.transform?lo([r.transform,e],(e,t)=>`${e} ${t}`):e}if(t.rotate){const e=lo([t.rotate],()=>`rotate(${t.rotate.value}deg)`);r.transform=r.transform?lo([r.transform,e],(e,t)=>`${e} ${t}`):e}if(t.skew){const e=lo([t.skew.x,t.skew.y],()=>`skew(${t.skew.x.value}deg, ${t.skew.y.value}deg)`);r.transform=r.transform?lo([r.transform,e],(e,t)=>`${e} ${t}`):e}return((e,t,n={})=>Qn(e,"",t,"morph",n))(e,r,n)}static bindColor(e,t,n,r="transition",i={duration:300,easing:"ease-in-out"}){return("instant"===r?ir:"animate"===r?sr:or)(e,t,"string"==typeof n?n:lo([n],()=>`hsl(${n.value}, 70%, 50%)`),i)??(()=>{})}static bindOpacity(e,t,n="transition",r={duration:200,easing:"ease-in-out"}){return("instant"===n?ir:"animate"===n?sr:"transition"===n?or:ar)(e,"opacity",t,r)??(()=>{})}static bindBorderRadius(e,t,n="animate",r={duration:300,easing:"ease-out"}){return("instant"===n?ir:"animate"===n?sr:"transition"===n?or:ar)(e,"border-radius",t instanceof ro?lo([t.x,t.y],()=>`${t.x.value}px ${t.y.value}px`):lo([t],()=>`${t.value}px`),r)??(()=>{})}}class ho{static add(e,t,n="px"){return lo([e,t],()=>`calc(${e.value}${n} + ${t.value}${n})`)}static subtract(e,t,n="px"){return lo([e,t],()=>`calc(${e.value}${n} - ${t.value}${n})`)}static multiply(e,t){return lo([e,t],()=>`calc(${e.value} * ${t.value})`)}static divide(e,t){return lo([e,t],()=>`calc(${e.value} / ${t.value})`)}static clamp(e,t,n,r="px"){return lo([e,t,n],()=>`clamp(${t.value}${r}, ${e.value}${r}, ${n.value}${r})`)}static min(e,t,n="px"){return lo([e,t],()=>`min(${e.value}${n}, ${t.value}${n})`)}static max(e,t,n="px"){return lo([e,t],()=>`max(${e.value}${n}, ${t.value}${n})`)}}const po=JSON,mo={};mo.JSOX=mo,mo.version="1.2.125";const go="function"==typeof BigInt,yo=["ab","u8","cu8","s8","u16","s16","u32","s32","u64","s64","f32","f64"];let bo=null,vo=null;const wo=[ArrayBuffer,Uint8Array,Uint8ClampedArray,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,null,null,Float32Array,Float64Array],So=29,xo=30,ko=31,Eo={true:!0,false:!1,null:null,NaN:NaN,Infinity:1/0,undefined:void 0};class Po extends Date{constructor(e,t){super(e),this.ns=t||0}}mo.DateNS=Po;const Ao=[];function Mo(){let e=Ao.pop();return e||(e={context:0,current_proto:null,current_class:null,current_class_field:0,arrayType:-1,valueType:0,elements:null}),e}function No(e){Ao.push(e)}mo.updateContext=function(){};const Oo=[];function jo(e){Oo.push(e)}mo.escape=function(e){let t,n="";if(!e)return e;for(t=0;t<e.length;t++)'"'!=e[t]&&"\\"!=e[t]&&"`"!=e[t]&&"'"!=e[t]||(n+="\\"),n+=e[t];return n};let _o=new WeakMap,Co=new Map,Lo=new Map,Io=[];mo.reset=function(){_o=new WeakMap,Co=new Map,Lo=new Map,Io=[]},mo.begin=function(e,t){const n={name:null,value_type:0,string:"",contains:null,className:null},r={line:1,col:1};let i,s,o=0,a=new Map,l=0,c=!0,u=!1,f=!1,d=null,h=null,p={first:null,last:null,saved:null,push(e){let t=this.saved;t?(this.saved=t.next,t.node=e,t.next=null,t.prior=this.last):t={node:e,next:null,prior:this.last},this.last?this.last.next=t:this.first=t,this.last=t,this.length++},pop(){let e=this.last;return(this.last=e.prior)||(this.first=null),e.next=this.saved,this.last&&(this.last.next=null),e.next||(e.first=null),this.saved=e,this.length--,e.node},length:0},m=[],g={},y=null,b=null,v=0,w=-1,S=0,x=0,k=!1,E=!1,P=!1,A=!1,M=!1,N={first:null,last:null,saved:null,push(e){let t=this.saved;t?(this.saved=t.next,t.node=e,t.next=null,t.prior=this.last):t={node:e,next:null,prior:this.last},this.last?this.last.next=t:this.first=t,this.last=t},shift(){let e=this.first;return e?((this.first=e.next)||(this.last=null),e.next=this.saved,this.saved=e,e.node):null},unshift(e){let t=this.saved;this.saved=t.next,t.node=e,t.next=this.first,t.prior=null,this.first||(this.last=t),this.first=t}},O=null,j=!1,_=!1,C=!1,L=!1,I=!1,R=!1,W=!1,$=0,T=0,D=!1,z=!1,F=!1;function q(e){throw new Error(`${e} at ${o} [${r.line}:${r.col}]`)}return{fromJSOX(e,t,n){if(a.get(e))throw new Error("Existing fromJSOX has been registered for prototype");if(t||(t=function(){}),t&&!("constructor"in t))throw new Error("Please pass a prototype like thing...");a.set(e,{protoCon:t.prototype.constructor,cb:n})},registerFromJSOX(e,t){throw new Error("registerFromJSOX is deprecated, please update to use fromJSOX instead:"+e+t.toString())},finalError(){0!==x&&(1===x&&q("Comment began at end of document"),3===x&&q("Open comment '/*' is missing close at end of document"),4===x&&q("Incomplete '/* *' close at end of document")),j&&q("Incomplete string")},value(){this.finalError();let e=d;return d=void 0,e},reset(){l=0,c=!0,N.last&&(N.last.next=N.save),N.save=N.first,N.first=N.last=null,p.last&&(p.last.next=p.save),p.length=0,p.save=N.first,p.first=p.last=null,s=void 0,S=0,m=[],g={},y=null,b=null,v=0,n.value_type=0,n.name=null,n.string="",n.className=null,r.line=1,r.col=1,f=!1,x=0,D=!1,j=!1,C=!1,L=!1,z=!1},usePrototype(e,t){g[e]=t},write(n){let r;if("string"!=typeof n&&void 0!==n&&(n=String(n)),!c)throw new Error("Parser is still in an error state, please reset before resuming");for(r=this._write(n,!1);r>0&&("function"==typeof t&&function e(n,r){let i,s,o=n[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s=e(o,i),void 0!==s?o[i]=s:delete o[i]);return t.call(n,r,o)}({"":d},""),d=e(d),!(r<2));r=this._write());},parse(e,t){"string"!=typeof e&&(e=String(e)),this.reset();const n=this._write(e,!0);if(n>0){let e=this.value();if(void 0===e&&n>1)throw new Error("Pending value could not complete");return e="function"==typeof t?function e(n,r){let i,s,o=n[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s=e(o,i),void 0!==s?o[i]=s:delete o[i]);return t.call(n,r,o)}({"":e},""):e,e}this.finalError()},_write(e,t){let g,q,H,B=0;function V(e,t){throw new Error(`${e} '${String.fromCodePoint(t)}' unexpected at ${o} (near '${H.substr(o>4?o-4:0,o>4?3:o-1)}[${String.fromCodePoint(t)}]${H.substr(o,10)}') [${r.line}:${r.col}]`)}function U(){n.value_type=0,n.string="",n.contains=null}function J(){let e=null;switch(n.value_type){case 5:if(!(n.string.length>13||13==n.string.length&&n[0]>"2")||z||M||A||E||(F=!0),F){if(go)return BigInt(n.string);throw new Error("no builtin BigInt()",0)}if(z){const e=n.string.match(/\.(\d\d\d\d*)/),t=e?e[1]:null;if(!t||t.length<4){const e=new Date(n.string);return isNaN(e.getTime())&&V("Bad Date format",g),e}{let e=t.substr(3);for(;e.length<6;)e+="0";const r=new Po(n.string,Number(e));return isNaN(r.getTime())&&V("Bad DateNS format"+r+r.getTime(),g),r}}return(f?-1:1)*Number(n.string);case 4:if(n.className){if(e=a.get(n.className),e||(e=Lo.get(n.className)),e&&e.cb)return n.className=null,e.cb.call(n.string);throw new Error("Double string error, no constructor for: new "+n.className+"("+n.string+")")}return n.string;case 2:return!0;case 3:return!1;case 7:case 8:return NaN;case 9:return-1/0;case 10:return 1/0;case 1:return null;case-1:case 12:return;case 6:return n.className&&(e=a.get(n.className),e||(e=Lo.get(n.className)),n.className=null,e&&e.cb)?n.contains=e.cb.call(n.contains):n.contains;case 13:if(w>=0){let e;if(e=n.contains.length?Fo(n.contains[0]):Fo(n.string),0===w)return w=-1,e;{const t=new wo[w](e);return w=-1,t}}if(-2===w){let e,t=h;const r=n.contains.length;for(e=0;e<r;e++){const i=n.contains[e];let o=t[i];if(!o){let i=p.first,a=0;for(;i&&a<r&&a<p.length;){const r=n.contains[a];if(!i.next||r!==i.next.node.name)break;if(i.next)if("number"==typeof r){const e=i.next.node.elements;if(e&&r>=e.length){if(a===p.length-1){console.log("This is actually at the current object so use that",a,n.contains,s),o=s,a++,i=i.next;break}if(i.next.next&&r===e.length){o=i.next.next.node.elements,i=i.next,a++,t=o;continue}o=s,a++;break}}else{if(r!==i.next.node.name){o=i.next.node.elements[r],e=a;break}o=i.next.next?i.next.next.node.elements:s}else o=o[r];i=i.next,a++}e=a<r?a-1:a}if("object"==typeof o&&!o)throw new Error("Path did not resolve properly:"+n.contains+" at "+i+"("+e+")");t=o}return w=-3,t}return n.className&&(e=a.get(n.className),e||(e=Lo.get(n.className)),n.className=null,e&&e.cb)?e.cb.call(n.contains):n.contains;default:console.log("Unhandled value conversion.",n)}}function X(){if(-3==w)return 6===n.value_type&&s.push(n.contains),void(w=-1);if(12===n.value_type)s.push(void 0),delete s[s.length-1];else s.push(J());U()}function K(){if(-3===w&&13===n.value_type)return U(),void(w=-1);if(12===n.value_type)return;!n.name&&b&&(n.name=b.fields[v++]);let e=J();y&&y.protoDef&&y.protoDef.cb?(e=y.protoDef.cb.call(s,n.name,e),e&&(s[n.name]=e)):s[n.name]=e,U()}function Q(e){if(0!==l){switch(f&&V("Negative outside of quotes, being converted to a string (would lose count of leading '-' characters)",e),l){case ko:switch(n.value_type){case 2:n.string+="true";break;case 3:n.string+="false";break;case 1:n.string+="null";break;case 10:n.string+="Infinity";break;case 9:n.string+="-Infinity",V("Negative outside of quotes, being converted to a string",e);break;case 8:n.string+="NaN";break;case 7:n.string+="-NaN",V("Negative outside of quotes, being converted to a string",e);break;case-1:n.string+="undefined";break;case 4:case 0:break;default:console.log("Value of type "+n.value_type+" is not restored...")}break;case 1:n.string+="t";break;case 2:n.string+="tr";break;case 3:n.string+="tru";break;case 5:n.string+="f";break;case 6:n.string+="fa";break;case 7:n.string+="fal";break;case 8:n.string+="fals";break;case 9:n.string+="n";break;case 10:n.string+="nu";break;case 11:n.string+="nul";break;case 12:n.string+="u";break;case 13:n.string+="un";break;case 14:n.string+="und";break;case 15:n.string+="unde";break;case 16:n.string+="undef";break;case 17:n.string+="undefi";break;case 18:n.string+="undefin";break;case 19:n.string+="undefine";break;case 20:n.string+="N";break;case 21:n.string+="Na";break;case 22:n.string+="I";break;case 23:n.string+="In";break;case 24:n.string+="Inf";break;case 25:n.string+="Infi";break;case 26:n.string+="Infin";break;case 27:n.string+="Infini";break;case 28:n.string+="Infinit";break;case 0:case So:case xo:break;case 32:V("String-keyword recovery fail (after whitespace)",e)}n.value_type=4,l<So&&(l=ko)}else l=ko,n.value_type=4;if(123==e)Y();else if(91==e)ee();else if(44==e);else{if(32==e||13==e||10==e||9==e||65279==e||8232==e||8233==e)return;44==e||125==e||93==e||58==e||(n.string+=i)}}function Z(e){let t=0;for(;0==t&&o<H.length;){i=H.charAt(o);let s=H.codePointAt(o++);if(s>=65536&&(i+=H.charAt(o),o++),r.col++,s==e)C?(W?V("Incomplete hexidecimal sequence",s):R?V("Incomplete long unicode sequence",s):I&&V("Incomplete unicode sequence",s),L?(L=!1,t=1):n.string+=i,C=!1):t=1;else if(C){if(I){if(125==s){n.string+=String.fromCodePoint($),I=!1,R=!1,C=!1;continue}if($*=16,s>=48&&s<=57)$+=s-48;else if(s>=65&&s<=70)$+=s-65+10;else{if(!(s>=97&&s<=102)){V("(escaped character, parsing hex of \\u)",s),t=-1,I=!1,C=!1;continue}$+=s-97+10}continue}if(W||R){if(0===T&&123===s){I=!0;continue}if(T<2||R&&T<4){if($*=16,s>=48&&s<=57)$+=s-48;else if(s>=65&&s<=70)$+=s-65+10;else{if(!(s>=97&&s<=102)){V(R?"(escaped character, parsing hex of \\u)":"(escaped character, parsing hex of \\x)",s),t=-1,W=!1,C=!1;continue}$+=s-97+10}T++,R?4==T&&(n.string+=String.fromCodePoint($),R=!1,C=!1):2==T&&(n.string+=String.fromCodePoint($),W=!1,C=!1);continue}}switch(s){case 13:L=!0,r.col=1;continue;case 8232:case 8233:r.col=1;case 10:L?L=!1:r.col=1,r.line++;break;case 116:n.string+="\t";break;case 98:n.string+="\b";break;case 110:n.string+="\n";break;case 114:n.string+="\r";break;case 102:n.string+="\f";break;case 118:n.string+="\v";break;case 48:n.string+="\0";break;case 120:W=!0,T=0,$=0;continue;case 117:R=!0,T=0,$=0;continue;default:n.string+=i}C=!1}else 92===s?C?(n.string+="\\",C=!1):(C=!0,$=0,T=0):(L&&(L=!1,r.line++,r.col=2),n.string+=i)}return t}function G(){let e;for(;(e=o)<H.length;){i=H.charAt(e);let s=H.codePointAt(o++);if(s>=256){r.col-=o-e,o=e;break}if(95!=s)if(r.col++,s>=48&&s<=57)P&&(M=!0),n.string+=i;else if(45==s||43==s)0==n.string.length||P&&!A&&!M?(45!=s||P||(f=!f),n.string+=i,A=!0):(f&&(n.string="-"+n.string,f=!1),n.string+=i,z=!0);else{if(78==s){if(0==l)return _=!1,void(l=20);V("fault while parsing number;",s);break}if(73==s){if(0==l)return _=!1,void(l=22);V("fault while parsing number;",s);break}if(58==s&&z)f&&(n.string="-"+n.string,f=!1),n.string+=i,z=!0;else if(84==s&&z)f&&(n.string="-"+n.string,f=!1),n.string+=i,z=!0;else if(90==s&&z)f&&(n.string="-"+n.string,f=!1),n.string+=i,z=!0;else if(46==s){if(E||k||P){c=!1,V("fault while parsing number;",s);break}n.string+=i,E=!0}else{if(110==s){F=!0;break}if(k&&(s>=95&&s<=102||s>=65&&s<=70))n.string+=i;else if(120==s||98==s||111==s||88==s||66==s||79==s){if(k||"0"!=n.string){c=!1,V("fault while parsing number;",s);break}k=!0,n.string+=i}else{if(101!=s&&69!=s){if(32==s||13==s||10==s||9==s||47==s||35==s||44==s||125==s||93==s||123==s||91==s||34==s||39==s||96==s||58==s){r.col-=o-e,o=e;break}t&&(c=!1,V("fault while parsing number;",s));break}if(P){c=!1,V("fault while parsing number;",s);break}n.string+=i,P=!0}}}}t||o!=H.length?(_=!1,n.value_type=5,0==S&&(D=!0)):_=!0}function Y(){let e,t=2,r=null,i={};if(l>0&&l<So&&Q(123),e=te(),0==S)if(l==So||l==ko&&(e||n.string.length)){if(e&&e.protoDef&&e.protoDef.protoCon&&(i=new e.protoDef.protoCon),!e||!e.protoDef&&n.string){if(r=m.find(e=>e.name===n.string),r)u?(r.fields.length=0,t=4):(i=new r.protoCon,t=5);else{function f(){}m.push(r={name:n.string,protoCon:e&&e.protoDef&&e.protoDef.protoCon||f.constructor,fields:[]}),t=4}u=!1}b=r,l=0}else l=So;else if(l==So||1===S||3===S||5==S)if(0!=l||4==n.value_type){if(e&&e.protoDef)i=new e.protoDef.protoCon;else if(r=m.find(e=>e.name===n.string),r)t=5,i={};else{function d(){}a.set(n.string,{protoCon:d.prototype.constructor,cb:null}),i=new d}l=0}else l=0;else if(2==S&&0==l)return V("fault while parsing; getting field name unexpected ",g),c=!1,!1;let o=Mo();return n.value_type=6,0===S?s=i:1==S?n.name=s.length:3!=S&&5!=S||(!n.name&&b&&(n.name=b.fields[v++]),s[n.name]=i),o.context=S,o.elements=s,o.name=n.name,o.current_proto=y,o.current_class=b,o.current_class_field=v,o.valueType=n.value_type,o.arrayType=w,o.className=n.className,n.className=null,n.name=null,y=e,b=r,v=0,s=i,h||(h=s),p.push(o),U(),S=t,!0}function ee(){if(l>0&&l<So&&Q(91),l==ko&&n.string.length){let e=yo.findIndex(e=>e===n.string);l=0,e>=0?(w=e,n.className=n.string,n.string=null):"ref"===n.string?(n.className=null,w=-2):a.get(n.string)||Lo.get(n.string)?n.className=n.string:V(`Unknown type '${n.string}' specified for array`,g)}else if(2==S||l==So||l==xo)return V("Fault while parsing; while getting field name unexpected",g),c=!1,!1;{let e=Mo();n.value_type=13;let t=[];if(0==S)s=t;else if(1==S)-1==w&&s.push(t),n.name=s.length;else if(3==S)if(n.name||(console.log("This says it's resolved......."),w=-3),y&&y.protoDef)if(y.protoDef.cb){const e=y.protoDef.cb.call(s,n.name,t);void 0!==e&&(t=s[n.name]=e)}else s[n.name]=t;else s[n.name]=t;e.context=S,e.elements=s,e.name=n.name,e.current_proto=y,e.current_class=b,e.current_class_field=v,e.valueType=n.value_type,e.arrayType=-1==w?-3:w,e.className=n.className,w=-1,n.className=null,n.name=null,y=null,b=null,v=0,s=t,h||(h=t),p.push(e),U(),S=1}return!0}function te(){const e={protoDef:null,cls:null};return((e.protoDef=a.get(n.string))||(e.protoDef=Lo.get(n.string)))&&(n.className||(n.className=n.string,n.string=null)),n.string&&(e.cls=m.find(e=>e.name===n.string),!e.protoDef&&e.cls),e.protoDef||e.cls?e:null}if(!c)return-1;for(e&&e.length?(q=function(){let e=Oo.pop();return e?e.n=0:e={buf:null,n:0},e}(),q.buf=e,N.push(q)):(_&&(_=!1,n.value_type=5,0==S&&(D=!0),B=1),0!==S&&V("Unclosed object at end of stream.",g));c&&(q=N.shift());){if(o=q.n,H=q.buf,j){let e=Z(O);e<0?c=!1:e>0&&(j=!1,c&&(n.value_type=4))}for(_&&G();!D&&c&&o<H.length;)if(i=H.charAt(o),g=H.codePointAt(o++),g>=65536&&(i+=H.charAt(o),o++),r.col++,x)if(1==x)if(42==g)x=3;else{if(47!=g)return V("fault while parsing;",g);x=2}else 2==x?10!=g&&13!=g||(x=0):3==x?42==g&&(x=4):x=47==g?0:3;else{switch(g){case 35:x=2;break;case 47:x=1;break;case 123:Y();break;case 91:ee();break;case 58:if(5==S)l=0,n.name=n.string,n.string="",n.value_type=0;else if(2==S||4==S)if(4==S){if(!Object.keys(s).length){console.log("This is a full object, not a class def...",n.className);const e=()=>{};a.set(p.last.node.current_class.name,{protoCon:e.prototype.constructor,cb:null}),s=new e,S=3,n.name=n.string,l=0,n.string="",n.value_type=0,console.log("don't do default;s do a revive...")}}else 0!=l&&l!=ko&&l!=So&&l!=xo&&Q(32),l=0,n.name=n.string,n.string="",S=2===S?3:6,n.value_type=0;else{if(0==S){console.log("Override colon found, allow class redefinition",S),u=!0;break}V(1==S?"(in array, got colon out of string):parsing fault;":3==S?"String unexpected":"(outside any object, got colon out of string):parsing fault;",g),c=!1}break;case 125:if(l==ko&&(l=0),4==S)if(b){n.string&&b.fields.push(n.string),U();let e=p.pop();S=0,l=0,n.name=e.name,s=e.elements,b=e.current_class,v=e.current_class_field,w=e.arrayType,n.value_type=e.valueType,n.className=e.className,h=null,No(e)}else V("State error; gathering class fields, and lost the class",g);else if(2==S||5==S){0!=n.value_type&&(b&&(n.name=b.fields[v++]),K()),n.value_type=6,y&&y.protoDef&&(console.log("SOMETHING SHOULD AHVE BEEN REPLACED HERE??",y),console.log("The other version only revives on init"),s=new y.protoDef.cb(s,void 0,void 0)),n.contains=s,n.string="";let e=p.pop();S=e.context,n.name=e.name,s=e.elements,b=e.current_class,y=e.current_proto,v=e.current_class_field,w=e.arrayType,n.value_type=e.valueType,n.className=e.className,No(e),0==S&&(D=!0)}else if(3==S){0===n.value_type&&(0==l?V("Fault while parsing; unexpected",g):Q(g)),K(),n.value_type=6,n.contains=s,l=0;let e=p.pop();S=e.context,n.name=e.name,s=e.elements,y=e.current_proto,b=e.current_class,v=e.current_class_field,w=e.arrayType,n.value_type=e.valueType,n.className=e.className,No(e),0==S&&(D=!0)}else V("Fault while parsing; unexpected",g),c=!1;f=!1;break;case 93:if(l>=xo&&(l=0),1==S){0!=n.value_type?X():0!==l&&(Q(g),X()),n.contains=s;{let e=p.pop();n.name=e.name,n.className=e.className,S=e.context,s=e.elements,y=e.current_proto,b=e.current_class,v=e.current_class_field,w=e.arrayType,n.value_type=e.valueType,No(e)}n.value_type=13,0==S&&(D=!0)}else V(`bad context ${S}; fault while parsing`,g),c=!1;f=!1;break;case 44:l<xo&&0!=l&&Q(g),l!=ko&&l!=So||(l=0),4==S?b?(b.fields.push(n.string),n.string="",l=So):V("State error; gathering class fields, and lost the class",g):2==S?b?(n.name=b.fields[v++],0!=n.value_type&&(K(),U())):(n.string||n.value_type)&&V("State error; comma in field name and/or lost the class",g):5==S?(b?(-3==w||n.name||(n.name=b.fields[v++]),0!=n.value_type&&(-3!=w&&K(),U())):0!=n.value_type&&(K(),U()),n.name=null):1==S?(0==n.value_type&&(n.value_type=12),X(),U(),l=0):3==S&&0!=n.value_type?(S=2,0!=n.value_type&&(K(),U()),l=0):(c=!1,V("bad context; excessive commas while parsing;",g)),f=!1;break;default:switch(g){default:if(0!=S&&(3!=S||l!=So)&&2!=S&&l!=So&&4!=S){if(0==l&&(g>=48&&g<=57||43==g||46==g||45==g))k=!1,P=!1,z=!1,F=!1,A=!1,M=!1,E=!1,n.string=i,q.n=o,G();else if(0==n.value_type)0!=l?Q(g):(l=ko,n.string+=i,n.value_type=4);else if(2==S)V("Multiple values found in field name",g);else if(3==S)if(4!=n.value_type&&(6!=n.value_type&&13!=n.value_type||V("String unexpected",g),Q(g)),l==xo){te()?n.string=i:V("String unexpected",g)}else l==ko?n.string+=i:V("String unexpected",g);else if(1==S){if(l==xo){n.className||(n.className=n.string,n.string=""),n.string+=i;break}l==ko&&(n.string+=i)}break}switch(g){case 96:case 34:case 39:if(0==l||l==So){n.string.length&&(console.log("IN ARRAY AND FIXING?"),n.className=n.string,n.string=""),Z(g)?n.value_type=4:(O=g,j=!0)}else V("fault while parsing; quote not at start of field name",g);break;case 10:r.line++,r.col=1;case 13:case 32:case 8232:case 8233:case 9:case 65279:if(0===S&&l===ko){l=0,0===S&&(D=!0);break}if(0===l||l===xo){0==S&&n.value_type&&(D=!0);break}if(l===So){if(0===S){l=0,D=!0;break}n.string.length&&console.log("STEP TO NEXT TOKEN."),l=xo}else c=!1,V("fault while parsing; whitepsace unexpected",g);break;default:if(0==l&&(g>=48&&g<=57||43==g||46==g||45==g)){k=!1,P=!1,z=!1,F=!1,A=!1,M=!1,E=!1,n.string=i,q.n=o,G();break}if(l===xo&&(c=!1,V("fault while parsing; character unexpected",g)),0===l){l=So,n.value_type=4,n.string+=i;break}if(0==n.value_type)0!==l&&l!==ko&&Q(g);else{if(l===ko||l===So){n.string+=i;break}if(2==S){if(l==So){n.string+=i;break}V("Multiple values found in field name",g)}3==S&&V("String unexpected",g)}}break;case 96:case 34:case 39:n.string&&(n.className=n.string),n.string="",Z(g)?(n.value_type=4,l=ko):(O=g,j=!0);break;case 10:r.line++,r.col=1;case 32:case 9:case 13:case 8232:case 8233:case 65279:if(l==ko){if(0==S){l=0,D=!0;break}if(3==S){l=32;break}if(2==S){l=xo;break}if(1==S){l=xo;break}}if(0==l||l==xo)break;l==So?n.string.length&&(l=xo):l<ko&&Q(g);break;case 116:0==l?l=1:27==l?l=28:Q(g);break;case 114:1==l?l=2:Q(g);break;case 117:2==l?l=3:9==l?l=10:0==l?l=12:Q(g);break;case 101:3==l?(n.value_type=2,l=ko):8==l?(n.value_type=3,l=ko):14==l?l=15:18==l?l=19:Q(g);break;case 110:0==l?l=9:12==l?l=13:17==l?l=18:22==l?l=23:25==l?l=26:Q(g);break;case 100:13==l?l=14:19==l?(n.value_type=-1,l=ko):Q(g);break;case 105:16==l?l=17:24==l?l=25:26==l?l=27:Q(g);break;case 108:10==l?l=11:11==l?(n.value_type=1,l=ko):6==l?l=7:Q(g);break;case 102:0==l?l=5:15==l?l=16:23==l?l=24:Q(g);break;case 97:5==l?l=6:20==l?l=21:Q(g);break;case 115:7==l?l=8:Q(g);break;case 73:0==l?l=22:Q(g);break;case 78:0==l?l=20:21==l?(n.value_type=f?7:8,f=!1,l=ko):Q(g);break;case 121:28==l?(n.value_type=f?9:10,f=!1,l=ko):Q(g);break;case 45:0==l?f=!f:Q(g);break;case 43:0!==l&&Q(g)}}if(D){l==ko&&(l=0);break}}if(o==H.length?(jo(q),0==n.value_type&&t&&0!=l&&Q(32),j||_||2==S?B=0:0!=S||0==n.value_type&&!d||(D=!0,B=1)):(q.n=o,N.unshift(q),B=2),D){h=null;break}}return c?(D&&0!=n.value_type&&(l=0,d=J(),f=!1,n.string="",n.value_type=0),D=!1,B):-1}}};const Ro=[Object.freeze(mo.begin())];let Wo=0;function $o(){return this&&this.valueOf()}mo.parse=function(e,t){let n,r=Wo++;Ro.length<=r&&Ro.push(Object.freeze(mo.begin())),n=Ro[r],"string"!=typeof e&&(e=String(e)),n.reset();const i=n._write(e,!0);if(i>0){let e=n.value();if(void 0===e&&i>1)throw new Error("Pending value could not complete");return e="function"==typeof t?function e(n,r){let i,s,o=n[r];if(o&&"object"==typeof o)for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(s=e(o,i),void 0!==s?o[i]=s:delete o[i]);return t.call(n,r,o)}({"":e},""):e,Wo--,e}n.finalError()},mo.defineClass=function(e,t){let n,r=Object.keys(t);for(let i=1;i<r.length;i++){let e,t;(e=r[i-1])>(t=r[i])&&(r[i-1]=t,r[i]=e,i?i-=2:i--)}Io.push(n={name:e,tag:r.toString(),proto:Object.getPrototypeOf(t),fields:Object.keys(t)});for(let i=1;i<n.fields.length;i++)if(n.fields[i]<n.fields[i-1]){let e=n.fields[i-1];n.fields[i-1]=n.fields[i],n.fields[i]=e,i>1&&(i-=2)}n.proto===Object.getPrototypeOf({})&&(n.proto=null)},mo.registerToJSOX=function(e,t,n){throw new Error("registerToJSOX deprecated; please use toJSOX:"+prototypeName+prototype.toString())},mo.toJSOX=function(e,t,n){if(t.prototype&&t.prototype===Object.prototype){let r=Object.keys(t).toString();if(Co.get(r))throw new Error("Existing toJSOX has been registered for object type");Co.set(r,{external:!0,name:e,cb:n})}else{if(_o.get(t.prototype))throw new Error("Existing toJSOX has been registered for prototype");_o.set(t.prototype,{external:!0,name:e||n.constructor.name,cb:n})}},mo.fromJSOX=function(e,t,n){if(t||(t=function(){}.prototype),Lo.get(e))throw new Error("Existing fromJSOX has been registered for prototype");if(t&&!("constructor"in t))throw new Error("Please pass a prototype like thing...");Lo.set(e,{protoCon:t.prototype.constructor,cb:n})},mo.registerFromJSOX=function(e,t){throw new Error("deprecated; please adjust code to use fromJSOX:"+e+t.toString())},mo.addType=function(e,t,n,r){mo.toJSOX(e,t,n),mo.fromJSOX(e,t,r)},mo.registerToFrom=function(e,t){throw new Error("registerToFrom deprecated; please use addType:"+e+t.toString())},mo.stringifier=function(){let e=[],t='"',n=new WeakMap;const r=[];let i=[];const s=new WeakMap,o=new Map;let a=null;const l=[];let c=!1;function u(e){return"string"==typeof e&&""===e?'""':"number"!=typeof e||isNaN(e)?e.includes("\ufeff")||e in Eo||/[0-9\-]/.test(e[0])||/[\n\r\t #\[\]{}()<>\~!+*/.:,\-"'`]/.test(e)?t+mo.escape(e)+t:e:["'",e.toString(),"'"].join("")}_o.get(Object.prototype)||(_o.set(Object.prototype,{external:!1,name:Object.prototype.constructor.name,cb:null}),_o.set(Date.prototype,{external:!1,name:"Date",cb:function(){if(-621672192e5===this.getTime())return"0000-01-01T00:00:00.000Z";let e=-this.getTimezoneOffset(),t=e>=0?"+":"-",n=function(e){let t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return[this.getFullYear(),"-",n(this.getMonth()+1),"-",n(this.getDate()),"T",n(this.getHours()),":",n(this.getMinutes()),":",n(this.getSeconds()),"."+function(e){let t=Math.floor(Math.abs(e));return(t<100?"0":"")+(t<10?"0":"")+t}(this.getMilliseconds())+t,n(e/60),":",n(e%60)].join("")}}),_o.set(Po.prototype,{external:!1,name:"DateNS",cb:function(){let e=-this.getTimezoneOffset(),t=e>=0?"+":"-",n=function(e){let t=Math.floor(Math.abs(e));return(t<10?"0":"")+t};return[this.getFullYear(),"-",n(this.getMonth()+1),"-",n(this.getDate()),"T",n(this.getHours()),":",n(this.getMinutes()),":",n(this.getSeconds()),"."+function(e){let t=Math.floor(Math.abs(e));return(t<100?"0":"")+(t<10?"0":"")+t}(this.getMilliseconds())+function(e){let t=Math.floor(Math.abs(e));return(t<1e5?"0":"")+(t<1e4?"0":"")+(t<1e3?"0":"")+(t<100?"0":"")+(t<10?"0":"")+t}(this.ns)+t,n(e/60),":",n(e%60)].join("")}}),_o.set(Boolean.prototype,{external:!1,name:"Boolean",cb:$o}),_o.set(Number.prototype,{external:!1,name:"Number",cb:function(){return isNaN(this)?"NaN":isFinite(this)?String(this):this<0?"-Infinity":"Infinity"}}),_o.set(String.prototype,{external:!1,name:"String",cb:function(){return'"'+mo.escape($o.apply(this))+'"'}}),"function"==typeof BigInt&&_o.set(BigInt.prototype,{external:!1,name:"BigInt",cb:function(){return this+"n"}}),_o.set(ArrayBuffer.prototype,{external:!0,name:"ab",cb:function(){return"["+u(zo(this))+"]"}}),_o.set(Uint8Array.prototype,{external:!0,name:"u8",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Uint8ClampedArray.prototype,{external:!0,name:"uc8",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Int8Array.prototype,{external:!0,name:"s8",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Uint16Array.prototype,{external:!0,name:"u16",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Int16Array.prototype,{external:!0,name:"s16",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Uint32Array.prototype,{external:!0,name:"u32",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Int32Array.prototype,{external:!0,name:"s32",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Float32Array.prototype,{external:!0,name:"f32",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Float64Array.prototype,{external:!0,name:"f64",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(Float64Array.prototype,{external:!0,name:"f64",cb:function(){return"["+u(zo(this.buffer))+"]"}}),_o.set(RegExp.prototype,vo={external:!0,name:"regex",cb:function(e,t){return"'"+escape(this.source)+"'"}}),Lo.set("regex",{protoCon:RegExp,cb:function(e,t){return new RegExp(this)}}),_o.set(Map.prototype,vo={external:!0,name:"map",cb:null}),Lo.set("map",{protoCon:Map,cb:function(e,t){if(!e)return this;this.set(e,t)}}),_o.set(Array.prototype,bo={external:!1,name:Array.prototype.constructor.name,cb:null}));const f={defineClass(t,n){let r,i=Object.keys(n);for(let e=1;e<i.length;e++){let t,n;(t=i[e-1])>(n=i[e])&&(i[e-1]=n,i[e]=t,e?e-=2:e--)}e.push(r={name:t,tag:i.toString(),proto:Object.getPrototypeOf(n),fields:Object.keys(n)});for(let e=1;e<r.fields.length;e++)if(r.fields[e]<r.fields[e-1]){let t=r.fields[e-1];r.fields[e-1]=r.fields[e],r.fields[e]=t,e>1&&(e-=2)}r.proto===Object.getPrototypeOf({})&&(r.proto=null)},setDefaultObjectToJSOX(e){a=e},isEncoding:e=>!!i.find((t,n)=>t===e&&n<i.length-1),encodeObject(e){return a?a.apply(e,[this]):e},stringify:(t,p,m)=>function(t,p,m){if(void 0===t)return"undefined";if(null===t)return;let g,y,b,v;const w=typeof m,S=typeof p;if(g="",y="","number"===w)for(v=0;v<m;v+=1)y+=" ";else"string"===w&&(y=m);if(b=p,p&&"function"!==S&&("object"!==S||"number"!=typeof p.length))throw new Error("JSOX.stringify");r.length=0,n=new WeakMap;const x=k("",{"":t});return Io.length=0,x;function k(t,n){var p=g;const m=bo.cb,v=vo.cb;bo.cb=S,vo.cb=x;const w=E(t,n);return bo.cb=m,vo.cb=v,w;function S(){let e,t=[],n=r.length;for(let i=0;i<this.length;i+=1)r[n]=i,t[i]=k(i,this)||"null";return r.length=n,i.length=n,e=0===t.length?"[]":g?["[\n",g,t.join(",\n"+g),"\n",p,"]"].join(""):"["+t.join(",")+"]",e}function x(){let e={tmp:null},t="{",n=!0;for(let[i,s]of this){e.tmp=s;let o=r.length;r[o]=i,t+=(n?"":",")+u(i)+":"+k("tmp",e),r.length=o,n=!1}return t+="}",t}function E(t,n){let m,v,w,S,x,E,P,A=r.length,M=!0,N=n[t],O="object"==typeof N;O&&null!==N&&a&&(l.find(e=>e===N)||(l.push(N),i[A]=N,M=!1,N=a.apply(N,[f]),O="object"==typeof N,l.pop(),i.length=A,O="object"==typeof N));const j=null!=N&&Object.getPrototypeOf(N);let _=j&&(s.get(j)||_o.get(j)||null),C=!_&&null!=N&&(o.get(Object.keys(N).toString())||Co.get(Object.keys(N).toString())||null);"function"==typeof b&&(M=!1,N=b.call(n,t,N));let L=_&&_.cb||C&&C.cb;if(null!=N&&"object"==typeof N&&"function"==typeof L)if(l.find(e=>e===N))w=d(N);else{if("object"==typeof N&&(w=d(N),w))return w;l.push(N),i[A]=N,N=L.call(N,f),M=!1,l.pop(),_&&_.name&&"string"==typeof N&&"-"!==N[0]&&(N[0]<"0"||N[0]>"9")&&'"'!==N[0]&&"'"!==N[0]&&"`"!==N[0]&&"["!==N[0]&&"{"!==N[0]&&(N=" "+N),i.length=A}else if("object"==typeof N&&(w=d(N),w))return w;switch(typeof N){case"bigint":return N+"n";case"string":{N=M?u(N):N;let n="";return""===t&&(n=e.map(e=>e.name+"{"+e.fields.join(",")+"}").join(g?"\n":"")+Io.map(e=>e.name+"{"+e.fields.join(",")+"}").join(g?"\n":"")+(g?"\n":"")),_&&_.external?n+_.name+N:C&&C.external?n+C.name+N:n+N}case"number":case"boolean":case"null":return String(N);case"object":if(w)return w;if(!N)return"null";if(g+=y,x=null,E=[],b&&"object"==typeof b){for(S=b.length,x=h(N,b),m=0;m<S;m+=1)"string"==typeof b[m]&&(v=b[m],r[A]=v,w=k(v,N),void 0!==w&&(x?E.push(w):E.push(u(v)+(g?": ":":")+w)));r.splice(A,1)}else{x=h(N);let e=[];for(v in N)if((!c||Object.prototype.propertyIsEnumerable.call(N,v))&&Object.prototype.hasOwnProperty.call(N,v)){let t;for(t=0;t<e.length;t++)if(e[t]>v){e.splice(t,0,v);break}t==e.length&&e.push(v)}for(let t=0;t<e.length;t++)v=e[t],Object.prototype.hasOwnProperty.call(N,v)&&(r[A]=v,w=k(v,N),void 0!==w&&(x?E.push(w):E.push(u(v)+(g?": ":":")+w)));r.splice(A,1)}P=""===t?(e.map(e=>e.name+"{"+e.fields.join(",")+"}").join(g?"\n":"")||Io.map(e=>e.name+"{"+e.fields.join(",")+"}").join(g?"\n":""))+(g?"\n":""):"",_&&_.external&&(P+=u(_.name));let n=null;return x&&(n=u(x.name)),w=P+(0===E.length?"{}":g?(x?n:"")+"{\n"+g+E.join(",\n"+g)+"\n"+p+"}":(x?n:"")+"{"+E.join(",")+"}"),g=p,w}}}}(t,p,m),setQuote(e){t=e},registerToJSOX(e,t,n){return this.toJSOX(e,t,n)},toJSOX(e,t,n){if(t.prototype&&t.prototype!==Object.prototype){if(s.get(t.prototype))throw new Error("Existing toJSOX has been registered for prototype");s.set(t.prototype,{external:!0,name:e||n.constructor.name,cb:n})}else{let r=Object.keys(t).toString();if(o.get(r))throw new Error("Existing toJSOX has been registered for object type");o.set(r,{external:!0,name:e,cb:n})}},get ignoreNonEnumerable(){return c},set ignoreNonEnumerable(e){c=e}};return f;function d(e){if(null===e)return;let t=n.get(e);if(t)return"ref"+t;n.set(e,po.stringify(r))}function h(t,n){let r,i,s=Object.getPrototypeOf(t);if(i=e.find(e=>{if(e.proto&&e.proto===s)return!0}),i)return i;if(e.length||Io.length){if(n)n=n.map(e=>"string"==typeof e?e:void 0),r=n.toString();else{let e=Object.keys(t);for(let t=1;t<e.length;t++){let n,r;(n=e[t-1])>(r=e[t])&&(e[t-1]=r,e[t]=n,t?t-=2:t--)}r=e.toString()}i=e.find(e=>{if(e.tag===r)return!0}),i||(i=Io.find(e=>{if(e.tag===r)return!0}))}return i}};const To="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789$_",Do={"~":-1,"=":-1,$:62,_:63,"+":62,"-":62,".":62,"/":63,",":63};for(let pa=0;pa<To.length;pa++)Do[To[pa]]=pa;function zo(e){let t,n,r,i,s,o="",a=new Uint8Array(e),l=a.byteLength,c=l%3,u=l-c;for(let f=0;f<u;f+=3)s=a[f]<<16|a[f+1]<<8|a[f+2],t=(16515072&s)>>18,n=(258048&s)>>12,r=(4032&s)>>6,i=63&s,o+=To[t]+To[n]+To[r]+To[i];return 1==c?(s=a[u],t=(252&s)>>2,n=(3&s)<<4,o+=To[t]+To[n]+"=="):2==c&&(s=a[u]<<8|a[u+1],t=(64512&s)>>10,n=(1008&s)>>4,r=(15&s)<<2,o+=To[t]+To[n]+To[r]+"="),o}function Fo(e){let t;t=e.length%4==1?3*((e.length+3)/4|0)-3:e.length%4==2?3*((e.length+3)/4|0)-2:e.length%4==3?3*((e.length+3)/4|0)-1:-1==Do[e[e.length-3]]?3*((e.length+3)/4|0)-3:-1==Do[e[e.length-2]]?3*((e.length+3)/4|0)-2:-1==Do[e[e.length-1]]?3*((e.length+3)/4|0)-1:3*((e.length+3)/4|0);let n,r=new ArrayBuffer(t),i=new Uint8Array(r),s=e.length+3>>2;for(n=0;n<s;n++){let t=Do[e[4*n]],r=4*n+1<e.length?Do[e[4*n+1]]:-1,s=r>=0&&4*n+2<e.length?Do[e[4*n+2]]:-1,o=s>=0&&4*n+3<e.length?Do[e[4*n+3]]:-1;r>=0&&(i[3*n+0]=t<<2|r>>4),s>=0&&(i[3*n+1]=r<<4|s>>2&15),o>=0&&(i[3*n+2]=s<<6|63&o)}return r}Object.freeze(Do),mo.stringify=function(e,t,n){return mo.stringifier().stringify(e,t,n)},[[0,256,[16767487,16739071,130048,3670016,0,16777208,16777215,8388607]]].map(e=>({firstChar:e[0],lastChar:e[1],bits:e[2]}));const qo={core:{mode:"native",endpointUrl:"http://localhost:6065",userId:"",userKey:"",encrypt:!1,preferBackendSync:!0,ntpEnabled:!1,ops:{allowUnencrypted:!1,httpTargets:[],wsTargets:[],syncTargets:[]}},ai:{apiKey:"",baseUrl:"",model:"gpt-5.2",customModel:"",mcp:[],shareTargetMode:"recognize",autoProcessShared:!0,customInstructions:[],activeInstructionId:"",responseLanguage:"auto",translateResults:!1,generateSvgGraphics:!1,requestTimeout:{low:60,medium:300,high:900},maxRetries:2},webdav:{url:"http://localhost:6065",username:"",password:"",token:""},timeline:{source:""},appearance:{theme:"auto",fontSize:"medium",color:""},speech:{language:"undefined"!=typeof navigator?navigator.language:"en-US"},grid:{columns:4,rows:8,shape:"square"}},Ho=(e,t=!0)=>{let n=String(e||"").trim();return t&&(n=n.toLowerCase()),n=n.replace(/\s+/g,"-"),n=n.replace(/[^a-z0-9_.\-+#&]/g,"-"),n=n.replace(/-+/g,"-"),n},Bo=e=>String(e||"").split("/").filter(Boolean),Vo=e=>((e,t=!0)=>(t?"/":"")+e.filter(Boolean).join("/"))(Bo(e).map(e=>Ho(e))),Uo=["id","_id","key","slug","name"],Jo=e=>"[object Object]"===Object.prototype.toString.call(e);function Xo(e,t,n){if(Array.isArray(e)&&Array.isArray(t))switch(n.arrayStrategy){case"replace":return t.slice();case"concat":return e.concat(t);default:return function(e,t){const n=Array.isArray(t.arrayKey)?t.arrayKey:t.arrayKey?[t.arrayKey]:Uo,r=[],i=new Set,s=new Map,o=new Set;for(const a of e)if(null!=a)if(Jo(a)){let e;for(const t of n)if(t in a&&null!=a[t]){e=String(a[t]);break}if(null!=e)s.has(e)||(s.set(e,a),r.push(a));else{const e=Ko(a);o.has(e)||(o.add(e),r.push(a))}}else if(Array.isArray(a)){const e=Ko(a);o.has(e)||(o.add(e),r.push(a))}else i.has(a)||(i.add(a),r.push(a));return r}(e.concat(t),{arrayKey:n.arrayKey})}if(Jo(e)&&Jo(t)){const r={...e};for(const i of Object.keys(t))r[i]=i in e?Xo(e[i],t[i],n):t[i];return r}return t}function Ko(e){if(!Jo(e))return JSON.stringify(e);const t=Object.keys(e).sort(),n={};for(const r of t)n[r]=e[r];return JSON.stringify(n)}async function Qo(e){return await e.text()}const Zo=async(e,t,n,r={})=>{const{forceExt:i,ensureJson:s,toLower:o=!0,sanitize:a=!0,mergeJson:l,arrayStrategy:c="union",arrayKey:u,jsonSpace:f=2}=r;let d=String(t||"").trim();const h=d.endsWith("/"),p=!h&&Bo(d).length>0&&d.includes(".");let m=h?d:p?d.split("/").slice(0,-1).join("/"):d,g=p?d.split("/").pop()||"":n?.name||"";m=m||"/",g=g||Date.now()+"";const y=g.lastIndexOf(".");let b=y>0?g.slice(0,y):g,v=i||(s?"json":y>0?g.slice(y+1):((e="")=>e?e.includes("json")?"json":e.includes("markdown")?"md":e.includes("plain")?"txt":"image/jpeg"===e||"image/jpg"===e?"jpg":"image/png"===e?"png":e.startsWith("image/")?e.split("/").pop()||"":e.includes("html")?"html":"":"")(n?.type||""))||"";a&&(m=Vo(m),b=Ho(b,o));const w=v?`${b}.${v}`:b,S=((x=m).endsWith("/")?x:x+"/")+w;var x;if(!1!==l&&(s||"json"===v.toLowerCase()||"application/json"===n?.type))try{let t;if(n instanceof File||n instanceof Blob){const e=await Qo(n);t=e?.trim()?mo.parse(e):{}}else t=n;const r=await(async function(e,t){try{const n=await(Ds(e,t)?.catch?.(console.warn.bind(console)));if(!n)return null;const r=await Qo(n);return r?.trim()?mo.parse(r):null}catch{return null}}(e,S)?.catch?.(console.warn.bind(console)));let i=null!=r?Xo(r,t,{arrayStrategy:c,arrayKey:u}):t;const s=JSON.stringify(i,void 0,f),o=new File([s],w,{type:"application/json"}),a=await(zs(e,S,o)?.catch?.(console.warn.bind(console)));return"undefined"!=typeof document&&document?.dispatchEvent?.(new CustomEvent("rs-fs-changed",{detail:a,bubbles:!0,composed:!0,cancelable:!0})),a}catch(P){console.warn("writeFileSmart JSON merge failed, falling back to raw write:",P)}let k;if(n instanceof File)if(n.name===w)k=n;else{const e=n.type||(v?`application/${v}`:"application/octet-stream"),t=await n.arrayBuffer();k=new File([t],w,{type:e})}else{const e=n.type||(v?`application/${v}`:"application/octet-stream"),t=n;k=new File([await t.arrayBuffer()],w,{type:e})}const E=await(zs(e,S,k)?.catch?.(console.warn.bind(console)));return"undefined"!=typeof document&&document?.dispatchEvent?.(new CustomEvent("rs-fs-changed",{detail:E,bubbles:!0,composed:!0,cancelable:!0})),E},Go="rs-settings",Yo="settings";let ea=null;const ta=()=>{try{return!("undefined"==typeof chrome||!chrome?.runtime)&&!("undefined"==typeof window||!globalThis?.location?.protocol?.startsWith("http"))}catch{return!1}},na=()=>"undefined"!=typeof chrome&&chrome?.storage?.local;async function ra(){if("undefined"==typeof indexedDB)throw new Error("IndexedDB not available");if(ta())throw new Error("IndexedDB not accessible in content script context");return new Promise((e,t)=>{try{const n=indexedDB.open("req-store",1);n.onupgradeneeded=()=>n.result.createObjectStore(Yo,{keyPath:"key"}),n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)}catch(ha){t(ha)}})}const ia=async()=>{try{const e=await(async(e=Go)=>{try{if(na())return console.log("[Settings] Using chrome.storage.local for get"),new Promise(t=>{try{chrome.storage.local.get([e],n=>{chrome.runtime.lastError?(console.warn("[Settings] chrome.storage.local.get error:",chrome.runtime.lastError),t(null)):(console.log("[Settings] chrome.storage.local.get success, has data:",!!n[e]),t(n[e]))})}catch(ha){console.warn("[Settings] chrome.storage access failed:",ha),t(null)}});if("undefined"==typeof indexedDB)return console.warn("[Settings] IndexedDB not available"),null;console.log("[Settings] Using IndexedDB for get");const t=await ra();return new Promise((n,r)=>{const i=t.transaction(Yo,"readonly").objectStore(Yo).get(e);i.onsuccess=()=>{console.log("[Settings] IndexedDB get success, has data:",!!i.result?.value),n(i.result?.value),t.close()},i.onerror=()=>{console.warn("[Settings] IndexedDB get error:",i.error),r(i.error),t.close()}})}catch(ha){return console.warn("[Settings] Settings storage access failed:",ha),null}})(),t="string"==typeof e?mo.parse(e):e;if(console.log("[Settings] loadSettings - raw type:",typeof e,"stored type:",typeof t),t&&"object"==typeof t){const e={core:{...qo.core,...t?.core},ai:{...qo.ai,...t?.ai,mcp:t?.ai?.mcp||[],customInstructions:t?.ai?.customInstructions||[],activeInstructionId:t?.ai?.activeInstructionId||""},webdav:{...qo.webdav,...t?.webdav},timeline:{...qo.timeline,...t?.timeline},appearance:{...qo.appearance,...t?.appearance},speech:{...qo.speech,...t?.speech},grid:{...qo.grid,...t?.grid}};return console.log("[Settings] loadSettings result:",{hasApiKey:!!e.ai?.apiKey,instructionCount:e.ai?.customInstructions?.length||0,activeInstructionId:e.ai?.activeInstructionId||"(none)"}),e}console.log("[Settings] loadSettings - no stored data, returning defaults")}catch(ha){console.warn("[Settings] loadSettings error:",ha)}return mo.parse(mo.stringify(qo))},sa=async e=>{const t=await ia(),n={core:{...qo.core||{},...t.core||{},...e.core||{}},ai:{...qo.ai||{},...t.ai||{},...e.ai||{},mcp:void 0!==e.ai?.mcp?e.ai.mcp:void 0!==t.ai?.mcp?t.ai.mcp:[],customInstructions:void 0!==e.ai?.customInstructions?e.ai.customInstructions:void 0!==t.ai?.customInstructions?t.ai.customInstructions:[],activeInstructionId:Object.prototype.hasOwnProperty.call(e.ai||{},"activeInstructionId")?e.ai?.activeInstructionId??"":void 0!==t.ai?.activeInstructionId?t.ai.activeInstructionId:""},webdav:{...qo.webdav||{},...t.webdav||{},...e.webdav||{}},timeline:{...qo.timeline||{},...t.timeline||{},...e.timeline||{}},appearance:{...qo.appearance||{},...t.appearance||{},...e.appearance||{}},speech:{...qo.speech||{},...t.speech||{},...e.speech||{}},grid:{...qo.grid||{},...t.grid||{},...e.grid||{}}};return await(async(e,t=Go)=>{try{if(na())return new Promise((n,r)=>{try{chrome.storage.local.set({[t]:e},()=>{chrome.runtime.lastError?r(chrome.runtime.lastError):n()})}catch(ha){console.warn("chrome.storage write failed:",ha),r(ha)}});if("undefined"==typeof indexedDB)return void console.warn("IndexedDB not available");const n=await ra();return new Promise((r,i)=>{const s=n.transaction(Yo,"readwrite");s.objectStore(Yo).put({key:t,value:e}),s.oncomplete=()=>{r(void 0),n.close()},s.onerror=()=>{i(s.error),n.close()}})}catch(ha){console.warn("Settings storage write failed:",ha)}})(n),da(n)?.catch?.(console.warn.bind(console)),n},oa=(e,t,n=!1)=>{const r=(e||"/").replace(/\/+$/g,"")||"/",i=(t||"").replace(/^\/+/g,"");let s="/"===r?`/${i}`:`${r}/${i}`;return n&&(s=s.replace(/\/?$/g,"/")),s.replace(/\/{2,}/g,"/")},aa=e=>{const t=new Date(e).getTime();return Number.isFinite(t)?t:0},la=async(e,t="/",n={},r=null)=>{const i=await(e?.getDirectoryContents?.(t||"/")?.catch?.(e=>(console.warn(e),[])));if(n.pruneLocal&&i?.length>0)try{const e=await(Is(r,t)?.catch?.(()=>null));if(e?.entries){const t=await Array.fromAsync(e.entries()),n=new Set(i?.map?.(e=>e?.basename).filter(Boolean));await Promise.all(t.filter(([e])=>!n.has(e)).map(([t])=>e.removeEntry(t,{recursive:!0})?.catch?.(console.warn.bind(console))))}}catch(ha){console.warn(ha)}return Promise.all(i.map(async t=>{const i="directory"===t?.type,s=i?oa(t.filename,"",!0):t.filename;if(i)return la(e,s,n,r);if("file"===t?.type){const n=await Ds(r,s).catch(()=>null),i=aa(n?.lastModified);if(aa(t?.lastmod)>i){const n=await e.getFileContents(s).catch(e=>(console.warn(e),null));if(!n||0===n.byteLength)return;const i=t?.mime||"application/octet-stream";return Zo(r,s,new File([n],t.basename,{type:i}))}}}))},ca=async(e,t=null,n="/",r={})=>{const i=t??await(Is(null,n,{create:!0})?.catch?.(console.warn.bind(console))),s=await Array.fromAsync(i?.entries?.()??[]);if("/"!=n&&r.pruneRemote&&s?.length>=0){const t=await e.getDirectoryContents(n||"/").catch(e=>(console.warn(e),[])),r=new Set(s.map(([e])=>e.toLowerCase())),i=[...t.filter(e=>{const t=(e?.basename||"").toLowerCase();return t&&!r.has(t)}).filter(e=>"directory"!==e.type)];for(const s of i){const t=s.filename||oa(n,s.basename,"directory"===s.type);try{await e.deleteFile(t)}catch(ha){console.warn("delete failed:",t,ha)}}}await Promise.all(s.map(async([t,i])=>{const s=(o=i,"directory"===o?.kind);var o;const a=oa(n,t,s);if(s){const s=oa(n,t,!1);return await e.exists(s).catch(e=>!1)||await e.createDirectory(s,{recursive:!0}).catch(console.warn),ca(e,i,a,r)}const l=i,c=await l.getFile();if(!c||0===c.size)return;const u=oa(n,t,!1),f=await e.stat(u).catch(()=>null),d=aa(f?.lastmod),h=aa(c.lastModified);(!f||h>d)&&await e.putFileContents(u,await c.arrayBuffer(),{overwrite:!0}).catch(e=>null)}))},ua=async(e,t={})=>{const n=await(async()=>{if(ea)return ea;try{const e=await $(()=>import("./index10.js"),[],import.meta.url);if("function"==typeof e?.createClient)return ea=e.createClient,ea}catch{}return null})();if(!n)return null;const r=n((e=>{const t=new URL(e);return t.protocol+t.hostname+":"+t.port})(e),t);return{status:fa?.sync?.getDAVCompliance?.()?.catch?.(console.warn.bind(console))??null,client:r,upload(e=!1){if(null!=this.status)return ca(r,null,"/",{pruneRemote:e})?.catch?.(e=>(console.warn(e),[]))},download(e=!1){if(null!=this.status)return la(r,"/",{pruneLocal:e})?.catch?.(e=>(console.warn(e),[]))}}},fa={sync:null};ta()||(async()=>{try{const e=await ia();if("endpoint"===e?.core?.mode&&e?.core?.preferBackendSync)return;if(!e?.webdav?.url)return;const t=await ua(e.webdav.url,{withCredentials:!0,username:e.webdav.username,password:e.webdav.password,token:e.webdav.token});fa.sync=t??fa.sync,await(fa?.sync?.upload?.(!0)),await(fa?.sync?.download?.(!0))}catch(ha){}})();const da=async e=>{e||=await ia(),"endpoint"===e?.core?.mode&&e?.core?.preferBackendSync?fa.sync=null:e?.webdav?.url&&(fa.sync=await ua(e.webdav.url,{withCredentials:!0,username:e.webdav.username,password:e.webdav.password,token:e.webdav.token})??fa.sync,await(fa?.sync?.upload?.()),await(fa?.sync?.download?.(!0)))};if(!ta()){try{"undefined"!=typeof window&&"function"==typeof addEventListener&&(addEventListener("pagehide",()=>{fa?.sync?.upload?.()?.catch?.(()=>{})}),addEventListener("beforeunload",()=>{fa?.sync?.upload?.()?.catch?.(()=>{})}))}catch{}(async()=>{try{for(;;)await(fa?.sync?.upload?.()?.catch?.(()=>{})),await new Promise(e=>setTimeout(e,3e3))}catch{}})()}export{jt as $originalKey$,Dt as $originalObjects$,Wt as $trigger,fo as CSSBinder,qo as DEFAULT_SETTINGS,Vr as E,Xi as GLitElement,ii as H,mo as JSOX,Hr as M,de as MOCElement,dr as Q,U as ROOT,qn as ReactiveElementSize,ro as Vector2D,$ as __vitePreload,ce as addEvent,Ut as addToCallChain,jn as affected,Lr as appendFix,Dn as assign,xi as attrRef,be as bbh,ye as bbw,nr as bindCtrl,fs as bindDraggable,ir as bindWith,gn as booleanRef,we as cbh,ve as cbw,oo as clampPointToRect,zn as computed,Rn as conditional,H as createChromeExtensionBroadcast,V as createQueuedOptimizedWorkerChannel,so as createRect2D,ys as ctxMenuTrigger,qi as defineElement,ns as doObserve,qs as downloadFile,Ps as getDir,Is as getDirectoryHandle,Rs as getFileHandle,Ls as getMimeTypeByFilename,_r as getNode,Mt as handleAttribute,kt as handleHidden,Xs as handleIncomingEntries,Et as handleProperty,At as handleStyleChange,oe as isElement,he as isInFocus,ne as isValidParent,Ln as iterated,Qi as lazyAddEventListener,tt as loadAsAdopted,Ze as loadInlineStyle,ia as loadSettings,ss as makeClickOutsideTrigger,rs as makeShiftTrigger,pn as numberRef,$n as observableByMap,wn as observe,Ts as openDirectory,lo as operated,Ge as preloadStyle,bn as propRef,Hi as property,Hs as provide,vn as ref,ui as registerSidebar,Fs as remove,nt as removeAdopted,Dr as removeChild,$r as replaceOrSwap,zt as safe,sa as saveSettings,te as setChecked,X as setIdleInterval,Ke as setStyleProperty,mn as stringRef,Vs as uploadFile,Ei as valueAsNumberRef,ki as valueRef,io as vector2Ref,zs as writeFile,Zo as writeFileSmart};
