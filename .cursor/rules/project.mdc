---
globs: *.ts,*.mjs,*.js,*.scss,*.css
alwaysApply: false
---

# CrossWord Coding Recommendations

## Our projects (for following)

- <https://github.com/u2re-space/crossword>
- <https://github.com/u2re-space/unite-2.man>
- <https://github.com/fest-live/>

---

## üå≥ Project Hierarchy

### ‚õ∞Ô∏è Level 0 (project root)

- `./` - Project root directory
- `shared/` - Modules directory
- `shared/unite-2.man` - Project manifest
- `shared/fest/` - Shared modules, utilities, etc.
- `assets/` - Project assets, images, fonts, etc. (planned for future usage)

### üöß Level 0.5 (root core libraries)

- `shared/fest/core` - Core TS/JS utilities and helpers library

### üöß Level 1 (core libraries)

- `shared/fest/dom` - DOM utils and helpers library
- `shared/fest/object` - Core reactivity library
- `shared/fest/veela` - CSS framework

### üß± Level 2 (derived libraries)

- `shared/fest/lure` - Reactive DOM framework
- `shared/fest/icon` - Icon library (web component)

### üèóÔ∏è Level 3 (UI libraries)

- `shared/fest/fl-ui` - UI system and components library

### üè¨ Level 4 (applications)

- `src/` - Applications projects

---

## üß© Import rules

- ‚úÖ Allowed imports from lower level to higher level only.
- ‚ö†Ô∏è Normally, imports between in same level or not approved.
- ‚õî Imports in lower level from next level is not allowed.

### üß™ Examples

- ‚úÖ `fest/lure` can import `fest/object` or `fest/dom`, but not vice versa.
- ‚ö†Ô∏è `fest/object` and `fest/dom`, or something in same level, isn't allowed to import vice versa...
- ‚õî `fest/object`, `fest/dom` isn't allowed to import `fest/lure` or `fest/fl-ui`.

### üìÇ Project Import Rules

Directories in root of project:

- `/shared/` - shared code, **can't** import modules from `/src/`, and may be used in frontend and backend
- `/test/` - test code, **can't** import modules from `/src/`
- `/src/` - main code, **can't** import modules from `/test/`
- `/main.mjs` - main entry point, can be imported only by `/index.html`
- `/index.html` - application entry point, can be imported only by `/main.mjs`
- `/vite.config.js` - vite config, **can't** import modules from `/src/`
- `/tsconfig.json` - tsconfig, **can't** import modules from `/src/`
- `/package.json` - package.json, **can't** import modules from `/src/`

You should follow these rules to import modules (in `src/` directory):

- `/frontend/utils/` - frontend code, **can't** import modules from `/frontend/lure-veela/` or `/core/`, but **can** import modules from `/shared/`
- `/frontend/lure-veela/` - views code, **can** import modules from `/frontend/utils/`, `/core/` and `/shared/`
- `/core/` - core code, **can't** import modules from `/frontend/`, but **can** import some modules from `/shared/`, may be used not only in frontend, but also in backend to create some shared logic
- `/pwa/` - pwa code, **can't** import modules from `/frontend/`

---

## Common Imports

- `fest/dom` - DOM utils and helpers library
- `fest/lure` - Reactive DOM framework
- `fest/object` - Core reactivity library
- `fest/fl-ui` - UI system and components library
- `fest/veela` - CSS framework
- `fest/icon` - Icon library (web component)
- `fest/core` - Core TS/JS utilities and helpers library

Imports of project modules isn't should internally import by-self name.

---

## Project Directory Mapping

By default, use key-name as import root.

| Library | Path |
|---|---|
| `fest/lure`   | `shared/fest/lure`      |
| `fest/dom`    | `shared/fest/dom`       |
| `fest/object` | `shared/fest/object`    |
| `fest/fl-ui`  | `shared/fest/fl-ui`     |
| `fest/veela`  | `shared/fest/veela`     |
| `fest/icon`   | `shared/fest/icon`      |
| `fest/core`   | `shared/fest/core`      |
