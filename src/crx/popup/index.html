<!DOCTYPE html>
<html lang="en" data-crx-page="popup">
<head>
    <meta charset="UTF-8">
    <meta name="text-scale" content="scale" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CrossWord</title>
    <link rel="stylesheet" href="../fix.scss" data-owner="critical-init">
    <link rel="stylesheet" href="./index.scss" data-owner="critical-init">
</head>
<body data-crx-page="popup">
    <div id="app">
        <h1>CrossWord</h1>

        <!-- Feature 2: Snip & Process -->
        <section>
            <h2>Snip & Process</h2>
            <div class="snip-controls">
                <select id="snip-action-select">
                    <option value="START_SNIP">üìù Recognize (OCR/AI)</option>
                    <option value="SOLVE_AND_ANSWER">üßÆ Solve / Answer</option>
                    <option value="WRITE_CODE">üíª Generate Code</option>
                    <option value="EXTRACT_CSS">üé® Extract CSS</option>
                    <option value="CRX_SNIP_TEXT">üìã Process Selected Text</option>
                    <option value="CRX_SNIP_SCREEN">üì∏ Rectangle Capture</option>
                </select>
                <button type="button" id="snip-do" title="Execute selected action">‚ö° Go</button>
            </div>
        </section>

        <!-- Feature 3: Copy / Convert -->
        <section>
            <h2>Copy Selection As</h2>
            <div class="copy-grid">
                <button type="button" data-copy="copy-as-latex" title="Copy as LaTeX">LaTeX</button>
                <button type="button" data-copy="copy-as-mathml" title="Copy as MathML">MathML</button>
                <button type="button" data-copy="copy-as-markdown" title="Copy as Markdown">Markdown</button>
                <button type="button" data-copy="copy-as-html" title="Copy as HTML">HTML</button>
            </div>
        </section>

        <!-- Feature 1: Markdown Viewer -->
        <section>
            <h2>Markdown Viewer</h2>
            <div class="md-controls">
                <input type="url" id="md-url" placeholder="Paste .md URL or GitHub link‚Ä¶" />
                <button type="button" id="md-open" title="Open in viewer">Open</button>
            </div>
        </section>

        <!-- Settings (collapsible) -->
        <details>
            <summary><h2 style="display:inline">Settings</h2></summary>
            <section>
                <ul>
                    <li>
                        <label for="response-language">Response Language</label>
                        <select id="response-language">
                            <option value="auto">Auto-detect</option>
                            <option value="follow">Follow source/context</option>
                            <option value="en">English</option>
                            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                        </select>
                    </li>
                    <li>
                        <label for="translate-results">Translate Results</label>
                        <input type="checkbox" id="translate-results" style="grid-column: input;" />
                    </li>
                    <li>
                        <label for="generate-svg" title="Generate inline SVG graphics for graphs, diagrams, and visualizations">Generate SVG</label>
                        <input type="checkbox" id="generate-svg" style="grid-column: input;" />
                    </li>
                    <li>
                        <label for="api-url">API URL</label>
                        <input keyboard-type="url" type="url" id="api-url" />
                    </li>
                    <li>
                        <label for="api-key">API Key</label>
                        <input keyboard-type="password" type="password" id="api-key" />
                        <input type="checkbox" id="show-api-key" style="--for-hide-icon: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBjbGFzcz0ibHVjaWRlIGx1Y2lkZS1leWUtaWNvbiBsdWNpZGUtZXllIj48cGF0aCBkPSJNMi4wNjIgMTIuMzQ4YTEgMSAwIDAgMSAwLS42OTYgMTAuNzUgMTAuNzUgMCAwIDEgMTkuODc2IDAgMSAxIDAgMCAxIDAgLjY5NiAxMC43NSAxMC43NSAwIDAgMS0xOS44NzYgMCIvPjxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiLz48L3N2Zz4=');--for-show-icon: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9ImN1cnJlbnRDb2xvciIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGNsYXNzPSJsdWNpZGUgbHVjaWRlLWV5ZS1jbG9zZWQtaWNvbiBsdWNpZGUtZXllLWNsb3NlZCI+PHBhdGggZD0ibTE1IDE4LS43MjItMy4yNSIvPjxwYXRoIGQ9Ik0yIDhhMTAuNjQ1IDEwLjY0NSAwIDAgMCAyMCAwIi8+PHBhdGggZD0ibTIwIDE1LTEuNzI2LTIuMDUiLz48cGF0aCBkPSJtNCAxNSAxLjcyNi0yLjA1Ii8+PHBhdGggZD0ibTkgMTggLjcyMi0zLjI1Ii8+PC9zdmc+');" />
                    </li>
                    <li style="display: flex; justify-content: space-around;">
                        <button type="button" id="save-settings">Save Settings</button>
                    </li>
                </ul>
            </section>
        </details>
    </div>
    <script src="./index.ts" type="module" async defer></script>
</body>
</html>
