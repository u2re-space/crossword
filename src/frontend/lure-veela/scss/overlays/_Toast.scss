@use "veela-lib" as *;

//
@layer rs-overlays-toast {

    // Enhanced toast layer
    #rs-toast-layer {
        position: fixed;
        inset-block-end: 0;
        inset-inline: 0;
        z-index: 10000;
        pointer-events: none;

        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        align-items: center;

        padding: var(--space-xl);
        gap: var(--space-sm);

        // Limit height to avoid covering top UI elements if stack grows too large
        max-block-size: 80vh;
        overflow: hidden;

        // Clip content that goes outside (for clean enter/exit animations if needed)
        // contain: layout paint;
    }

    // Enhanced toast styling
    .rs-toast {
        // Use surface mixin for base properties
        @include surface(var(--surface-opacity-subtle));

        // Custom properties for this component
        --color-shade: 0;
        --color-tint: 0;
        --toast-radius: var(--radius-full);
        --toast-shadow: 0.5px 0.5px 0.125rem #0002;/*var(--shadow-xl);*/
        --toast-bg: oklch(from var(--surface-color, #1a1a1a) l c h / 0.85);
        --toast-border: oklch(from var(--surface-color, #ffffff) l c h / 0.1);
        --toast-text: var(--on-surface-color, #ffffff);

        // Layout
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-md);

        padding: var(--space-sm) var(--space-lg);
        max-inline-size: min(90vw, 32rem);
        inline-size: fit-content;

        // Visuals
        border-radius: var(--toast-radius);
        background: var(--toast-bg);
        /*border: 1px solid var(--toast-border);*/
        box-shadow: var(--toast-shadow);
        backdrop-filter: blur(12px) saturate(140%);
        color: var(--toast-text);

        // Typography
        font-family: var(--font-family);
        font-size: var(--text-sm);
        font-weight: var(--font-weight-medium);
        letter-spacing: 0.01em;
        line-height: 1.4;

        // Interaction
        pointer-events: auto;
        user-select: none;
        cursor: default;

        // Animation State
        opacity: 0;
        transform: translateY(100%) scale(0.9);
        transition:
            opacity var(--transition-normal) ease-out,
            transform var(--transition-normal) cubic-bezier(0.16, 1, 0.3, 1),
            background-color var(--transition-fast) ease;

        // Visible State
        &[data-visible] {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        // Active State (Press)
        &:active {
            transform: scale(0.98);
        }

        // Variants
        &[data-kind="success"] {
            --current: var(--color-success);
        }

        &[data-kind="warning"] {
            --current: var(--color-warning);

        }

        &[data-kind="error"] {
            --current: var(--color-error);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .rs-toast,
        .rs-toast[data-visible] {
            transition-duration: 0ms;
            transform: none;
        }
    }
}
