/* ai-refactor: optimized/refactored at 2026-02-13T02:50:43Z */
@use "./config" as config;

/* ==========================================================================
    Meta / Declarations
   ========================================================================== */
$line-height-base: config.md-config("layout", "line-height");
$heading-padding-inline: config.md-config("heading", "padding");
$heading-padding-inline-small: config.md-config("heading", "padding-small");
$blockquote-margin-inline: config.md-config("blockquote", "margin-inline");
$blockquote-padding-inline: config.md-config("blockquote", "padding-inline");
$table-padding: config.md-config("table", "cell-padding");
$img-max-width: config.md-config("media", "img-max-width");
$md-roots: ":host, .markdown-body, #markdown, md-view, #raw-md, .markdown-viewer, .print-view, .markdown-viewer-container .viewer-content .markdown-viewer-content, :host, .markdown-body, #markdown, md-view, #raw-md, .markdown-viewer, .print-view, .markdown-viewer-container .viewer-content .markdown-viewer-content";
$selectors: $md-roots;


/* ==========================================================================
    Tokens / Mixins (global, not layered)
   ========================================================================== */
@mixin markdown-root-props(
    $selector: ":where(#{$selectors}):not([hidden])"
) {
    #{$selector} {
        /* Base sizes */
        --base-size-4: 0.25em;
        --base-size-8: 0.5em;
        --base-size-16: 1em;
        --base-size-24: 1.5em;
        --base-size-40: 2.5em;

        /* Typography */
        --base-text-weight-normal: 400;
        --base-text-weight-medium: 500;
        --base-text-weight-semibold: 600;
        --fontStack-monospace: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;

        /* Color system */
        --color-primary: light-dark(#5a7fff, #7ca7ff);
        --color-secondary: light-dark(#6b7280, #94a3b8);
        --color-accent: light-dark(#64748b, #94a3b8);
        --color-success: light-dark(#10b981, #34d399);
        --color-warning: light-dark(#f59e0b, #fbbf24);
        --color-error: light-dark(#ef4444, #f87171);
        --color-info: light-dark(#60a5fa, #93c5fd);

        /* Surface colors */
        --color-surface: light-dark(#fafbfc, #0f1419);
        --color-surface-container: light-dark(#f1f5f9, #1e293b);
        --color-surface-container-low: light-dark(#f8fafc, #0f172a);
        --color-surface-container-lowest: light-dark(#fafbfc, #0f1419);
        --color-surface-container-high: light-dark(#e2e8f0, #334155);
        --color-surface-container-highest: light-dark(#cbd5e1, #475569);

        /* Text colors */
        --color-on-surface: light-dark(#1e293b, #f1f5f9);
        --color-on-surface-variant: light-dark(#64748b, #94a3b8);
        --color-on-primary: light-dark(#ffffff, #ffffff);
        --color-on-secondary: light-dark(#ffffff, #ffffff);

        /* Border and outline */
        --color-outline: light-dark(#cbd5e1, #475569);
        --color-outline-variant: light-dark(#94a3b8, #64748b);

        /* Interactive states */
        --hover: light-dark(#f1f5f9, #334155);
        --active: light-dark(#e2e8f0, #1e293b);
        --focus: light-dark(#dbeafe, #1e40af);

        /* Elevation */
        --elev-0: 0 0 0 0 rgba(0, 0, 0, 0);
        --elev-1: 0 1px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 3px 0 rgba(0, 0, 0, 0.12);
        --elev-2: 0 2px 4px 0 rgba(0, 0, 0, 0.14), 0 3px 6px 0 rgba(0, 0, 0, 0.11);
        --elev-3: 0 4px 6px 0 rgba(0, 0, 0, 0.14), 0 6px 12px 0 rgba(0, 0, 0, 0.11);
        --elev-4: 0 6px 8px 0 rgba(0, 0, 0, 0.14), 0 9px 18px 0 rgba(0, 0, 0, 0.11);

        /* Motion and transitions */
        --motion-fast: 140ms ease;
        --motion-normal: 200ms ease;
        --motion-slow: 300ms ease;

        /* Spacing */
        --space-xs: 0.25rem;
        --space-sm: 0.5rem;
        --space-md: 0.75rem;
        --space-lg: 1rem;
        --space-xl: 1.5rem;
        --space-2xl: 2rem;

        /* Radius */
        --radius-xs: 0.25rem;
        --radius-sm: 0.375rem;
        --radius-md: 0.5rem;
        --radius-lg: 0.75rem;
        --radius-xl: 1rem;
        --radius-full: 9999px;

        /* Legacy color mappings for markdown compatibility */
        --focus-outlineColor: var(--color-primary);
        --fgColor-default: var(--color-on-surface);
        --fgColor-muted: var(--color-on-surface-variant);
        --fgColor-accent: var(--color-accent);
        --fgColor-success: var(--color-success);
        --fgColor-attention: var(--color-warning);
        --fgColor-danger: var(--color-error);
        --fgColor-done: var(--color-info);
        --bgColor-default: var(--color-surface);
        --bgColor-muted: var(--color-surface-container);
        --bgColor-neutral-muted: var(--color-surface-container-high);
        --bgColor-attention-muted: var(--color-warning);
        --borderColor-default: var(--color-outline);
        --borderColor-muted: var(--color-outline-variant);
        --borderColor-neutral-muted: var(--color-outline);
        --borderColor-accent-emphasis: var(--color-primary);
        --borderColor-success-emphasis: var(--color-success);
        --borderColor-attention-emphasis: var(--color-warning);
        --borderColor-danger-emphasis: var(--color-error);
        --borderColor-done-emphasis: var(--color-info);

        /* Markdown tokens (overrides) */
        --active-brightness: #{config("effects", "active-brightness")};
        --border-radius: #{config("shape", "border-radius")};
        --box-shadow: #{config("shape", "box-shadow")};
        --color-accent: #{light-dark("accent")};
        --color-bg: #{light-dark("bg")};
        --color-bg-secondary: #{light-dark("bg-secondary")};
        --color-link: #{light-dark("link")};
        --color-secondary: #{light-dark("secondary")};
        --color-secondary-accent: #{light-dark("secondary-accent")};
        --color-shadow: #{light-dark("shadow")};
        --color-table: #{light-dark("table")};
        --color-text: #{light-dark("text")};
        --color-text-secondary: #{light-dark("text-secondary")};
        --color-scrollbar: #{light-dark("scrollbar")};
        --font-family-emoji-flag-capable: #{config("typography", "font-family", "emoji")};
        --font-family: #{config("typography", "font-family", "sans")};
        --hover-brightness: #{config("effects", "hover-brightness")};
        --justify-important: #{config("layout", "justify-important")};
        --justify-normal: #{config("layout", "justify-normal")};
        --line-height: #{config("layout", "line-height")};
        --width-card: #{config("layout", "widths", "card")};
        --width-card-medium: #{config("layout", "widths", "card-medium")};
        --width-card-wide: #{config("layout", "widths", "card-wide")};
        --width-content: #{config("layout", "widths", "content")};
        --md-scrollbar-size: #{config("scrollbar", "size")};
    }
}

@mixin markdown-root-props-md(
    $selector: ":where(#{$selectors}):not([hidden])"
) {
    #{$selector} {
        /* Base sizes */
        --base-size-4: 0.25em;
        --base-size-8: 0.5em;
        --base-size-16: 1em;
        --base-size-24: 1.5em;
        --base-size-40: 2.5em;

        /* Typography */
        --base-text-weight-normal: 400;
        --base-text-weight-medium: 500;
        --base-text-weight-semibold: 600;
        --fontStack-monospace: ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace;

        /* Legacy GitHub-like colors */
        --focus-outlineColor: light-dark(#0969da, #1f6feb);
        --fgColor-default: light-dark(#1f2328, #f0f6fc);
        --fgColor-muted: light-dark(#59636e, #9198a1);
        --fgColor-accent: light-dark(#0969da, #4493f8);
        --fgColor-success: light-dark(#1a7f37, #3fb950);
        --fgColor-attention: light-dark(#9a6700, #d29922);
        --fgColor-danger: light-dark(#d1242f, #f85149);
        --fgColor-done: light-dark(#8250df, #ab7df8);
        --bgColor-default: light-dark(#ffffff, #0d1117);
        --bgColor-muted: light-dark(#f6f8fa, #151b23);
        --bgColor-neutral-muted: light-dark(#818b981f, #656c7633);
        --bgColor-attention-muted: light-dark(#fff8c5, #bb800926);
        --borderColor-default: light-dark(#d1d9e0, #3d444d);
        --borderColor-muted: light-dark(#d1d9e0b3, #3d444db3);
        --borderColor-neutral-muted: light-dark(#d1d9e0b3, #3d444db3);
        --borderColor-accent-emphasis: light-dark(#0969da, #1f6feb);
        --borderColor-success-emphasis: light-dark(#1a7f37, #238636);
        --borderColor-attention-emphasis: light-dark(#9a6700, #9e6a03);
        --borderColor-danger-emphasis: light-dark(#cf222e, #da3633);
        --borderColor-done-emphasis: light-dark(#8250df, #8957e5);

        /* Prettylights */
        --color-prettylights-syntax-comment: light-dark(#59636e, #9198a1);
        --color-prettylights-syntax-constant: light-dark(#0550ae, #79c0ff);
        --color-prettylights-syntax-constant-other-reference-link: light-dark(#0a3069, #a5d6ff);
        --color-prettylights-syntax-entity: light-dark(#6639ba, #d2a8ff);
        --color-prettylights-syntax-storage-modifier-import: light-dark(#1f2328, #f0f6fc);
        --color-prettylights-syntax-entity-tag: light-dark(#0550ae, #7ee787);
        --color-prettylights-syntax-keyword: light-dark(#cf222e, #ff7b72);
        --color-prettylights-syntax-string: light-dark(#0a3069, #a5d6ff);
        --color-prettylights-syntax-variable: light-dark(#953800, #ffa657);
        --color-prettylights-syntax-brackethighlighter-unmatched: light-dark(#82071e, #f85149);
        --color-prettylights-syntax-brackethighlighter-angle: light-dark(#59636e, #9198a1);
        --color-prettylights-syntax-invalid-illegal-text: light-dark(#f6f8fa, #f0f6fc);
        --color-prettylights-syntax-invalid-illegal-bg: light-dark(#82071e, #8e1519);
        --color-prettylights-syntax-carriage-return-text: light-dark(#f6f8fa, #f0f6fc);
        --color-prettylights-syntax-carriage-return-bg: light-dark(#cf222e, #b62324);
        --color-prettylights-syntax-string-regexp: light-dark(#116329, #7ee787);
        --color-prettylights-syntax-markup-list: light-dark(#3b2300, #f2cc60);
        --color-prettylights-syntax-markup-heading: light-dark(#0550ae, #1f6feb);
        --color-prettylights-syntax-markup-italic: light-dark(#1f2328, #f0f6fc);
        --color-prettylights-syntax-markup-bold: light-dark(#1f2328, #f0f6fc);
        --color-prettylights-syntax-markup-deleted-text: light-dark(#82071e, #ffdcd7);
        --color-prettylights-syntax-markup-deleted-bg: light-dark(#ffebe9, #67060c);
        --color-prettylights-syntax-markup-inserted-text: light-dark(#116329, #aff5b4);
        --color-prettylights-syntax-markup-inserted-bg: light-dark(#dafbe1, #033a16);
        --color-prettylights-syntax-markup-changed-text: light-dark(#953800, #ffdfb6);
        --color-prettylights-syntax-markup-changed-bg: light-dark(#ffd8b5, #5a1e02);
        --color-prettylights-syntax-markup-ignored-text: light-dark(#d1d9e0, #f0f6fc);
        --color-prettylights-syntax-markup-ignored-bg: light-dark(#0550ae, #1158c7);
        --color-prettylights-syntax-meta-diff-range: light-dark(#8250df, #d2a8ff);
        --color-prettylights-syntax-sublimelinter-gutter-mark: light-dark(#818b98, #3d444d);

        /* Markdown tokens */
        --active-brightness: #{config.md-config("effects", "active-brightness")};
        --border-radius: #{config.md-config("shape", "border-radius")};
        --box-shadow: #{config.md-config("shape", "box-shadow")};
        --color-accent: #{config.md-light-dark("accent")};
        --color-bg: #{config.md-light-dark("bg")};
        --color-bg-secondary: #{config.md-light-dark("bg-secondary")};
        --color-link: #{config.md-light-dark("link")};
        --color-secondary: #{config.md-light-dark("secondary")};
        --color-secondary-accent: #{config.md-light-dark("secondary-accent")};
        --color-shadow: #{config.md-light-dark("shadow")};
        --color-table: #{config.md-light-dark("table")};
        --color-text: #{config.md-light-dark("text")};
        --color-text-secondary: #{config.md-light-dark("text-secondary")};
        --color-scrollbar: #{config.md-light-dark("scrollbar")};
        --font-family-emoji-flag-capable: #{config.md-config("font", "emoji")};
        --font-family: #{config.md-config("font", "body")};
        --hover-brightness: #{config.md-config("effects", "hover-brightness")};
        --justify-important: #{config.md-config("layout", "justify-important")};
        --justify-normal: #{config.md-config("layout", "justify-normal")};
        --line-height: #{config.md-config("layout", "line-height")};
        --width-card: #{config.md-config("layout", "widths", "card")};
        --width-card-medium: #{config.md-config("layout", "widths", "card-medium")};
        --width-card-wide: #{config.md-config("layout", "widths", "card-wide")};
        --width-content: #{config.md-config("layout", "widths", "content")};
        --md-scrollbar-size: #{config.md-config("scrollbar", "size")};
    }
}