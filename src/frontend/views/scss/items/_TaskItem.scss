@layer rs-task-item {

    .card {
        display: grid;
        gap: 0px;
        column-gap: 0.75rem;
        grid-template-columns: minmax(0px, max-content) minmax(0px, 1fr) minmax(0px, max-content);
        grid-auto-rows: minmax(0px, max-content);

        align-items: center;
        padding: var(--card-padding);
        border-radius: var(--card-radius);
        box-shadow: none;
        background-color: --c2-surface(0.2, var(--current));
        color: --c2-on-surface(0.0, var(--current));;
        transition: transform 160ms ease, box-shadow 160ms ease, backdrop-filter 160ms ease;
        touch-action: manipulation;
        user-select: none;

        .card-desc {
            box-sizing: border-box;
            display: none; opacity: 0; block-size: 0px; transition: opacity 160ms ease, block-size 160ms ease, display 160ms ease, padding-block 160ms ease;
            transition-behavior: allow-discrete;
            padding-block: 0rem;
        }
    }

    .card[data-open] {
        box-shadow: 0 10px 28px rgba(0,0,0,0.16);

        .card-desc { display: flex; opacity: 1; block-size: max-content; padding-block: 0.5rem; }
        @starting-style { .card-desc { opacity: 0; block-size: 0px; padding-block: 0rem; } }
    }

    .card-avatar {
        inline-size: var(--card-avatar-size);
        block-size: var(--card-avatar-size);
        min-inline-size: var(--card-avatar-size);
        border-radius: 9999px;
        display: grid;
        grid-template-columns: minmax(0px, 1fr);
        grid-template-rows: minmax(0px, 1fr);
        overflow: hidden;
        background-color: --c2-surface(0.05, var(--current));
        background-image: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(0,0,0,0.03));
        box-shadow: 0 2px 6px rgba(0,0,0,0.08) inset;

        place-content: center;
        place-items: center;
        padding: 0px;
        margin: 0px;
        line-height: 0;
        aspect-ratio: 1 / 1;
    }

    .avatar-inner { font-weight: 700; font-size: 1rem; }

    .card-content { display:grid; grid-template-columns: minmax(0px, 1fr); gap: 0.25rem; min-inline-size: 0; }
    .card-title { font-weight: 700; font-size: 1rem; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
    .card-desc { font-size: 0.875rem; color: rgba(17,24,39,0.75); overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; }
    .card-kind { font-size: 0.75rem; color: rgba(17,24,39,0.5); }
    .card-time { font-size: 0.75rem; color: rgba(17,24,39,0.5); }
    .card-props { font-size: 0.75rem; color: rgba(17,24,39,0.5); }

    // variants
    .card[data-variant="purple"] { --current: oklch(from var(--primary, currentColor) l c calc(h + 0) / 1); }
    .card[data-variant="green"] { --current: oklch(from var(--primary, currentColor) l c calc(h + 60) / 1); }
    .card[data-variant="blur"] { --current: oklch(from var(--primary, currentColor) l c calc(h + 120) / 1); backdrop-filter: blur(8px) saturate(120%); }
}
