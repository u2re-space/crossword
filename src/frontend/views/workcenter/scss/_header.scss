@layer view.workcenter.components {
    .workcenter-header {
        display: grid;
        gap: var(--space-sm);
        padding: var(--space-xs) var(--space-md);
        background: var(--color-surface-container-low);
        border: 1px solid var(--color-outline-variant);
        border-radius: var(--radius-lg);
        position: sticky;
        inset-block-start: 0;
        z-index: 2;
        grid-template-columns: [logo] minmax(0, max-content) [controls] minmax(0, 1fr);
        place-content: center;
        place-items: center;

        justify-content: space-between;

        h2 {
            margin: 0;
            font-size: var(--text-base);
            font-weight: var(--font-weight-bold);
            color: var(--color-on-surface);
            letter-spacing: -0.01em;
            white-space: nowrap;
            grid-column: logo;
        }

        @container (max-inline-size: 768px) {
            gap: var(--space-sm);
            padding: var(--space-sm);
            grid-template-columns: [controls] minmax(0, 1fr);

            h2 {
                display: none;
            }
        }

        @container (max-inline-size: 480px) {
            gap: var(--space-xs);
            padding: var(--space-xs);
        }
    }

    .header-controls-disclosure {
        display: block;
        margin: 0;
        padding: 0;
        border: 0;
        inline-size: stretch;
        max-inline-size: stretch;
        grid-column: controls;
    }

    .header-controls-summary {
        display: none;
        align-items: center;
        justify-content: space-between;
        gap: var(--space-sm);
        padding: var(--space-sm) var(--space-sm);
        border-radius: var(--radius-sm);
        background: var(--color-surface-container-low);
        color: var(--color-on-surface);
        font-size: var(--text-base);
        font-weight: var(--font-weight-bold);
        letter-spacing: -0.01em;
        cursor: pointer;
        user-select: none;

        &::-webkit-details-marker {
            display: none;
        }

        &::marker {
            content: "";
        }

        &::after {
            content: "â–¾";
            font-size: var(--text-xs);
            opacity: .8;
            transition: transform 180ms ease;
        }

        @container (max-inline-size: 768px) {
            display: flex;
        }
    }

    .header-controls-disclosure[open] > .header-controls-summary::after {
        transform: rotate(180deg);
    }

    @container (min-inline-size: 769px) {
        .header-controls-disclosure {
            display: contents;

            &::details-content {
                inline-size: stretch;
                display: contents;
            }
        }

        .header-controls-summary {
            display: none;
        }

        .header-controls-disclosure > .control-selectors {
            display: grid;
        }
    }

    .header-controls-disclosure:not([open]) > .control-selectors {
        @container (max-inline-size: 768px) {
            display: none;
        }
    }

    /* Fallback for environments where container queries are unavailable. */
    @media (max-width: 768px) {
        .header-controls-disclosure {
            inline-size: 100%;
        }

        .header-controls-summary {
            display: flex;
        }

        .header-controls-disclosure:not([open]) > .control-selectors {
            display: none;
        }
    }

    .control-selectors {
        display: grid;
        grid-template-columns: repeat(4, minmax(0, 1fr));
        gap: var(--space-md);
        align-items: start;
        max-inline-size: min(min(100%, 64rem), round(up, 100%, 32rem));
        padding: 0px;
        background: var(--color-surface-container-low);
        border-radius: var(--radius-sm);
        inline-size: stretch;
        justify-self: end;

        @container (max-inline-size: 1024px) {
            gap: var(--space-sm);
            padding: var(--space-xs);
            grid-template-columns: repeat(2, minmax(0, 1fr));
            inline-size: stretch;
        }

        @container (max-inline-size: 900px) {
            gap: var(--space-sm);
            grid-template-columns: repeat(2, minmax(0, 1fr));
            inline-size: stretch;
        }

        @container (max-inline-size: 768px) {
            gap: var(--space-xs);
            grid-template-columns: minmax(0, 1fr);
            inline-size: stretch;
        }

        @container (max-inline-size: 480px) {
            gap: var(--space-xs);
            padding: var(--space-xs);
            grid-template-columns: minmax(0, 1fr);
            inline-size: stretch;
        }
    }

    .format-selector,
    .language-selector,
    .recognition-selector,
    .processing-selector {
        display: grid;
        grid-template-columns: minmax(0, 1fr) minmax(0, 8rem);
        gap: var(--space-sm);
        inline-size: stretch;
        min-inline-size: fit-content;
        max-inline-size: stretch;
        padding: var(--space-xs) var(--space-sm);
        border-radius: var(--radius-sm);
        background: var(--color-surface);
        color: var(--color-on-surface);
        font-size: var(--text-sm);
        font-weight: var(--font-weight-medium);
        font-family: var(--font-family);
        place-content: center;
        place-items: center;
        overflow: hidden;

        select {
            inline-size: 100%;
            min-block-size: 2.25rem;
            padding: var(--space-sm);
            text-overflow: ellipsis;
            overflow: hidden;
            white-space: nowrap;
        }

        label {
            font-size: var(--text-xs);
            color: var(--color-on-surface-variant);
            white-space: nowrap;
            flex-wrap: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            max-inline-size: stretch;
        }

        @container (max-inline-size: 900px) {
            font-size: var(--text-xs);
            padding: var(--space-xs);
            gap: var(--space-xs);
        }

        @container (max-inline-size: 768px) {
            gap: var(--space-sm);
        }

        @container (max-inline-size: 640px) {
            gap: var(--space-xs);
        }
    }
}