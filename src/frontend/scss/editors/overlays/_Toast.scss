//
@use "../../core/colorize" as *;

//
@layer rs-overlays-toast {

    // Enhanced toast layer
    #rs-toast-layer {
        position: fixed;
        inset-inline: var(--space-lg);
        inset-block-end: var(--space-xl);
        display: grid;
        gap: var(--space-md);
        justify-items: end;
        pointer-events: none;
        z-index: 10000;
        max-inline-size: min(92vw, 26.25rem);
        place-content: center;
        place-items: center;
    }

    // Enhanced toast styling
    .rs-toast {
        --toast-radius: var(--radius-lg);
        --toast-shadow: 0 18px 48px rgba(10, 10, 16, 0.32);

        display: inline-flex;
        align-items: center;
        gap: var(--space-md);
        padding: var(--space-sm) var(--space-lg);
        border-radius: var(--toast-radius);
        backdrop-filter: blur(16px) saturate(140%);
        box-shadow: var(--toast-shadow);
        color: white;
        font-weight: 500;
        letter-spacing: 0.01em;
        pointer-events: auto;
        opacity: 0;
        transform: translateY(1rem) scale(0.96);
        background: oklch(from var(--current, #171C3A) l c h / 0.32) oklch(from rgba(14, 18, 36, 0.85) l c h / 1);
        border: 1px solid oklch(from var(--current, #171C3A) l c h / 0.4);

        @include font-style("&", ("size": "base"));

        transition:
            opacity var(--transition-slow),
            transform var(--transition-slow);

        &[data-visible] {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        // Enhanced toast variants
        &[data-kind="success"] {
            --current: var(--color-success);
            background: oklch(from var(--color-success) l c h / 0.24); //oklch(from var(--color-success-dark) l c h / 1);
            border-color: oklch(from var(--color-success) l c h / 0.46);
        }

        &[data-kind="warning"] {
            --current: var(--color-warning);
            background: oklch(from var(--color-warning) l c h / 0.24); //oklch(from var(--color-warning-dark) l c h / 1);
            border-color: oklch(from var(--color-warning) l c h / 0.46);
        }

        &[data-kind="error"] {
            --current: var(--color-error);
            background: oklch(from var(--color-error) l c h / 0.26); //oklch(from var(--color-error-dark) l c h / 1);
            border-color: oklch(from var(--color-error) l c h / 0.46);
        }

        &:active {
            transform: translateY(0) scale(0.98);
        }
    }

    @media (prefers-reduced-motion: reduce) {
        .rs-toast {
            transition-duration: 0ms;
            transform: translateY(0);
        }
    }
}
