// Enhanced DateTime Field Editor with modern design patterns
@use "veela-lib" as *;

//
@layer rs-fields-datetime {

    // Main datetime editor container
    .datetime-editor {
        display: grid;
        gap: var(--space-sm);
        container-type: inline-size;
        min-inline-size: 0;
    }

    // Input group with improved responsive design
    .datetime-inputs {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(8rem, 1fr));
        gap: var(--space-sm);
        align-items: center;

        input {
            @include form-field-base;

            & {
                min-inline-size: 0;
                font-variant-numeric: tabular-nums;
            }

            &:where([type="date"], [type="time"], [type="datetime-local"]) {
                padding-inline-end: calc(var(--space-lg) * 2);
            }
        }
    }

    // Error state styling
    .datetime-error {
        --current: var(--color-error);

        display: flex;
        align-items: center;
        gap: var(--space-xs);
        padding: var(--space-xs) var(--space-sm);
        border-radius: var(--radius-sm);

        @include solid-colorize("&");
        @include font-style("&", ("size": "sm"));
    }

    // Format indicator
    .datetime-format {
        font-style: italic;
        padding: var(--space-xs) var(--space-sm);
        border-radius: var(--radius-xs);

        @include solid-colorize("&", ("shade": 0.02));
        @include font-style("&", ("size": "xs"));
    }

    // Placeholder state
    .datetime-editor-placeholder {
        padding: var(--space-md);
        border-radius: var(--radius-md);
        text-align: center;

        @include solid-colorize("&", ("shade": 0.01));
        @include font-style("&", ("size": "sm"));
    }

    // Enhanced responsive design
    @container (max-inline-size: 30rem) {
        .datetime-inputs {
            grid-template-columns: 1fr;
            gap: var(--space-xs);
        }
    }

    @container (max-inline-size: 20rem) {
        .datetime-editor {
            gap: var(--space-xs);
        }

        .datetime-inputs input {
            padding: calc(var(--space-sm) * 0.8) var(--space-sm);
        }
    }

    // Accessibility improvements
    @media (prefers-reduced-motion: reduce) {
        .datetime-inputs input,
        .datetime-error,
        .datetime-format {
            transition-duration: 0ms;
        }
    }

    // High contrast mode
    @media (prefers-contrast: high) {
        .datetime-inputs input {
            border-width: 2px;
        }

        .datetime-error {
            border: 2px solid var(--border-color);
        }
    }
}