@layer print-view {
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

  :root {
    --print-font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --print-font-mono: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    --print-text-color: #1a1a1a;
    --print-bg: #ffffff;
    --print-border-color: #d1d5db;
    --print-link-color: #2563eb;
  }

  * {
    box-sizing: border-box;
  }

  html, body {
    margin: 0;
    padding: 0;
    background: var(--print-bg);
    color: var(--print-text-color);
    font-family: var(--print-font-family);
    line-height: 1.6;
    font-size: 14px;
  }

  .print-view {
    max-width: none;
    padding: 0;
  }

  .print-header {
    margin-bottom: 2rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid var(--print-border-color);
  }

  .print-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--print-text-color);
    margin: 0;
    line-height: 1.2;
  }

  .print-content {
    font-size: 14px;
    line-height: 1.6;
  }

  /* Markdown styling for print */
  .markdown-body {
    h1, h2, h3, h4, h5, h6 {
      color: var(--print-text-color);
      margin-top: 1.5em;
      margin-bottom: 0.5em;
      line-height: 1.2;
      page-break-after: avoid;
    }

    h1 {
      font-size: 2rem;
      border-bottom: 2px solid var(--print-border-color);
      padding-bottom: 0.5rem;
    }

    h2 {
      font-size: 1.5rem;
      border-bottom: 1px solid var(--print-border-color);
      padding-bottom: 0.25rem;
    }

    h3 { font-size: 1.25rem; }
    h4 { font-size: 1.125rem; }
    h5 { font-size: 1rem; }
    h6 { font-size: 0.875rem; }

    p, ul, ol, blockquote {
      margin-bottom: 1rem;
      orphans: 3;
      widows: 3;
    }

    ul, ol {
      padding-left: 1.5rem;
    }

    li {
      margin-bottom: 0.25rem;
    }

    code {
      background: #f3f4f6;
      padding: 0.125rem 0.25rem;
      border-radius: 0.25rem;
      font-family: var(--print-font-mono);
      font-size: 0.875em;
      word-wrap: break-word;
    }

    pre {
      background: #f3f4f6;
      padding: 1rem;
      border-radius: 0.5rem;
      overflow-x: auto;
      margin: 1rem 0;
      page-break-inside: avoid;
    }

    pre code {
      background: none;
      padding: 0;
      border-radius: 0;
      white-space: pre-wrap;
      word-wrap: break-word;
    }

    blockquote {
      border-left: 4px solid var(--print-border-color);
      padding-left: 1rem;
      color: #6b7280;
      font-style: italic;
      margin: 1rem 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1rem 0;
      page-break-inside: avoid;
    }

    th, td {
      border: 1px solid var(--print-border-color);
      padding: 0.5rem;
      text-align: left;
      vertical-align: top;
    }

    th {
      background: #f9fafb;
      font-weight: 600;
    }

    hr {
      border: none;
      border-top: 1px solid var(--print-border-color);
      margin: 2rem 0;
      page-break-after: avoid;
    }

    img {
      max-width: 100%;
      height: auto;
      page-break-inside: avoid;
    }

    a {
      color: var(--print-link-color);
      text-decoration: underline;
      word-wrap: break-word;
    }

    strong, b {
      font-weight: 600;
    }

    em, i {
      font-style: italic;
    }
  }

  /* Print-specific media queries */
  @media print {
    html, body {
      font-size: 12px;
      line-height: 1.4;
    }

    .print-view {
      padding: 0;
    }

    .print-header {
      margin-bottom: 1rem;
    }

    .print-title {
      font-size: 1.5rem;
    }

    /* Page setup */
    @page {
      size: A4;
      margin: 2.5cm 2cm 2.5cm 2cm;
    }

    /* Hide elements during print */
    .no-print {
      display: none !important;
    }

    /* Ensure links don't show URLs */
    a[href]:after {
      content: none !important;
    }

    /* Better page breaks */
    h1, h2, h3 {
      page-break-after: avoid;
    }

    p, blockquote, ul, ol {
      orphans: 3;
      widows: 3;
    }

    pre, table, img {
      page-break-inside: avoid;
    }
  }

  /* Dark mode support for print preview */
  @media (prefers-color-scheme: dark) {
    :root {
      --print-text-color: #f3f4f6;
      --print-bg: #111827;
      --print-border-color: #374151;
      --print-link-color: #60a5fa;
    }

    .markdown-body {
      code, pre {
        background: #1f2937;
        color: #f3f4f6;
      }

      th {
        background: #374151;
      }
    }
  }
}