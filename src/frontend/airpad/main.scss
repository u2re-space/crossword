@layer reset, theme, layout, components, utilities;

/* ==========================================================================
   RESET LAYER - Global resets and base styles
   ========================================================================== */

@layer reset {
    *,
    *::before,
    *::after {
        box-sizing: border-box;
    }

    html {
        -webkit-tap-highlight-color: transparent;
        touch-action: manipulation;
        user-select: none;
        -webkit-user-select: none;
    }

    body {
        margin: 0;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        background: var(--surface);
        color: var(--on-surface);
        display: flex;
        flex-direction: column;
        min-block-size: 100vb;
        position: relative;
        line-height: 1.5;
    }
}

/* ==========================================================================
   THEME LAYER - Material You inspired color system and design tokens
   ========================================================================== */

@layer theme {
    :root {
        /* Material You color system */
        --primary: #0061a4;
        --primary-container: #d1e4ff;
        --on-primary: #ffffff;
        --on-primary-container: #001d36;

        --secondary: #565f71;
        --secondary-container: #dae2f9;
        --on-secondary: #ffffff;
        --on-secondary-container: #131c2b;

        --tertiary: #705575;
        --tertiary-container: #fbd7fc;
        --on-tertiary: #ffffff;
        --on-tertiary-container: #28132e;

        --error: #ba1a1a;
        --error-container: #ffdad6;
        --on-error: #ffffff;
        --on-error-container: #410002;

        /* Surface system */
        --surface: #0f1419;
        --surface-variant: #1e2124;
        --surface-container: #1a1d20;
        --on-surface: #e0e2e8;
        --on-surface-variant: #bfc8cc;

        /* Outline system - reduced contrast */
        --outline: #40484c;
        --outline-variant: #2a3236;

        /* Shadow system */
        --shadow: rgba(0, 0, 0, 0.5);
        --elevation-1: 0 1px 2px 0 rgba(0, 0, 0, 0.30), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
        --elevation-2: 0 1px 2px 0 rgba(0, 0, 0, 0.30), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
        --elevation-3: 0 1px 3px 0 rgba(0, 0, 0, 0.30), 0 4px 8px 3px rgba(0, 0, 0, 0.15);
        --elevation-4: 0 2px 3px 0 rgba(0, 0, 0, 0.30), 0 6px 10px 4px rgba(0, 0, 0, 0.15);

        /* State layers - Material You interaction states */
        --state-hover: rgba(255, 255, 255, 0.08);
        --state-focus: rgba(255, 255, 255, 0.12);
        --state-pressed: rgba(255, 255, 255, 0.10);
        --state-selected: rgba(255, 255, 255, 0.16);

        /* Spacing system */
        --space-1: 0.25rem;
        --space-2: 0.5rem;
        --space-3: 0.75rem;
        --space-4: 1rem;
        --space-5: 1.25rem;
        --space-6: 1.5rem;
        --space-8: 2rem;
        --space-10: 2.5rem;
        --space-12: 3rem;
        --space-16: 4rem;

        /* Border radius - Material You shape system */
        --radius-xs: 0.25rem;
        --radius-sm: 0.5rem;
        --radius-md: 0.75rem;
        --radius-lg: 1rem;
        --radius-xl: 1.5rem;
        --radius-full: 9999px;

        /* Typography */
        --text-xs: 0.75rem;
        --text-sm: 0.875rem;
        --text-base: 1rem;
        --text-lg: 1.125rem;
        --text-xl: 1.25rem;
        --text-2xl: 1.5rem;
        --text-3xl: 1.875rem;

        --font-weight-normal: 400;
        --font-weight-medium: 500;
        --font-weight-semibold: 600;
        --font-weight-bold: 700;

        /* Transitions - Material You motion */
        --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
        --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
        --transition-slow: 400ms cubic-bezier(0.4, 0, 0.2, 1);
    }
}

/* ==========================================================================
   LAYOUT LAYER - Page layout and positioning
   ========================================================================== */

@layer layout {
    .container {
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-start;
        padding: var(--space-4) var(--space-4) calc(var(--space-16) + var(--space-6));
        gap: var(--space-4);
        inline-size: 100%;
        margin: 0 auto;
        position: relative;
    }

    .bottom-toolbar {
        position: fixed;
        inset-inline-start: var(--space-4);
        inset-block-end: var(--space-4);
        display: flex;
        gap: var(--space-3);
        align-items: center;
        z-index: 10;
    }
}

/* ==========================================================================
   COMPONENTS LAYER - Material You inspired component styles
   ========================================================================== */

@layer components {

    /* Primary button - Material You filled button */
    .primary-btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: var(--space-2);
        padding: var(--space-3) var(--space-5);
        border: none;
        border-radius: var(--radius-lg);
        background: var(--primary);
        color: var(--on-primary);
        font-family: inherit;
        font-size: var(--text-base);
        font-weight: var(--font-weight-medium);
        line-height: 1;
        cursor: pointer;
        touch-action: manipulation;
        user-select: none;
        -webkit-user-select: none;
        box-shadow: var(--elevation-2);
        transition: all var(--transition-fast);
        text-decoration: none;
        min-inline-size: 12rem;

        &:hover {
            background: color-mix(in srgb, var(--primary), black 8%);
            transform: translateY(-1px);
            box-shadow: var(--elevation-3);
        }

        &:active {
            background: color-mix(in srgb, var(--primary), black 12%);
            transform: scale(0.98) translateY(0);
            box-shadow: var(--elevation-1);
        }

        &:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
            box-shadow: var(--elevation-2), 0 0 0 4px color-mix(in srgb, var(--primary), transparent 20%);
        }

        &:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
            transform: none;
            box-shadow: var(--elevation-1);
        }
    }

    /* Toolbar button - Material You extended FAB */
    .toolbar-btn {
        inline-size: 3.25rem;
        block-size: 3.25rem;
        border-radius: var(--radius-xl);
        background: var(--surface-variant);
        border: 1px solid var(--outline-variant);
        color: var(--on-surface-variant);
        font-size: 1.375rem;
        box-shadow: var(--elevation-3);
        transition: all var(--transition-fast);

        &:hover {
            background: color-mix(in srgb, var(--surface-variant), var(--state-hover));
            transform: translateY(-2px);
            box-shadow: var(--elevation-4);
        }

        &:active {
            transform: scale(0.96) translateY(0);
            box-shadow: var(--elevation-2);
        }

        &:focus-visible {
            outline: 2px solid var(--primary);
            outline-offset: 2px;
        }
    }

    /* Status indicator - Material You chip */
    .ws-status {
        display: inline-flex;
        align-items: center;
        gap: var(--space-2);
        padding: var(--space-1) var(--space-3);
        border-radius: var(--radius-full);
        font-size: var(--text-xs);
        font-weight: var(--font-weight-medium);
        text-transform: uppercase;
        letter-spacing: 0.025em;

        &.ws-status-ok {
            background: color-mix(in srgb, var(--primary), transparent 20%);
            color: var(--primary);
        }

        &.ws-status-bad {
            background: color-mix(in srgb, var(--error), transparent 20%);
            color: var(--error);
        }
    }

    /* Clipboard preview - Material You card */
    .clipboard-preview {
        position: fixed;
        inset-inline: var(--space-4);
        inset-block-end: calc(var(--space-16) + var(--space-4));
        z-index: 9;
        background: var(--surface);
        border: 1px solid var(--outline-variant);
        border-radius: var(--radius-lg);
        padding: var(--space-3) var(--space-4);
        font-size: var(--text-sm);
        color: var(--on-surface);
        max-inline-size: 47.5rem;
        margin: 0 auto;
        inset-inline-start: 50%;
        transform: translateX(-50%);
        inline-size: calc(100% - var(--space-8));
        max-block-size: 4rem;
        overflow: hidden;
        box-shadow: var(--elevation-3);
        display: none;

        &.visible {
            display: block;
        }

        .meta {
            font-size: var(--text-xs);
            color: var(--on-surface-variant);
            margin-block-end: var(--space-1);
        }

        .text {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
    }

    /* Configuration overlay - Material You dialog */
    .config-overlay {
        position: fixed;
        inset: 0;
        background: color-mix(in srgb, var(--shadow), transparent 40%);
        backdrop-filter: blur(8px);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 1000;

        &.flex {
            display: flex;
        }
    }

    .config-panel {
        background: var(--surface);
        border: 1px solid var(--outline-variant);
        border-radius: var(--radius-xl);
        padding: var(--space-6);
        max-inline-size: 25rem;
        inline-size: calc(100vw - var(--space-8));
        box-shadow: var(--elevation-5);

        h3 {
            margin: 0 0 var(--space-4) 0;
            font-size: var(--text-xl);
            font-weight: var(--font-weight-semibold);
            color: var(--on-surface);
        }
    }

    .config-group {
        margin-block-end: var(--space-4);

        label {
            display: block;
            margin-block-end: var(--space-2);
            font-size: var(--text-sm);
            font-weight: var(--font-weight-medium);
            color: var(--on-surface);
        }

        input,
        textarea,
        select {
            inline-size: 100%;
            padding: var(--space-3) var(--space-4);
            background: var(--surface-variant);
            border: 1px solid var(--outline-variant);
            border-radius: var(--radius-md);
            color: var(--on-surface);
            font-family: inherit;
            font-size: var(--text-sm);
            transition: all var(--transition-fast);
            box-sizing: border-box;

            &:hover {
                border-color: var(--outline);
            }

            &:focus {
                outline: none;
                border-color: var(--primary);
                box-shadow: 0 0 0 3px color-mix(in srgb, var(--primary), transparent 20%);
            }

            &::placeholder {
                color: var(--on-surface-variant);
                opacity: 0.7;
            }
        }
    }

    .config-actions {
        display: flex;
        gap: var(--space-3);
        margin-block-start: var(--space-5);
        justify-content: flex-end;
    }

    /* Log overlay - Material You dialog */
    .log-overlay {
        position: fixed;
        inset: 0;
        display: none;
        align-items: center;
        justify-content: center;
        background: color-mix(in srgb, var(--shadow), transparent 35%);
        backdrop-filter: blur(12px);
        z-index: 11;
        padding: var(--space-4);

        &.open {
            display: flex;
        }
    }

    .log-panel {
        inline-size: min(35rem, calc(100vw - var(--space-8)));
        max-block-size: calc(100vb - var(--space-8));
        background: var(--surface);
        border: 1px solid var(--outline-variant);
        border-radius: var(--radius-xl);
        box-shadow: var(--elevation-5);
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    .log-overlay-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: var(--space-3) var(--space-4);
        border-block-end: 1px solid var(--outline-variant);
        font-size: var(--text-sm);
        font-weight: var(--font-weight-semibold);
    }

    .ghost-btn {
        padding: var(--space-2) var(--space-3);
        background: var(--surface-variant);
        color: var(--on-surface-variant);
        border: 1px solid var(--outline-variant);
        border-radius: var(--radius-lg);
        cursor: pointer;
        font-size: var(--text-xs);

        &:active {
            filter: brightness(0.92);
        }
    }

    .log-container {
        flex: 1;
        padding: var(--space-4) var(--space-5);
        overflow-y: auto;
        font-family: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
        font-size: var(--text-xs);
        line-height: 1.5;
        color: var(--on-surface);
        max-block-size: 25rem;
    }

    /* Hero section - Material You layout */
    .hero {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: var(--space-3);
        inline-size: 100%;
        text-align: center;

        h1 {
            margin: var(--space-1) 0 var(--space-1);
            font-size: var(--text-2xl);
            font-weight: var(--font-weight-bold);
            color: var(--on-surface);
            line-height: 1.2;
        }

        .subtitle {
            font-size: var(--text-base);
            color: var(--on-surface-variant);
            line-height: 1.6;
            max-inline-size: 38.75rem;
        }
    }

    /* Status bar - Material You layout */
    .status-bar {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: var(--space-3);
        font-size: var(--text-sm);
        color: var(--on-surface-variant);
        margin-block-end: var(--space-1);

        .status-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);

            span.value {
                font-weight: var(--font-weight-semibold);
                margin-inline-start: var(--space-1);
            }
        }
    }

    /* Big interactive buttons - Material You filled buttons */
    .big-button {
        inline-size: 10rem;
        block-size: 10rem;
        border-radius: var(--radius-full);
        background: var(--surface-variant);
        color: var(--on-surface-variant);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        user-select: none;
        -webkit-user-select: none;
        touch-action: none;
        font-size: 1.125rem;
        font-weight: var(--font-weight-semibold);
        box-shadow: var(--elevation-3);
        transition: all var(--transition-normal);
        border: none;
        cursor: pointer;

        &:hover {
            transform: scale(1.02);
            box-shadow: var(--elevation-4);
        }

        &:active {
            transform: scale(0.98);
            box-shadow: var(--elevation-2);
        }

        &.active {
            box-shadow: var(--elevation-4), 0 0 0 4px color-mix(in srgb, var(--primary), transparent 20%);
        }

        &.air {
            background: radial-gradient(circle at 30% 30%, var(--surface-variant), color-mix(in srgb, var(--surface-variant), black 20%));

            &.active {
                background: radial-gradient(circle at 30% 30%, var(--primary), color-mix(in srgb, var(--primary), black 20%));
            }
        }

        &.ai {
            background: radial-gradient(circle at 30% 30%, var(--secondary), color-mix(in srgb, var(--secondary), black 20%));

            &.active {
                background: radial-gradient(circle at 30% 30%, var(--secondary), color-mix(in srgb, var(--secondary), black 10%));
                animation: pulse 2s infinite;
            }
        }

        &.air-move {
            background: radial-gradient(circle at 30% 30%, var(--primary), color-mix(in srgb, var(--primary), black 20%));
        }

        &.ai.listening {
            background: radial-gradient(circle at 30% 30%, var(--error), color-mix(in srgb, var(--error), black 20%));
            box-shadow: var(--elevation-4), 0 0 0 4px color-mix(in srgb, var(--error), transparent 20%);
        }
    }

@keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.8; }
}

.air-block,
.ai-block {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
}

.ai-block {
    margin-block-end: 0.75rem;
}

.label {
    font-size: 1rem;
    color: #bfc8cc;
    text-align: center;
    line-height: 1.4;
}

.voice-line {
    inline-size: 100%;
    max-inline-size: 560px;
    font-size: 1rem;
    color: #e0e2e8;
    margin-block-start: 0.25rem;
    text-align: center;
    min-block-size: 18px;
}

.hint {
    font-size: 1rem;
    color: #bfc8cc;
    margin-block-start: 0.75rem;
    text-align: center;
    max-inline-size: 560px;

    ul {
        padding-inline-start: 1.25rem;
        margin: 0.25rem 0 0;
    }

    li {
        margin-block-start: 0.25rem;
    }
}

    /* Stage layout - Material You layout */
    .stage {
        flex: 1;
        inline-size: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-end;
        gap: var(--space-8);
        min-block-size: 20rem;
    }

    .air-block,
    .ai-block {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: var(--space-2);
    }

    .ai-block {
        margin-block-end: var(--space-3);
    }

    /* Label component - Material You typography */
    .label {
        font-size: var(--text-sm);
        color: var(--on-surface-variant);
        text-align: center;
        line-height: 1.4;
    }

    /* Voice line - Material You body text */
    .voice-line {
        inline-size: 100%;
        max-inline-size: 35rem;
        font-size: var(--text-base);
        color: var(--on-surface);
        margin-block-start: var(--space-1);
        text-align: center;
        min-block-size: 1.125rem;
    }

    /* Hint section - Material You body text */
    .hint {
        font-size: var(--text-sm);
        color: var(--on-surface-variant);
        margin-block-start: var(--space-3);
        text-align: center;
        max-inline-size: 35rem;

        ul {
            padding-inline-start: var(--space-5);
            margin: var(--space-1) 0 0;
        }

        li {
            margin-block-start: var(--space-1);
        }
    }
}

/* ==========================================================================
   UTILITIES LAYER - Utility classes and responsive adjustments
   ========================================================================== */

@layer utilities {

.side-log-toggle {
    position: fixed;
    inset-inline-end: 1rem;
    inset-block-start: 50%;
    transform: translateY(-50%);
    padding: 0.75rem 1rem;
    font-size: 0.875rem;
    background: #40484c;
    color: #e0e2e8;
    border: 1px solid #40484c;
    border-radius: 1rem;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.30), 0 4px 8px 3px rgba(0, 0, 0, 0.15);
    cursor: pointer;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 12;

    &:active {
        transform: translateY(-50%) scale(0.98);
    }
}

.neighbor-button {
    inline-size: 60px;
    block-size: 60px;
    border-radius: 9999px;
    background: #40484c;
    color: #e0e2e8;
    border: 1px solid #40484c;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    -webkit-user-select: none;
    touch-action: manipulation;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.30), 0 2px 6px 2px rgba(0, 0, 0, 0.15);

    &:active {
        transform: scale(0.95);
        background: #353d41;
    }
}

.air-button-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

/* Virtual keyboard styles */
.keyboard-toggle {
    position: fixed;
    inset-block-end: 1.25rem;
    inset-inline-end: 1.25rem;
    inline-size: 56px;
    block-size: 56px;
    border-radius: 9999px;
    background: linear-gradient(135deg, #0061a4, #004d7a);
    color: white;
    border: none;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.30), 0 6px 10px 4px rgba(0, 0, 0, 0.15);
    z-index: 10;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    touch-action: manipulation;
    user-select: none;
    -webkit-user-select: none;

    &:active {
        transform: scale(0.95);
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.30), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
    }
}

.keyboard-toggle-editable {
    caret-color: transparent;
    outline: none;
    color: transparent !important;
    text-shadow: none !important;
    overflow: hidden;

    &::before {
        content: '⌨️';
        position: absolute;
        inset-inline-start: 50%;
        inset-block-start: 50%;
        transform: translate(-50%, -50%);
        pointer-events: none;
        z-index: 2;
        font-size: 24px;
        color: white;
        line-height: 1;
    }

    &:focus {
        caret-color: transparent;
    }

    &:focus::after {
        content: '';
        position: absolute;
        inset: 0;
        border-radius: 9999px;
        box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);
        pointer-events: none;
        z-index: 1;
    }
}

.virtual-keyboard-container {
    position: fixed;
    inset: 0;
    //background: #0f1419;
    background: transparent;
    //border-block-start: 1px solid #40484c;
    //box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.5);
    z-index: 1000;
    transform: translateY(100%);
    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);
    max-block-size: 50vh;
    display: flex;
    flex-direction: column;
    pointer-events: none;

    &.visible {
        transform: translateY(0);
    }
}

.keyboard-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0.5rem 0.75rem;
    border-block-end: 1px solid #40484c;
}

.keyboard-close {
    background: transparent;
    border: none;
    color: #bfc8cc;
    font-size: 20px;
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    line-height: 1;

    &:active {
        color: #e0e2e8;
    }
}

.keyboard-tabs {
    display: flex;
    gap: 0.5rem;
}

.keyboard-tab {
    padding: 0.5rem 0.75rem;
    background: #40484c;
    border: none;
    border-radius: 0.75rem;
    color: #bfc8cc;
    font-size: 0.875rem;
    cursor: pointer;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);

    &.active {
        background: #0061a4;
        color: white;
    }
}

.keyboard-content {
    flex: 1;
    overflow-y: auto;
    padding: 0.5rem;
}

.keyboard-panel {
    display: none;

    &.active {
        display: block;
    }
}

.keyboard-shift-container {
    margin-block-end: 0.5rem;
}

.keyboard-shift {
    inline-size: 100%;
    padding: 0.5rem 1rem;
    background: #40484c;
    border: 1px solid #40484c;
    border-radius: 0.75rem;
    color: #bfc8cc;
    font-size: 1rem;
    cursor: pointer;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);

    &.active {
        background: #0061a4;
        color: white;
    }
}

.keyboard-rows {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-block-end: 0.5rem;
}

.keyboard-row {
    display: flex;
    gap: 0.25rem;
    justify-content: center;
}

.keyboard-key {
    flex: 1;
    min-inline-size: 32px;
    max-inline-size: 48px;
    block-size: 44px;
    background: #40484c;
    border: 1px solid #40484c;
    border-radius: 0.75rem;
    color: #e0e2e8;
    font-size: 1rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    touch-action: manipulation;
    user-select: none;

    &:active {
        background: #0061a4;
        color: white;
        transform: scale(0.95);
    }

    &.special {
        flex: 2;
        max-inline-size: none;
        font-size: 0.875rem;
    }

    &.space {
        flex: 4;
    }
}

.keyboard-special {
    display: flex;
    gap: 0.25rem;
    margin-block-start: 0.5rem;
}

.emoji-categories {
    display: flex;
    gap: 0.5rem;
    margin-block-end: 0.75rem;
    flex-wrap: wrap;
}

.emoji-category-btn {
    padding: 0.5rem 0.75rem;
    background: #40484c;
    border: none;
    border-radius: 0.75rem;
    color: #bfc8cc;
    font-size: 0.75rem;
    cursor: pointer;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);

    &.active {
        background: #0061a4;
        color: white;
    }
}

.emoji-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(44px, 1fr));
    gap: 0.5rem;
    max-block-size: 200px;
    overflow-y: auto;
}

.emoji-key {
    inline-size: 44px;
    block-size: 44px;
    background: #40484c;
    border: 1px solid #40484c;
    border-radius: 0.75rem;
    font-size: 24px;
    cursor: pointer;
    transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    touch-action: manipulation;
    display: flex;
    align-items: center;
    justify-content: center;

    &:active {
        background: #0061a4;
        transform: scale(0.95);
    }
}

/* Responsive adjustments */
@media (max-width: 520px) {
    .big-button {
        inline-size: 140px;
        block-size: 140px;
        border-radius: 9999px;
    }

    .neighbor-button {
        inline-size: 50px;
        block-size: 50px;
        border-radius: 9999px;
        font-size: 0.875rem;
    }

    .air-button-container {
        gap: 0.75rem;
    }

    .stage {
        gap: 1.5rem;
    }

    .side-log-toggle {
        inset-inline-end: 0.75rem;
    }

    .bottom-toolbar {
        inset-inline-start: 1rem;
        inset-block-end: 1rem;
        gap: 0.5rem;
    }

    .toolbar-btn {
        inline-size: 48px;
        block-size: 48px;
        border-radius: 1rem;
        font-size: 20px;
    }

    .clipboard-preview {
        inset-block-end: calc(4rem + 1rem);
    }

    .keyboard-toggle {
        inline-size: 48px;
        block-size: 48px;
        border-radius: 9999px;
        font-size: 20px;
        inset-block-end: 1rem;
        inset-inline-end: 1rem;
    }

    .virtual-keyboard-container {
        max-block-size: calc(100vh - 4rem);
    }

    .keyboard-key {
        min-inline-size: 28px;
        max-inline-size: 40px;
        block-size: 40px;
        font-size: 0.875rem;
    }

    .emoji-key {
        inline-size: 40px;
        block-size: 40px;
        font-size: 20px;
    }
}
}