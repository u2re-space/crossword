Предлагаю такую вещь... подключить Web Search и MCP сервера при:
- Составление или генерация расписание (с учётом входящих переменных).
- В фазе resolve entity type поиск в MCP данных (дополнение), а также при анализе и распознавании.
- По умолчанию, использовать форматы вроде Markdown (description, описания), а также JSON.

В Service Worker лучше подгружать то самое расписание на трекинг по текущему времени, чтобы получать уведомления.
- В системе share target нужно провести 3 стадии, но в 4 стадию вынести, которую объединяет те данные, которые уже есть.
- Просто Push to FS заменить как раз на ту самую новую фазу или стадию обработки данных.
- Предлагаю вынести related entity (для бонусов) в 4 отдельную фазу или стадию, как и список существующих данных.

Те три фазы (доступны в service worker), всё проходит через ИИ:
- Распознавание или анализ данных (первичное, свободное преобразование, например в Markdown), иногда возможно обращение к MCP и WebSearch для лучшей детальности
- Выделение типа сущности (entity type), а после под-вида или под-типа, а также с чем может касаться (промежуточная стадия).
- Вывод этой сущности в специальную базу приложения (про-анализированные данные), с возможным дополнением и заполнением.
- Ну о 4-й фазе говорил, это уже уточнение, merging, связывание с другими ветвями...

И да, 4-ая фаза не доступна в service worker. Также её можно было бы сделать ручной функцией.
